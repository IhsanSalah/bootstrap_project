"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["57079"],{591503:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r=(n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[l,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t,type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});r.hash="c59b0c8f1e2d8941637eb8ebc540d999";let s=r},888711:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,l,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},351786:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let l=n},414201:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let l=n},684517:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="0122ac469895f29aa7d039970fa36eb0";let l=n},947597:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};l.hash="3fa8620068a79dc4a73dbbcde3f352f9";let t=l},162416:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},l,t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e1e37c221693c863e8ed160cd9265c59";let s=r},407526:function(e,a,i){var n,l,t,r;i.r(a),i.d(a,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{args:null,kind:"FragmentSpread",name:"useIsBoardOwnerOrCollaborator_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="938de64031f2b7f2642122fe65f36268";let o=s},879971:function(e,a,i){var n,l,t;i.r(a),i.d(a,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[l={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},l,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="28ab0b1e7aa7707dbaca4eab96280169";let s=r},222769:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>u});let c={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[l={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},l,r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},t,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};c.hash="2be523d18cdb97a01003da320f0cb7d3";let u=c},675112:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};l.hash="39a7882a66a91ae06ef6da7137136e67";let t=l},589308:function(e,a,i){var n,l;i.r(a),i.d(a,{default:()=>r});let t=(l=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCommentsAccordion_pin",selections:[n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null}],type:"Pin",abstractKey:null});t.hash="7b93dc8732e3dc9764f0322a05c18386";let r=t},718972:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let l=n},883229:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="ab1d44e9e9493de6e62e369100d61e23";let l=n},842362:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};l.hash="86cb4963f4714e2184c01e13236c3616";let t=l},228674:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};l.hash="20bd5f77ed00d817dd05c61ec8903627";let t=l},158388:function(e,a,i){var n,l,t,r,s,o,d,c,u,p,g,m,h,_,y,f,x,k,S,P,v,b,T,I,w,F,C,A,j,R,K,E,L,D,Z,M,N,B,O,z,U,H,V,G,W,$,Y,q,X,Q,J,ee,ea,ei,en,el,et,er,es,eo,ed,ec,eu,ep,eg,em,eh,e_,ey,ef,ex,ek;i.r(a),i.d(a,{default:()=>eP});let eS=(n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},l={defaultValue:null,kind:"LocalArgument",name:"pinId"},t=[{kind:"Variable",name:"pin",variableName:"pinId"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},d=[o={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],u={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},m=[{kind:"Literal",name:"spec",value:"236x"}],f=[c={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],x={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},K={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[R={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},M=[_,y,c,r],N={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},O=[_,c,y],z=[{kind:"Literal",name:"spec",value:"474x"}],U=[{kind:"Literal",name:"spec",value:"564x"}],H=[{kind:"Literal",name:"spec",value:"736x"}],V={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},G={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},r],storageKey:null}],storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},J={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},ee=[r],ei={alias:"image236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:O,storageKey:null},I],storageKey:'additionalImagesPerSpec(spec:"236x")'},en={alias:"image474x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"474x")'},el={alias:"image564x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"564x")'},et={alias:"image736x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ea,storageKey:'additionalImagesPerSpec(spec:"736x")'},er={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},es=[c],eo=[{kind:"Literal",name:"spec",value:"170x"}],ed=[c,_,y,h],ec=[g,S,F,E,C,j],eu=[F,S],ep={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},ey={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},ef=[eg={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},em={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},p,Q,c],ex={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},ek={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[eg,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},W,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[X,q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},ep],storageKey:null},{fragment:{argumentDefinitions:[n,l],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,n],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[r,{kind:"InlineFragment",selections:[p,g,{alias:"imageSpec_236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[g,x,k,c,S,P,v,b,{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[g,x,k,c,S,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[r,S,g,F,C,A,j,K,E,L,D,Z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},S,g,F,j,C,A,K,E,D,r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r,S,F,j,g,E,C,L,Z],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[g,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[_,y,c,r,N],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:M,storageKey:null},r],storageKey:null},S,r,{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[k,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},w,B,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},I,{alias:"imagesSpec_236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"236x")'},r,{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"236x")'},{alias:"image474x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"474x")'},{alias:"image564x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"564x")'},{alias:"image736x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"736x")'},V],storageKey:null},S,r,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[r,V,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:O,storageKey:null},w],storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},G],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[r,W,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[c,y,_],storageKey:'images(spec:"750x")'},w],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},S,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[V,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[_,N,y,c],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},$,{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r,S,k,c,g],storageKey:null},Y,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[q,X],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[T,p,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[k,J,r,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:ee,storageKey:null}],storageKey:null},ei,en,el,et,er,{alias:"additionalImageSpec_236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:ee,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:ee,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[r,J,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[k],storageKey:null},k,B,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},ei,en,el,et,er,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},r,c],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:z,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ed,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:es,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[c,r,_,y,h],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},S,g],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:ec,storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[F,S,g,E,C,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},j,L,D,Z,A,K],storageKey:null},S,r],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:eu,storageKey:null},S],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[F,S,g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:eu,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[Q],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},S],storageKey:null},{alias:"image236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"236x")'},{alias:"image474x",args:z,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"474x")'},{alias:"image564x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"564x")'},{alias:"image736x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:O,storageKey:'images(spec:"736x")'},ep,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},G,{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[u,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[eg,em,r,c,eh,e_,p,Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},ey,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ef,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ef,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},p,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[ex,ek],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[ex,ek,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[g,k,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,g,S],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},ey],storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:es,storageKey:'images(spec:"170x")'},v,{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},F,E,A,j,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[k,R],storageKey:null},S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[Y,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},Q,c,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:es,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:"image_170x",args:eo,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:es,storageKey:'images(spec:"170x")'}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[g,j],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[S],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[F,A,K,j,E,S],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},$],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"44f9145f6df185213ae2e925233b784e34b4900e65b2330e3d0bf9a0a18178aa",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});eS.hash="ae0dd45720447ea2600d4d0b9300ae1c";let eP=eS;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(eS.default||eS)},575629:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};n.hash="8f5a1016117d8ba33bcd13e6842ad7f2";let l=n},928320:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1dad325a13951c2d1449a683f8133aae";let l=n},630590:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:!0,kind:"LocalArgument",name:"isDesktopParam"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="bf46e3a65912ca9b7ce7b3f9eb1124d9";let l=n},752395:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>u});let c=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},l,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});c.hash="e0961d958eda59cad942eda9890b0f5f";let u=c},958519:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};l.hash="e327c6c7127550a2f17b174cd4dcfa73";let t=l},538283:function(e,a,i){var n,l,t,r,s,o,d;i.r(a),i.d(a,{default:()=>u});let c=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});c.hash="eef39e6b0f08e7de611560c4c4b20a19";let u=c},259553:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let l=n},988605:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};l.hash="3ecf70d7e25decf88c7b8bafd5993b03";let t=l},656203:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};l.hash="efee9cd30f69b524ed9920746ed65ceb";let t=l},45229:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="2eb6a7a4cf67ae04de84ac1b2b5e2715";let l=n},826299:function(e,a,i){var n;i.r(a),i.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};l.hash="120c47eff2cf4911de716b514608718f";let t=l},932202:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsInCloseupShoppingRefinementsExp_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForCloseupOneBarRefinements",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};n.hash="25d061dfff6d75937841f5a3a23e65e0";let l=n},646605:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsShortImage_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateImageContainerDimension_pin"}],type:"Pin",abstractKey:null};n.hash="eb2d45c46c7bd76cf5d4d1f36ec7a044";let l=n},45169:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="1380cc65fb1c2132004a18dee261602e";let l=n},37751:function(e,a,i){i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let l=n},813954:function(e,a,i){i.d(a,{CA:()=>l,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:a,pinPinnerId:i,viewerId:n,viewerIsPartner:l})=>!a&&!!l&&[n,e].includes(i),l=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,a)=>{if(!e)return e;let i=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return i.length<=a?i:Array(a).fill(1).map(()=>{let e=Math.floor(Math.random()*i.length);return i.splice(e,1)[0]})}},734473:function(e,a,i){i.d(a,{K:()=>r,Q:()=>t});var n=i(667294);let l=(0,n.createContext)(null),t=l.Provider;function r(){let e=(0,n.useContext)(l);return e?.featuredCommentId}},382167:function(e,a,i){i.r(a),i.d(a,{default:()=>B});var n,l,t=i(667294),r=i(581722);i(167912);var s=i(883119),o=i(230201),d=i(521367),c=i(422578),u=i(707855);let p=function(e,a,i){switch((0,u.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return a;case"GraphQL":{let e=(0,c.useRelayEnvironment)();return a=>(0,c.commitLocalUpdate)(e,e=>i(e,a))}default:throw Error("Unexpected case")}};var g=i(907022),m=i(138596),h=i(217703),_=i(462867),y=i(133546),f=i(661376),x=i(216975),k=i(893957),S=i(583875),P=i(507006),v=i(894307),b=i(687163),T=i(785893);let I=({creatorData:e,onTap:a,onUserFollow:i})=>{let n=(0,m.ZP)(),l=(0,_.Z)(),{explicitly_followed_by_me:t,follower_count:r=0,full_name:o,id:d,image_medium_url:c,username:u,verified_identity:p,avatar_color_index:g,is_verified_merchant:h}=e||{},y=`/${u}/`;return(0,T.jsx)(s.sg,{span:4,children:(0,T.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,T.jsx)(s.Tg,{href:y,onTap:()=>a(d),children:(0,T.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,T.jsx)(s.xu,{height:60,width:60,children:(0,T.jsx)(S.qE,{color:g,name:o??"",size:"fit",src:c??"",verified:!1})}),(0,T.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,T.jsx)(s.xu,{marginBottom:1,children:(0,T.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:p||h?(0,T.jsx)(b.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:p?.verified,isVerifiedMerchant:h}):o})}),(0,T.jsx)(s.xv,{align:"center",size:"100",children:(0,x.nk)(n.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,T.jsx)(P.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,T.jsx)(v.Z,{fullName:o,id:d,imageUrl:c,isOwnProfile:l.isAuth&&l.id===d,isSecondaryButton:!0,onUserFollow:e=>i({userIsNowFollowing:e,creatorId:d}),profileUrl:`/${u}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:t,viewParameter:156,viewType:3})]})})},w=({creatorRecs:e,fullName:a,pinId:i,viewParameter:n,viewType:l})=>{let{logContextEvent:t}=(0,o.v)(),r=(0,m.ZP)();(0,k.Z)(()=>{t({event_type:13,component:13891,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}})});let d=e=>{t({event_type:101,component:13891,view_parameter:n,view_type:l,object_id_str:e,aux_data:{...i?{pin_id:i}:{}}})},c=({userIsNowFollowing:e,creatorId:a})=>{e?t({event_type:45,component:13891,object_id_str:a,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}}):t({event_type:46,component:13891,object_id_str:a,view_parameter:n,view_type:l,aux_data:{...i?{pin_id:i}:{}}})};return(0,T.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,T.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[a&&(0,T.jsx)(s.X6,{align:"center",size:"300",children:(0,x.nk)(r._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:a})}),(0,T.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,T.jsx)(I,{creatorData:e.user,onTap:d,onUserFollow:c},e.user_id))})]})})},F=3,C=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],A=({fullName:e,id:a,numCreatorsToShow:i=F,pinId:n,viewParameter:l,viewType:t})=>{let r=(0,f.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:C.join(","),page_size:i,referrer:4,target_user:a}}});if(!r.isLoaded||!(r.data&&r.data.length===i))return null;let s=r.data||[];return(0,T.jsx)(w,{creatorRecs:s,fullName:e,pinId:n,viewParameter:l,viewType:t})};var j=i(400962);let R=void 0!==n?n:n=i(259553),K=e=>e.includes("/:username"),E=function(e){let a=function(){let{forward:e}=(0,j.Hv)(),a=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(a&&K(a))}(),i=(0,g.Z)(R,e);if(!a||!i)return{creatorRecsPrevState:!1};{let e=!!i.promotedIsLeadAd,a=i.richSummary?.typeName==="product";return{creatorRecsPrevState:!!i&&!e&&!a&&!!i.showSuggestedCreatorRecs}}};var L=i(400947),D=i(72034);function Z(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let M=void 0!==l?l:l=i(162416);class N extends t.PureComponent{constructor(...e){super(...e),Z(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),Z(this,"anchorElementRef",(0,t.createRef)()),Z(this,"handleNavigateAndLog",(e,a)=>{let{pin:i}=this.props,n=!!i.storyPinDataId;e===a?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:i.entityId,aux_data:{pin_id:i.entityId,creator_id:i.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:i.storyPinData?.metadata?.templateType}:{}}})}),Z(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,a=e.entityId,i=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,l=!!e.storyPinDataId;i&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...l?{component:230}:Object.freeze({}),object_id_str:a,aux_data:{pin_id:a,creator_id:i,sponsor_id:n}})}),Z(this,"handleUserFollow",(e,a)=>{let{setShowSuggestedCreatorRecs:i,pin:{entityId:n,doneByMe:l},clientTrackingParams:t}=this.props;n.length,a?(this.props.logContextEvent({event_type:45,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,view_data:{isCurrentUser:l,viewObjectId:n,viewObjectIdStr:n},aux_data:{pin_id:n},clientTrackingParams:t}),this.setState({shouldShowCreatorRecs:!0}),i()):this.props.logContextEvent({event_type:46,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,aux_data:{pin_id:n},clientTrackingParams:t})})}static getDerivedStateFromProps(e,a){let i=e.officialUser;if(i&&i!==a.user)return{...a,user:i};let n=e.suggestedCreatorRecsPrevState;return n&&!a.shouldShowCreatorRecs?{...a,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,T.jsx)(s.xu,{});let{pin:a,viewerUserId:i,isORBACProfileManager:n,clientTrackingParams:l,isCloseupRelatedPinsAboveTheFoldEnabled:t}=this.props,{full_name:r,follower_count:o,id:c,image_medium_url:u,is_verified_merchant:p,username:g,verified_identity:m}=e,h=!!m?.verified,_=!!a.promotedIsLeadAd,y=a.richSummary?.typeName==="product",f=!!(!_&&!y&&this.state.shouldShowCreatorRecs),x=!!i&&i===c,k=a.pinner?.isAdsOnlyProfile&&a.pinner.adsOnlyProfileSite?a.pinner?.adsOnlyProfileSite:`/${g}/`;return(0,T.jsx)(s.xu,{position:"relative",children:(0,T.jsxs)(s.xu,{children:[(0,T.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(s.xu,{flex:"grow",children:(0,T.jsx)(L.Z,{followerCount:o,fullName:r,imageUrl:u,isPromoted:!!(a.promoter&&a.isPromoted),isVerifiedIdentity:h,isVerifiedMerchant:p,onNavigateClick:()=>this.handleNavigateAndLog(k,a.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:k===a.pinner?.adsOnlyProfileSite,profileUrl:k,sponsorName:a.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:a.sponsorship?.status,sponsorUsername:a.sponsorship?.sponsor?.username??""})}),!n&&(0,T.jsx)(s.xu,{flex:"none",children:(0,T.jsx)(s.xu,{children:!x&&!t&&(0,T.jsx)(d._7,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,T.jsx)(s.xu,{ref:this.anchorElementRef,children:(0,T.jsx)(v.Z,{button:({followText:e,onClick:a,userFollowed:i})=>(0,T.jsx)(s.xu,{"data-test-id":`user-${i?"unfollow":"follow"}-button`,children:(0,T.jsx)(s.Fm,{accessibilityLabel:i?this.props.i18n._('Following', 'creatorCard.followingButton.accessibilityLabel', 'Label to indicate this button as the following button'):this.props.i18n._('Follow', 'creatorCard.followButton.accessibilityLabel', 'Label to indicate this button as the follow button'),onClick:a,selected:!!i,size:"lg",text:e})}),clientTrackingParams:l,fullName:r,id:c,imageUrl:u||"",inline:!0,isOwnProfile:x,onUserFollow:e=>this.handleUserFollow(c,e),profileUrl:k,size:"md",viewParameter:this.viewParameter,viewType:this.viewType})})})})})]}),f&&(0,T.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,T.jsx)(A,{fullName:r,id:c,pinId:a.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let B=(0,h.Z)(function(e){let{logContextEvent:a}=(0,o.v)(),i=(0,m.ZP)(),n=(0,g.Z)(M,e.input),l=(0,r.I0)(),t=p(e.input,()=>{l((0,D.Vw)(n.entityId))},e=>{let a=e.get(n.entityId);a&&a.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,_.Z)(),{creatorRecsPrevState:d}=E(n),{isCloseupRelatedPinsAboveTheFoldEnabled:c}=(0,y.x4)();return(0,T.jsx)(N,{...e,i18n:i,isCloseupRelatedPinsAboveTheFoldEnabled:c,logContextEvent:a,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:d,viewerUserId:s.isAuth?s.id:null})})},508202:function(e,a,i){i.d(a,{Z:()=>it});var n,l,t,r,s,o=i(581722),d=i(616550),c=i(533386),u=i(454435),p=i(667294),g=i(883119),m=i(813954),h=i(646941),_=i(510065),y=i(165833),f=i(928585),x=i(110261),k=i(195658),S=i(877733),P=i(233511),v=i(721956),b=i(732054),T=i(290852),I=i(26458),w=i(236459),F=i(365976),C=i(758724),A=i(971116),j=i(481671),R=i(186266),K=i(408304),E=i(301055),L=i(788730),D=i(120034);i(167912);var Z=i(806513),M=i(133546),N=i(530786),B=i(625655),O=i(785893);function z({children:e,paddingY:a,shouldShowComments:i,topBorder:n,marginBottom:l,marginEnd:t}){let{closeupWithinMasonryEnabled:r}=(0,M.x4)();return(0,O.jsxs)(g.xu,{children:[i?(0,O.jsx)(B.Z,{marginStart:Z.D6+N.xh}):null,(0,O.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{borderTop:!n||i||r?void 0:"1px solid #efefef"}},"data-test-id":"product-metadata-border",marginBottom:l,marginEnd:t,paddingY:a,width:"100%",children:e})]})}var U=i(458465),H=i(230201),V=i(907022),G=i(138596),W=i(281846);let $=void 0!==n?n:n=i(589308),Y=({isLoadingNewlyCreatedComment:e,pinKey:a,scrollContainerRef:i,viewParameter:n,peekCloseupEnabled:l})=>{let t=(0,G.ZP)(),{setIsCommentThreadExpanded:r}=(0,M.x4)(),{logContextEvent:s}=(0,H.v)(),[o,d]=(0,p.useState)(!1),c=(0,V.Z)($,a),{aggregatedPinData:u}=c||{},{didItData:m}=u||{},h=u?.commentCount??0,_=m?.imagesCount??0,y=h+_,f=y>0,x=(0,U.i$)(y,t),k=(0,U.mz)(t);return(0,O.jsx)(z,{paddingY:3,topBorder:!0,children:(0,O.jsx)(W.Z,{arrowDirection:"arrow-down",content:f?(0,O.jsx)(A.Z,{aggregatedPinId:c.aggregatedPinData?.entityId,closeupAttributionId:c.closeupAttribution?.entityId,closeupAttributionUsername:c.closeupAttribution?.username,commentCount:h,commentsDisabled:c.commentsDisabled,commentsLoadedCallback:d,isCommentSectionOpen:!l,isLoadingNewCreatedComment:e,isVideo:!!c.videos?.videoList,photoCount:_,pinId:c.entityId,pinnerId:c.pinner?.entityId,scrollContainerRef:i,shouldShowHeading:!1,storyPinDataId:c.storyPinData?.entityId,viewParameter:n}):null,header:x,isCollapsible:(c.aggregatedPinData?.commentCount??0)+(c.aggregatedPinData?.didItData?.imagesCount??0)>0,isContentLoaded:o,isOpenByDefault:!l&&f,onToggle:e=>{r&&r(e),e&&s({component:13464,element:11981,event_type:10554,view_type:3})},previewContent:f?void 0:(0,O.jsx)(g.xv,{size:"200",children:k}),previewContentHeight:24,shouldToggleOnBodyTap:!1})})};var q=i(583875),X=i(667389);function Q({clickable:e=!0,fontWeight:a="normal",getDisplayName:i,onMouseDown:n,user:l}){let t=(0,d.k6)(),{logContextEvent:r}=(0,H.v)(),{isCloseupRelatedPinsAboveTheFoldEnabled:s,peekCloseupEnabled:o}=(0,M.x4)(),{is_verified_merchant:c,full_name:u="",verified_identity:p,username:m="",is_ads_only_profile:h,ads_only_profile_site:_,image_medium_url:y,avatar_color_index:f}=l,x=c||p?.verified,k=(0,O.jsxs)(g.xu,{alignItems:s?"center":void 0,dangerouslySetInlineStyle:{__style:s?{gap:"8px"}:{}},direction:s?"row":void 0,display:s?"flex":void 0,onMouseDown:()=>{n&&n()},children:[o&&(0,O.jsx)(q.qE,{color:f,name:u??"",size:"xs",src:y??""}),(0,O.jsx)(g.xv,{lineClamp:1,size:o?"200":"300",weight:a,children:i?i(u):u})]});if(!e)return k;let S=h&&!!_;return(0,O.jsxs)(g.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,O.jsx)(g.xu,{children:S?(0,O.jsx)(g.Tg,{href:_||"",onTap:()=>{r({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:k}):(0,O.jsx)(g.iP,{onTap:()=>{t.push(`/${m}/`)},children:k})}),x&&(0,O.jsx)(g.xu,{marginStart:2,children:(0,O.jsx)(X.Z,{isVerifiedIdentity:p?.verified,isVerifiedMerchant:c,size:"sm"})})]})}var J=i(255508),ee=i(239321),ea=i(680391),ei=i(902123),en=i(250704);let el=void 0!==l?l:l=i(228674);function et({clientTrackingParams:e,enableDynamicSizeAdjustment:a,link:i,pinKey:n,text:l,onClickThrough:t}){let r=(0,V.Z)(el,n),s=(0,p.useRef)(null),[o,d]=(0,p.useState)("500"),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:u}=(0,M.x4)(),m=(0,ea.Z)({href:i||"",clientTrackingParams:(0,en.Z)(e,r?.trackingParams),externalData:{pin:r&&{attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams,advertiserId:r.advertiserId}}}),h=(0,O.jsx)(g.xu,{ref:s,children:(0,O.jsx)(g.X6,{id:"product-heading",lineClamp:u?2:void 0,size:c?"400":o,children:l})});return(0,p.useEffect)(()=>{if(!s||!s.current||!a)return;let e=s.current.querySelector("#product-heading");if(!e)return;let i=Number(e.offsetHeight)||0;Number.isFinite(i)&&d(2>=Math.floor(i/33)?"500":"400")},[a,s]),(0,O.jsx)(ei.q,{children:({hovered:a,onMouseEnter:n,onMouseLeave:l})=>(0,O.jsx)(ee.Z,{clientTrackingParams:e,hovered:a,pinKey:r,viewType:3,children:(0,O.jsx)(g.xu,{onMouseEnter:n,onMouseLeave:l,children:i?(0,O.jsx)(g.xu,{"data-test-id":"link-navigation",children:(0,O.jsx)(g.xv,{children:(0,O.jsx)(g.rU,{href:i,onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),m({event:e}),t({componentType:14284})},underline:"none",children:h})})}):h})})})}var er=i(369756),es=i(228495),eo=i(935009),ed=i(470205),ec=i(59111),eu=i(216975),ep=i(173874),eg=i(830031),em=i(774838),eh=i(825605);function e_({richPinData:e={}}){return e?.products?.[0]}var ey=i(680589),ef=i(575647),ex=i(462867),ek=i(200619),eS=i(601871),eP=i(15392);function ev({priceHistorySummary:e}){let a;let i=(0,G.ZP)(),{durationDays:n,typicalPrice:l,lowestPrice:t}=e||{};return Number.isInteger(n)&&(l||t)?(l?a=(0,eu.nk)(i._('{{ typicalPrice }} average price last {{ durationDays }} days', 'PriceHistorySummary.typicalPriceText', 'typicalPrice: typical price (average price), durationDays: duration days'),{typicalPrice:l,durationDays:n}):t&&(a=(0,eu.nk)(i._('{{ lowestPrice }} lowest price in {{ durationDays }} days', 'PriceHistorySummary.lowestPriceText', 'lowestPrice: lowest price, durationDays: duration days'),{lowestPrice:t,durationDays:n})),(0,O.jsx)(g.xu,{"data-test-id":"price-history-summary",children:(0,O.jsx)(g.xv,{children:a})})):null}var eb=i(488598),eT=i(276469),eI=i(194442);let ew=(0,eI.Z)(()=>i.e("96615").then(i.bind(i,430505)),void 0,"CloseupPartnerModule"),eF=(0,eI.Z)(()=>i.e("34966").then(i.bind(i,670959)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eC({clientTrackingParams:e,detailsScrollContainerRef:a,hasXYcoordinates:i,isBoardOwnerOrCollaborator:n,isLoadingNewlyCreatedComment:l,onClickThrough:t,outerPaddingSize:r,pin:s,pin:{closeup_attribution:o,closeup_unified_description:c,closeup_unified_title:u,is_oos_product:m,is_stale_product:h,link_user_website:_,link_domain:y,rich_metadata:x},showPartnerModule:k,showPDPComments:S,showPinNote:P,showPinStats:v,showTrendsOnPinCloseup:b,trendsData:T,viewParameter:I}){let w=(0,G.ZP)(),{logContextEvent:F}=(0,H.v)(),C=(0,ex.Z)(),{isCloseupRelatedPinsAboveTheFoldEnabled:Z,closeupWithinMasonryEnabled:N,peekCloseupEnabled:B,viewportSize:U}=(0,M.x4)(),{sideBySideRedesignFastFollowsExpGroup:V,sideBySideFullWidthCTAEnabled:W}=(0,f.Z)(),$="enabled_cta_near_save"===V,q="enabled_persistent_cta"===V,[X,ee]=(0,p.useState)(!1),ea=(0,eg.E)(),ei=(0,p.useCallback)(()=>{ea&&ea.markConstraintComplete("shopButton")},[ea]),en=(0,ef.Z)({type:"deprecated",data:s}),el=(0,E.Z)({type:"deprecated",data:s},C),eI=en(),{isAuthenticated:eC}=(0,em.B)(),eA=(0,ek.Z)(),ej=(0,eS.lJ)(C,eA),eR=(0,eS.q6)(C,s?.pinner?.id,eA),eK=e_({richPinData:x}),eE=eK?.offer_summary||{},{in_stock:eL}=eE,{duration_days:eD,lowest_price:eZ,typical_price:eM}=eK?.price_history_summary||{},eN=Number.isInteger(eD)&&(!!eZ||!!eM),eB=m||!1===eL,{rating_value:eO,review_count:ez,rating_count:eU}=(x||{}).aggregate_rating||{},{shipping_info:eH}=eK||{},eV=_?.official_user?.first_name,{official_user:eG}=y||{},eW=o||eG,{first_name:e$}=eW||{},eY=(0,ey.ZP)(eV||e$||"",20),eq=eK?.brand,eX=eq?.name,eQ=eq?.user_id,eJ=eW?.id===eQ||eq?.is_merchant,e0=!!eX,e1=(0,d.TH)(),e3=!eC&&(0,ep.am)(e1),e2=!!(s.promoter&&!s.is_downstream_promotion)&&s.promoter?.id===s.native_creator?.id,{sponsorship:e6,story_pin_data:e5,affiliate_link:e4}=s,e7=!!e4,e8=!!e5?.has_affiliate_products,e9=(!!e6||e8||e7)&&!e2&&!e3,ae=(0,p.useCallback)(e=>{if(e&&e0){let a=eX!==e&&(null===eJ||!1===eJ),i=Z?"normal":"bold",n=B?"200":void 0;return Z?(0,O.jsx)(g.xv,{align:"center",size:n,weight:i,children:e}):a?(0,O.jsx)(g.xv,{align:"center",size:n,weight:i,children:(0,eu.nk)(w._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,O.jsx)(g.xv,{inline:!0,size:n,weight:i,children:eX},"brand-name"),merchant:(0,O.jsx)(g.xv,{inline:!0,size:n,weight:i,children:e},"merchant-name")})}):[(0,O.jsx)(g.xv,{inline:!0,size:n,weight:i,children:eX},"brand-name")]}return e},[eX,eJ,Z,w,e0,B]),aa=(c||"").trim(),ai=s.formatted_description?.components??[],an=(0,eT.j)({components:ai,pinDescription:aa}),{link:al,tracked_link:at}=s||{},ar=decodeURIComponent(at||al||""),{currentDomain:as}=(0,D.Z)({carouselData:s.carousel_data&&{carouselSlots:s.carousel_data.carousel_slots&&s.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:s.carousel_data?.index},domain:s.domain}),ao=as.split(".")[0],{free_shipping_price:ad,free_shipping_value:ac}=eH||{},au=!!(eO&&(ez||eU)||ad&&ac),ap=(eY||ao)&&ar,ag=r??eP.ER,am=N?0:6,ah=s.favorited_by_me?w._('Remove from favorites', 'closeup.productMetadata.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Product Pin'):w._('Add to favorites', 'closeup.productMetadata.addToFavorites', 'Text for button allowing users to favorite a saved Product Pin'),a_=[...B?[(0,O.jsx)(R.Z,{paddingLeft:N?ag/2:0,paddingRight:N?ag/2:0,children:an.length>0&&(0,O.jsx)(g.xu,{"data-test-id":"product-description",marginTop:N?2:0,children:(0,O.jsx)(J.Z,{commerceData:eI,structuredDescription:an,type:"expandable",viewParameter:I})})},"closeupProductDescription")]:[],...Z&&n?[(0,O.jsx)(R.Z,{paddingLeft:N?ag/2:0,paddingRight:N?ag/2:0,children:(0,O.jsxs)(g.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:N?0:2,marginTop:2,children:[N?(0,O.jsx)(g.X6,{size:"400",children:ah}):(0,O.jsx)(g.xv,{weight:"bold",children:ah}),(0,O.jsx)(j.Z,{board:s.board,favorited:!!s.favorited_by_me,pinId:s.id,section:s.section})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[],...P?[(0,O.jsx)(R.Z,{paddingLeft:N?ag/2:0,paddingRight:N?ag/2:0,children:(0,O.jsx)(z,{paddingY:Z?0:3,topBorder:!Z,children:(0,O.jsx)(eF,{boardId:s.board?.id,isGroupNote:el,pinId:s.id,pinNoteText:s.pin_note?.text})})},"closeupPinNote")]:[]],ay=()=>(0,O.jsx)(g.xu,{"data-test-id":"product-price",marginTop:Z?0:2,children:(0,O.jsx)(er.Z,{colorOverride:"default",isSoldOut:eB,isStale:h,productDetails:{maxPrice:eE.max_price,minPrice:eE.min_price,price:eE.price,standardPrice:eE.standard_price},type:N?"mobileHeading":"heading"})},"product-price"),af=()=>(0,O.jsx)(g.xu,{marginTop:Z?0:3,children:(0,O.jsx)(es.Z,{bracket:!0,count:eU||ez,countFormat:"number",countType:eU?"rating":"review",hideSeparationDot:!0,ratingValue:eO,shippingInfo:{freeShippingPrice:ad,freeShippingValue:ac}})}),ax=()=>eW?(0,O.jsx)(g.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:N?2:void 0,marginTop:2,children:(0,O.jsx)(Q,{getDisplayName:ae,onMouseDown:e0?()=>{F({event_type:102,object_id_str:s.id,view_type:3,view_parameter:144,element:13592,aux_data:eI})}:void 0,user:eW})}):null,ak=()=>(0,O.jsx)(R.Z,{paddingBottom:B?ag/2:void 0,paddingRight:0,children:(0,O.jsx)(g.xu,{"data-test-id":"product-shop-button",marginTop:N?0:4,children:(0,O.jsx)(eo.Z,{clientTrackingParams:e,color:"gray",fullWidth:W,link:ar,onClickThrough:t,onLoad:ei,pinKey:{type:"deprecated",data:s},text:w._('Visit site', 'closeup.shop.button', 'shop button')})})}),aS=4;N?aS=0:B&&eW&&(aS=2);let aP=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,O.jsxs)(g.xu,{marginTop:N?2:0,children:[N&&k&&(0,O.jsx)(R.Z,{paddingRight:r,children:(0,O.jsx)(g.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,O.jsx)(ed.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,O.jsx)(eh.Z,{children:(0,O.jsx)(ew,{borderStyle:L.te,isStoryPin:!1,pinKey:{type:"deprecated",data:s},showPinStats:v,trendsData:b?T?.data?.results:null,viewportSize:U})})})})}),B&&(0,O.jsx)(R.Z,{paddingRight:0,children:ax()}),(0,O.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:{overflowY:B?"auto":void 0,paddingRight:B?`${L.Gd}px`:void 0}},height:B?"100%":void 0,marginBottom:n||S?0:5,marginEnd:B?void 0:am,marginTop:N?2:0,children:[B&&(0,O.jsx)(ec.Z,{unsafeCSS:aP}),(0,O.jsxs)(g.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:B?"100%":void 0,children:[(0,O.jsx)(R.Z,{paddingLeft:N?ag/2:0,paddingRight:N?ag/2:0,children:(0,O.jsxs)(g.xu,{alignItems:N?"start":void 0,display:N?"flex":void 0,justifyContent:N?"between":void 0,children:[(0,O.jsxs)(g.kC.Item,{flexBasis:!N||$||q?"100%":"77%",children:[!!u&&(0,O.jsx)(g.xu,{"data-test-id":"product-title",marginTop:aS,children:(0,O.jsx)(et,{clientTrackingParams:e,link:ar,onClickThrough:t,pinKey:{type:"deprecated",data:s},text:u})},"product-title"),Z?(0,O.jsxs)(g.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:N?4:8,flexWrap:N?"wrap":void 0}},display:"flex",marginTop:2,children:[ay(),au&&af()]}):ay(),eN&&(0,O.jsx)(g.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,O.jsx)(ev,{priceHistorySummary:{durationDays:eD,lowestPrice:eZ,typicalPrice:eM}})},"product-price-history-summary"),!Z&&au&&af(),!B&&ax(),e9&&!B&&(0,O.jsx)(eb.Z,{hasAffiliateLink:e7,hasAffiliateProducts:e8})]}),ap&&N&&!($||q)&&(0,O.jsx)(g.xu,{alignItems:"stretch",display:W?"block":"flex",flex:"grow",justifyContent:"end",children:ak()})]})}),ap&&!N&&ak(),(0,O.jsxs)(g.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,O.jsx)(p.Fragment,{children:a_.map(e=>(0,O.jsxs)(p.Fragment,{children:[e,(0,O.jsx)(R.Z,{paddingLeft:ag/2,paddingRight:ag/2,children:(0,O.jsx)(g.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,O.jsx)(K.Z,{show:!0,surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),!a_.length&&(0,O.jsx)(R.Z,{paddingLeft:ag/2,paddingRight:ag/2,children:(0,O.jsx)(g.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,O.jsx)(K.Z,{show:N,surface:"product-metadata-details"})})}),S&&(0,O.jsx)(R.Z,{paddingBottom:N?ag/2:void 0,paddingLeft:N?ag/2:0,paddingRight:N?eP.ER/2:0,children:Z?!i&&!!s.is_eligible_for_aggregated_comments&&(0,O.jsx)(ed.Z,{name:"ProductPinCanonicalCard",children:(0,O.jsx)(A.Z,{aggregatedPinId:s.aggregated_pin_data?.id,closeupAttributionId:s.closeup_attribution?.id,closeupAttributionUsername:s.closeup_attribution?.username,commentCount:s.aggregated_pin_data?.comment_count??0,commentsDisabled:s.comments_disabled,isCommentSectionOpen:X,isLoadingNewCreatedComment:l,isORBACProfileManager:eR,isShopTheLook:s.aggregated_pin_data?.is_shop_the_look,isVideo:!!s.videos?.video_list,onCommentSectionClick:()=>{ee(!X)},orbacSubjectId:ej,photoCount:s.aggregated_pin_data?.did_it_data?.images_count??0,pinId:s.id,pinnerId:s.pinner?.id,scrollContainerRef:a,shouldShowHeading:!(B&&s.aggregated_pin_data?.comment_count===0),storyPinDataId:s.story_pin_data?.id,viewParameter:I})}):(0,O.jsx)(Y,{isLoadingNewlyCreatedComment:l,peekCloseupEnabled:B,pinKey:{type:"deprecated",data:s},scrollContainerRef:a,viewParameter:I})},"closeupProductMetadataComments")]})]})]})]})}var eA=i(804748);function ej(e){let{disabled:a,height:i,top:n=0,zIndex:l}=e,t=(0,p.useRef)(null),r=(0,eA.Z)();if(a)return e.children;let s=t.current?.getBoundingClientRect().top||0;return(0,O.jsx)(g.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,O.jsx)(g.Le,{height:i,top:r+n+s,zIndex:l,children:e.children})})}var eR=i(661376),eK=i(632492);let eE=(0,eI.Z)(()=>Promise.all([i.e("73362"),i.e("55759")]).then(i.bind(i,91961)),void 0,"CloseupActionBarCommon");function eL({disableRelatedResource:e=!1,relatedResourceOptions:a,hasXYcoordinates:i,isEligibleForStlFlyout:n,isStoryPin:l,isWideVideo:t,pin:r,searchQuery:s,taggedProducts:o,trafficSource:d,viewParameterType:c,onClickThrough:u,showStructuredDescription:g,data:m,didShortClickThrough:h,goBack:_,isInStream:y=!1,isDeletedStoryPin:f,isRelatedPins10PercentVisible:x,onSaveButtonClick:k,onUpdate:S,outerBodyStyle:A,routePush:j,showPartnerModule:R,showPinStats:K,showTrendsOnPinCloseup:E,showRepinOnInitialRender:L,trendsData:D,viewType:Z}){let N=(0,eR.Z)(e?null:a),B=(0,p.useRef)(null),z=(0,p.useRef)(null),U=(0,ex.Z)(),{closeupWithinMasonryEnabled:H,isCloseupRelatedPinsAboveTheFoldEnabled:V,viewportSize:G,clientTrackingParams:W}=(0,M.x4)(),$=(0,ek.Z)(),Y=(0,eS.lJ)(U,$),q=(0,b.Z)(90),X=(0,w.Z)(),Q=(0,I.Z)({metadataContainerRef:B,pinKey:{type:"deprecated",data:r}}),{isCloseupMediaViewerEnabled:J}=(0,C.Z)({isShufflePin:!!r?.shuffle}),[ee,ea]=(0,p.useState)(!1),ei=!!r.is_eligible_for_aggregated_comments,{setClickthroughComponentForSurvey:en,imageContainerRef:el}=X,{getViewParameter:et}=(0,v.ZP)({type:"deprecated",data:r}),er=et(c),es=V||"lg"===G?eP.ER:eP.g9,eo=(0,O.jsx)(eE,{actionBarContainerRef:z,goBack:_,gridDescription:r.description??"",isDeletedStoryPin:!!f,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!f,isOnSecretBoard:!1,isStoryPin:l,onClickThrough:u,onEditSubmit:S,onSaveButtonClick:k,outerPaddingSize:es,pin:r,routePush:j,showRepinOnInitialRender:L,viewParameter:er}),ed=(0,O.jsx)(F.Z,{hasXYcoordinates:i,isEligibleForStlFlyout:n,isStoryPin:l,isWideVideo:t,pin:r,searchQuery:s,taggedProducts:o,trafficSource:d,viewParameterType:c,visualContentContainerRef:ei?q.visualContentContainerRef:void 0,imageContainerRef:el,handleImageClickThrough:()=>u({wasImageClicked:!0}),setClickthroughComponentForSurvey:en,isShortImage:Q,onSaveButtonClick:k,viewParameter:er}),ec=(0,O.jsx)(ej,{disabled:!1,top:-16,zIndex:eK.mS,children:ed}),eu=g&&!J?ec:ed,ep=(0,T.Z)({pinKey:{type:"deprecated",data:r},orbacActingAs:$,viewer:U}),eg=(0,O.jsx)(p.Fragment,{children:(0,O.jsx)(eC,{clientTrackingParams:W,detailsScrollContainerRef:B.current,hasXYcoordinates:i,isBoardOwnerOrCollaborator:ep,isLoadingNewlyCreatedComment:ee,onClickThrough:u,outerPaddingSize:es,pin:r,showPartnerModule:R,showPDPComments:ei,showPinNote:ep,showPinStats:K,showStructuredDescription:g,showTrendsOnPinCloseup:E,trendsData:D,viewParameter:er})});return(0,O.jsx)(P.R,{descriptionContentMaxHeight:ei?q.descriptionContentMaxHeight:void 0,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!f,isWideVideo:t,didShortClickThrough:h,webLinkSurveyState:X,pin:r,outerBodyStyle:A,isStoryPin:l,trafficSource:d,visualContentContainer:eu,isCloseupMaximized:!1,data:m,outerPaddingSize:es,isInStream:y,metadataContainerRef:B,onClickThrough:()=>{u&&u({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},isLoadingNewlyCreatedComment:ee,setIsLoadingNewlyCreatedComment:ea,viewParameter:er,viewType:Z,metadata:eg,viewer:U,orbacSubjectId:Y,relatedModulesResource:N,marginBottom:H?0:8,disableLeadPin:!0,isDeletedStoryPin:f,onSaveButtonClick:k,showRepinOnInitialRender:L,goBack:_,onUpdate:S,showPDPComments:ei,routePush:j,closeupActionBarMaxWidth:H?void 0:eP.CI,visualContentContainerRef:ei?q.visualContentContainerRef:void 0,actionBarContainerRef:z,closeupActionBar:eo,isRelatedPins10PercentVisible:x})}var eD=i(34692),eZ=i(819108),eM=i(560333),eN=i(945624),eB=i(433100),eO=i(64627),ez=i(551474);let eU=(0,eI.Z)(()=>i.e("75139").then(i.bind(i,698318)),void 0,"StructuredFeedStoryModule"),eH=(0,eI.Z)(()=>i.e("65346").then(i.bind(i,746024)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),eV=(0,eI.Z)(()=>Promise.resolve().then(i.bind(i,560333)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),eG=(0,eI.Z)(()=>i.e("99743").then(i.bind(i,659885)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),eW=void 0!==t?t:t=i(718972),e$=(0,p.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:i,setRelatedPinsHeaderRef:n,slotIndex:l,story:t,topLevelTrafficSource:r,viewParameter:s,viewportSize:o},d)=>{let c=(0,V.Z)(eW,i),{closeupWithinMasonryEnabled:u}=(0,M.x4)();if(!t)return null;let{container_type:p,story_type:m}=t;if((0,ez.Z)(p)){let e=88===p,a=90===p;return(0,O.jsx)(g.xu,{marginBottom:e||a?0:12,paddingX:a?12:0,children:(0,O.jsx)(eU,{componentFallback:13176,initialSlotIndex:l,story:t,storyKey:{type:"deprecated",data:t},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,eO.HM)(m)?!u&&(0,O.jsx)(g.xu,{alignSelf:"center",children:(0,O.jsx)(eV,{filter:(0,eO.oV)(m),story:t,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(m)?(0,O.jsx)(g.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,O.jsx)(eG,{ref:d,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:l,storyId:t.id,storyType:m,title:t.title?.format,viewParameter:s})}):"related_domain_carousel"===m?(0,O.jsx)(g.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,O.jsx)(eH,{closeupImageSignature:c.imageSignature||"",data:t,slotIndex:l,storyId:t.id,storyType:m,topLevelTrafficSource:r,viewParameter:s,viewportSize:o})}):null});var eY=i(797484),eq=i(216762),eX=i(184865),eQ=i(603484),eJ=i(153149),e0=i(261954),e1=i(149238),e3=i(891851),e2=i(112658),e6=i(309266),e5=i(548782),e4=i(845738),e7=i(758594);let e8=()=>(0,O.jsx)(p.Fragment,{children:Array(12).fill(void 0).map((e,a)=>(0,O.jsx)(g.xu,{marginEnd:4,width:eX.j},`empty-pin-${a}`))}),e9=void 0!==r?r:r=i(842362);function ae(e){return 154===e.container_type?2:e.columnSpan??1}function aa({surface:e="PdpRelatedPinGrid",closeupBody:a,closeupInclusiveFilters:i,initialSlotIndex:n,isFetching:l=!1,pinKey:t,relatedPins:r,topLevelTrafficSource:s}){let o=(0,G.ZP)(),{closeupWithinMasonryEnabled:d,viewportSize:c}=(0,M.x4)(),u=(0,V.Z)(e9,t),m=(0,e6.Z)(),h=(0,p.useRef)(null),_=(0,e3.Z)({hasPin:!!u,hasPinRichMetadata:!!u.richMetadata,hasPinRichMetadataProducts:!!u.richMetadata?.products,hasPinRichMetadataArticle:!!u.richMetadata?.article,hasPinRichMetadataRecipe:!!u.richMetadata?.recipe,hasPinStoryPinData:!!u.storyPinData}),y=({data:l,itemIdx:t})=>{let r=(0,e1.Z)(m),o=n+t,d=null;switch(l.type){case"closeup_module":d=a;break;case"shopping_module":d=(0,O.jsx)(eq.Z,{moduleWidth:"100%",pinKey:u,trafficSource:s,viewParameter:_});break;case"inclusive_filters_module":d=i;break;case"story":switch(154===l.container_type&&(d=(0,O.jsx)(eQ.Z,{slotIndex:o,story:l,viewParameter:_,viewType:3})),l.story_type){case"BUBBLE_ONE_COL":d=(0,O.jsx)(e5.default,{bubbles:l.objects,id:l.id,referringSource:l.referring_source,slotIndex:o,storyType:l.story_type,title:l.title,viewParameter:_,viewType:3});break;case"related_query_shop_upsell_closeup":d=(0,O.jsx)(eJ.default,{itemIdx:o,story:l,viewParameter:_,viewType:3})}break;default:d=(0,O.jsx)(e4.ZP,{componentType:13176,duploQueryRef:null,imageOnlyOption:r?"image-only":"default",pinId:l.id,slotIndex:o,surface:e,viewData:{pin_id:u.entityId},viewParameter:_,viewType:3})}return(0,O.jsx)(eY.Z,{children:d})},f={isLoadedAccessibilityLabel:r.length>0?o._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):o._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:r.length>0?o._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):o._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results')},x=d?(0,O.jsx)(e0.default,{_dynamicHeights:d,_getColumnSpanConfig:ae,align:d||"sm"===c?"center":"start",isFetching:l,items:r,layout:"basic",masonryRef:h,minCols:2,renderItem:y,serverRender:!0,useLoadingState:!0,...f}):(0,O.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,O.jsx)(e0.default,{_getColumnSpanConfig:ae,isFetching:l,items:r,renderItem:y,useLoadingState:!0,...f}),(0,O.jsx)(e8,{})]});return(0,O.jsx)(e7.Z,{metricName:"RelatedModulesFeed",children:(0,O.jsx)(e2.Z,{component:86,viewParameter:_,children:x})})}var ai=i(210616),an=i(190665),al=i(383022),at=i(629972),ar=i(618003),as=i(73910),ao=i(575820);let ad=(0,eI.Z)(()=>i.e("80949").then(i.bind(i,1515)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),ac=void 0!==s?s:s=i(883229),au=(0,p.forwardRef)(({clientTrackingParams:e,closeupBody:a,excludeStories:i,initialSlotIndex:n=0,isFilteredFeed:l,isRelatedPins10PercentVisible:t,pinKey:r,relatedModulesFeedResource:s,setHasRelatedPins:o,setRelatedPinsHeaderRef:c,topLevelTrafficSource:u,viewParameter:m,viewportSize:h},_)=>{let{data:y,fetchMore:f,isFetching:x,isAtEnd:k,nextBookmark:S}=s,P=(0,V.Z)(ac,r),{closeupMasonryModules:v}=(0,eN.Z)(P.entityId,s),b=(0,d.TH)(),T=(0,d.k6)(),I=(0,p.useRef)(n),w=(0,ao.mB)(b.search).rs,F=T?.action==="POP";(0,p.useEffect)(()=>{(0,ai.Z)({isFromBackButton:F,referringSource:w,relatedModulesRef:_})},[F,b,w,_]);let C=(y||[]).filter(Boolean);C=C.filter(e=>!(i&&"story"===e.type&&e.story_type&&i.includes(e.story_type)));let A=(0,as.Z)(C),j=e=>!!("pin"===e.type||"story"===e.type&&(ar.v.has(e.story_type)||154===e.container_type)),R=l&&S===at.qx,K=y?y.length:0;(0,p.useEffect)(()=>{o(0!==K)},[K,o]);let E=(Array.isArray(A)?A.filter(e=>e?.type==="story"):[]).find(e=>(0,eO.HM)(e?.story_type??"")),L=E&&(0,O.jsx)(eM.default,{filter:(0,eO.oV)(E?.story_type??""),story:E,viewParameter:m});return(0,O.jsxs)(p.Fragment,{children:[A.length>0?A.map((i,n)=>{let r=(0,O.jsx)(aa,{closeupBody:a,initialSlotIndex:I.current,isFetching:x,pinKey:P,relatedPins:v,surface:l?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:u});0===n&&(I.current=0);let s=0;return Array.isArray(i)?(s+=i.length,r=(0,O.jsx)(aa,{closeupBody:a,closeupInclusiveFilters:L,initialSlotIndex:I.current,isFetching:x,pinKey:P,relatedPins:[...v,...i.filter(j)],surface:l?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:u},i[0].id)):"story"===i.type&&(s+=i.objects?.length||1,r=(0,O.jsx)(g.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,O.jsx)(e$,{ref:_,clientTrackingParams:e,isRelatedPins10PercentVisible:t,pinKey:P,setRelatedPinsHeaderRef:c,slotIndex:I.current,story:i,topLevelTrafficSource:u,viewParameter:m,viewportSize:h})},i.id)),I.current+=s,r}):(0,O.jsx)(aa,{closeupBody:a,initialSlotIndex:I.current,isFetching:x,pinKey:P,relatedPins:v,topLevelTrafficSource:u}),(0,O.jsx)(g.gr,{fetchMore:f,isAtEnd:k,isFetching:x}),R&&K>0&&(0,O.jsx)(eD.Z,{}),R&&0===K&&(0,O.jsx)(eZ.Z,{})]})});function ap(e){let{relatedResourceOptions:a,clientTrackingParams:i,isRelatedPins10PercentVisible:n,setRelatedPinsHeaderRef:l,pinKey:t,relatedPinsContainerRef:r,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}=e,c=(0,eR.Z)(a),u=(0,al.Z)(),[m,h]=(0,p.useState)(null),_=(0,an.Z)(),{cacheOneBarModules:y,cachedProductFilterOneBarModules:f}=(0,eB.X)(),{closeupWithinMasonryEnabled:x}=(0,M.x4)(),S=(0,V.Z)(ac,t),{isInCloseupShoppingRefinementsExp:P,shouldFetchSLURPFields:v}=(0,k.Z)({pinKey:S}),[b,T]=(0,p.useState)(!0),I=(0,eR.Z)(P&&_&&S.entityId?{name:"ApiResource",options:{url:`/v3/pins/${S.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...v?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:_}}}:null),w=I?.data?I:c,F=w?.data?.find(e=>"story"===e.type&&e.story_type&&e.story_type===L.vs),C=F?.objects;(0,p.useEffect)(()=>{P&&C&&y({baseCacheKey:S.entityId,oneBarModules:C})},[c,c.data,S.entityId,y,P,I,C]),(0,p.useEffect)(()=>{!m&&P&&h(c?.data?.find(e=>"story"===e.type&&e.story_type&&L.aW.has(e.story_type)))},[c,P,h,m]);let A=!P||P&&!u;return(0,O.jsxs)(g.xu,{ref:r,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[P&&m&&b&&(0,O.jsx)(e$,{ref:r,clientTrackingParams:i,isRelatedPins10PercentVisible:n,pinKey:S,setRelatedPinsHeaderRef:l,slotIndex:0,story:m,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}),C&&C.length>0&&f&&f.length>0&&!x&&(0,O.jsx)(ad,{oneBarModules:C,viewParameter:o,viewType:3}),u&&(0,O.jsx)(au,{...e,ref:r,initialSlotIndex:1,isFilteredFeed:!0,relatedModulesFeedResource:I,setHasRelatedPins:T}),A&&(0,O.jsx)(au,{...e,ref:r,excludeStories:P?[...L.aW,L.vs]:[],initialSlotIndex:u?1:0,relatedModulesFeedResource:c,setHasRelatedPins:T})]})}var ag=i(671121),am=i(196748),ah=i(17841),a_=i(4533),ay=i(81221),af=i(201363),ax=i(719301),ak=i(663),aS=i(200301),aP=i(681698),av=i(176714),ab=i(856853),aT=i(391696),aI=i(240571),aw=i(49104),aF=i(566431),aC=i(296339),aA=i(35169),aj=i(438303),aR=i(613567),aK=i(220347),aE=i(398006),aL=i(417394),aD=i(34550),aZ=i(730448),aM=i(736328),aN=i(439048),aB=i(577356),aO=i(417525),az=i(289747),aU=i(76849),aH=i(715987),aV=i(410890),aG=i(271875),aW=i(386385),a$=i(207095),aY=i(490515),aq=i(241028);function aX(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let aQ=(0,p.lazy)(()=>i.e("96615").then(i.bind(i,430505))),aJ=(0,p.lazy)(()=>i.e("54347").then(i.bind(i,416843))),a0={sm:80},a1=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}),a3={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},a2={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},a6={boxShadow:void 0,borderRadius:16};function a5({conversation_id:e,senderId:a,pinId:i}){(0,aP.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:i}})}function a4({viewportSize:e,hasCarouselData:a}){return a&&["lg","md"].includes(e)}let a7=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:i})=>!["md","sm"].includes(a)&&!e||i&&"sm"!==a;class a8 extends p.Component{constructor(...e){super(...e),aX(this,"state",this.props.initialState),aX(this,"removedPwtThumbnailsConstraint",!1),aX(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),aX(this,"mounted",!1),aX(this,"updateViewportSize",(0,aZ.Z)(()=>{let{visualState:{carouselData:e}}=this.state,{pin:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n}=this.props,{isWideVideo:l}=(0,aw.Z)((0,aj.Z)({pin:a}))||{};if(this.mounted){let a=function({isWideVideo:e,hasCarouselData:a,closeupWithinMasonryEnabled:i,verticalNavWidth:n}){let{BREAKPOINT:l,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=a1({verticalNavWidth:n}),c=l,u=i?o:s;return(e&&(c=t),a&&(c=r,u=i?d:u),window?.innerWidth<u)?"sm":window?.innerWidth<c?"md":"lg"}({isWideVideo:!!l,hasCarouselData:!!e,closeupWithinMasonryEnabled:i,verticalNavWidth:this.props.verticalNavWidth}),t=a4({viewportSize:a,hasCarouselData:!!e}),{hideBackButton:r}=function({viewportSize:e,isWideCarousel:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n,verticalNavWidth:l}){let t;let{BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:r,BACK_BUTTON_NARROW_BREAKPOINT:s,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:o,BACK_BUTTON_WIDE_BREAKPOINT:d}=a1({verticalNavWidth:l});return t=["md","sm"].includes(e)?a?r:s:a?o:d,{hideBackButton:!i&&!n&&window?.innerWidth<=t||n&&"sm"===e}}({viewportSize:a,isWideCarousel:t,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n,verticalNavWidth:this.props.verticalNavWidth});this.setState({viewportSize:a,hideBackButton:r})}},50)),aX(this,"triggerQuickPromote",()=>{let{getSterlingURL:e,pinId:a,routePush:i,experimentsClient:n,requestContext:l}=this.props,{advertiser:t}=l,r=(0,aO.xN)(t,a);this.setState({quickPromoteModalTriggered:!0});let s=e("quick_promote_on_www");n.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?window.location.assign(r):i(`${s}?pinId=${a}`)}),aX(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),aX(this,"executeClickthrough",e=>{let{pinId:a,clientTrackingParams:i,setPlacementExtraContext:n,viewer:l,trafficSource:t,logContextEvent:r,pinFormattedLink:s,setAbortNoActionPlacementTimeout:o}=this.props,{pin:d,didPinClickThrough:c,didShortClickThrough:u}=this.state,p=!!d.story_pin_data,{wasImageClicked:g,auxData:m,componentType:h=p?228:4,elementType:_=g?35:p?11157:361,viewType:y=3}=e||{},f=(0,e3.Z)({hasPin:!0,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),x={...this.props.getStringifiedCommerceAuxData(),...m||{}};if(l&&l.isAuth&&!c&&n&&(n({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),p&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:d.id,url:s}}),r({event_type:101,object_id_str:a,component:h,element:_,aux_data:x,clientTrackingParams:i}),r({event_type:12,object_id_str:a,view_type:y,view_parameter:f,component:h,element:_,aux_data:x,clientTrackingParams:i}),r({event_type:8948,view_type:y,view_parameter:f,component:h,element:_,object_id_str:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,aF.sV)(t)?"deeplink":"click",...x}}),g){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),u&&this.setState({didShortClickThrough:!1}),o(!0)}),aX(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),aX(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),aX(this,"handleSaveButtonClick",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:13306,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),aX(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),aX(this,"handleCarouselSwipe",e=>{let{visualState:a,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...a,carouselData:{...a.carouselData,index:e}}})}),aX(this,"dispatch",(e,a)=>this.setState(a=>(0,y.Z)(a,e),a)),aX(this,"handleScroll",(0,aZ.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let a=aW.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=a;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),aX(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),aX(this,"onRelatedInterestsBannerDismiss",()=>{this.setState({isRelatedInterestsBannerDismissed:!0})})}populatePlaceholderCarouselData(){let{pin:e}=this.props,{visualState:a}=this.state;this.setState({visualState:{...a,carouselData:(0,ak.Z)({carouselData:e.carousel_data,images:e.images,product:(e.rich_metadata||e.rich_summary)?.products?.[0]})}})}componentDidMount(){let{conversation_id:e,conversationOpen:a,dispatch:i,pin:n,pinId:l,senderId:t,setPlacementExtraContext:r,shouldShowInbox:s,toastManager:o,openInbox:d,trackInteraction:c}=this.props,{visualState:{carouselData:u}}=this.state,p=e_({richPinData:n.rich_summary});this.mounted=!0,!u&&(p?.has_multi_images||p?.videos?.length)&&this.populatePlaceholderCarouselData(),e&&t&&l&&a5({conversation_id:e,senderId:t,pinId:l}),e&&(a(e),s&&d()),n.image_signature&&this.props.setMostRecentPinImage(n.image_signature),l&&this.props.setMostRecentPinId(l),r&&r({is_own_or_group_pin:this.isOwnOrGroupPin});let g=(0,aD.M0)().getItem(a_.M8)||"";g&&g===l&&((0,aD.M0)().removeItem(a_.M8),(0,aD.M0)().removeItem(a_.RD),c({action:"trigger",item:"unauth-save-button-quicksave"}),(0,ag.Z)({description:n.description,entityId:n.id,link:n.link,promotedIsRemovable:n.promoted_is_removable,title:n.title},this.props.i18n).then(e=>{let{id:a,url:t,name:r}=e;i((0,aq.d)({boardId:a,url:t,title:r||"",pinId:l,nodeId:n.node_id})),o.showToast(({hideToast:a})=>(0,O.jsx)(aV.Z,{boardName:e.name,boardUrl:e.url,onHide:a,pinImageUrl:n.images?.["236x"]?.url??""}))})),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,av.Z)()}componentDidUpdate(e){let{didRepin:a,isLandingPage:i,pin:n,pinId:l,conversation_id:t,senderId:r,pinResource:s,pinResource:{data:o},pwtSurfaceContext:d,setPlacementExtraContext:c,showQuickPromote:u}=this.props,{visualState:{carouselData:p},firstLoadComplete:g,quickPromoteModalTriggered:m}=this.state;this.visualDataDidUpdate(),!g||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(d?.removeConstraint("thumbnailsLoaded"),(0,aL.l7)("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),o&&!g&&(o.carousel_data&&(o.carousel_data.index=p?.index||0),this.dispatch({type:"pinLoaded",pin:o})),t&&r&&l&&e.pinId!==l&&a5({conversation_id:t,senderId:r,pinId:l}),!e.pinResource.data&&s.data&&!m&&u&&this.triggerQuickPromote();let h={};(aD.ZP.getItem(a_.W3)||"").includes(`/pin/${l}`)&&i&&(h.loginPageType="pin"),a&&(h.didRepin=!0),n.image_signature&&(h.pin_image_signature=n.image_signature),h.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,ab.Z)(h)&&c&&c({...h})}componentWillUnmount(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:a}=this.props,i=(e||{}).board||{},n=i.is_collaborative&&(0,af.Z)(i.collaborated_by_me,i.owner?.id,a);return!!(a.isAuth&&e.pinner?.id===a.id||n)}isWideCarousel(){let{viewportSize:e,visualState:{carouselData:a}}=this.state;return a4({viewportSize:e,hasCarouselData:!!a})}visualDataDidUpdate(){let e;let{pin:a,mainImage:i}=this.props,{visualState:{carouselData:n,mainImage:l},firstLoadComplete:t}=this.state;if(!t)return;let r=(0,ak.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,aS.Z)(s.images),d=n?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,aU.Yf)(a.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,aU.Yf)(a.images?.["236x"])},(n?.id!==e.carouselData?.id||JSON.stringify(n?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||l.url!==e.mainImage.url)&&(this.setState({visualState:e}),this.updateViewportSize())}renderBodyContent({isEligibleForStlFlyout:e,relatedResourceOptions:a,maxWidth:i}){let{experimentsClient:{checkExperiment:n},isLimitedLogin:l,pin:t,pinResource:r,routePush:s,searchQuery:o,showRepinOnInitialRender:d,trafficSource:c,viewer:u,orbacActingAs:h,showStructuredDescription:_,userBusinessRoleResource:y,closeupWithinMasonryEnabled:f,trendsData:x}=this.props,{id:k,sponsorship:S,story_pin_data_id:P,story_pin_data:v}=t,b=!!P,T=!!v?.is_deleted,{creator:I,sponsor:w,status:F}=S||{},{username:C}=I||{},{username:A}=w||{},{refresh:j}=r,R=(0,eS.lJ)(u,h),{data:K}=y||{},E=!t.is_repin&&!!A,L=A===u.username?[ax.V3.OWNER]:K?.permissions,D=A===u.username||!!L?.find(e=>ah.Z.includes(e)),Z=A===u.username||!!L?.find(e=>ah.Z.includes(e)),{didShortClickThrough:M,viewportSize:N}=this.state,{isWideVideo:B}=(0,aw.Z)((0,aj.Z)({pin:t}))||{},z=(0,aI.rh)(t&&{aggregatedPinData:t.aggregated_pin_data&&{creatorAnalytics:t.aggregated_pin_data.creator_analytics&&{_30dRealtime:t.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:t.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:t.board&&{privacy:t.board.privacy},creatorAnalytics:t.creator_analytics&&{_30dRealtime:t.creator_analytics["30d_realtime"]&&{carId:t.creator_analytics["30d_realtime"].id}},isRepin:t.is_repin,pinner:t.pinner&&{entityId:t.pinner.id},storyPinDataId:t.story_pin_data_id,videos:t.videos&&{videoList:t.videos.video_list&&{__typename:"VideoList"}}},u,R),U=(0,m.CA)(x?.data),H=E&&u.isAuth&&n("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(D&&0===F||Z&&1===F),V=b&&(v?.pages?.length??0)>0,G=(0,aI.WE)(u,N,z,U,x,H),W=f?a6:a2;return(0,O.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:b?{...a3.storyPinGradientStyle,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,O.jsx)(p.Fragment,{children:(0,O.jsx)(az.Z,{isStoryPin:b,isWideVideo:B,children:(0,O.jsx)(ed.Z,{name:"CloseupBody",children:(0,O.jsxs)(g.xu,{children:[(0,O.jsxs)(g.xu,{alignItems:B?"center":void 0,direction:B?"column":void 0,display:B?"flex":void 0,children:[H&&"number"==typeof F&&(0,O.jsx)(g.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,O.jsx)(ed.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,O.jsx)(eh.Z,{children:(0,O.jsx)(aJ,{business_role:L,creatorUsername:C??"",pinId:k,sponsorshipStatus:F})})})}),G&&!f&&(0,O.jsx)(g.xu,{"data-test-id":"PartnerModule",width:"lg"===N&&B?i:"100%",children:(0,O.jsx)(ed.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,O.jsx)(eh.Z,{children:(0,O.jsx)(aQ,{borderStyle:W,isStoryPin:b,pinKey:{type:"deprecated",data:t},showPinStats:z,trendsData:U?x?.data?.results:null,viewportSize:N})})})})]}),(0,O.jsx)(eL,{data:r.data,didShortClickThrough:M,goBack:this.handleBackButtonClick,isDeletedStoryPin:!!T,isEligibleForStlFlyout:e,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,isStoryPin:b,isWideVideo:B,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleSaveButtonClick,onUpdate:j,outerBodyStyle:b?null:W,pin:t,relatedResourceOptions:a,routePush:s,searchQuery:o,showPartnerModule:G,showPinStats:z,showRepinOnInitialRender:!l&&d,showStructuredDescription:_,showTrendsOnPinCloseup:U,trafficSource:c,trendsData:x,viewParameterType:V?157:void 0,viewType:3})]})})})})})}render(){let{abortNoActionPlacementTimeout:e,clientTrackingParams:a,contextPinIds:i,getStringifiedCommerceAuxData:n,pin:l,pinDerivedData:t,topLevelTrafficSource:r,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:d,storyPinTaggedProductsResource:c,pinResource:u,viewer:m,orbacActingAs:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:x,peekCloseupEnabled:k,isCommentThreadExpanded:S,isPinNoteExpanded:P,isProductDetailsExpanded:v,isInRemoveMagnifyingGlassVariant:b,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:I,setIsPinNoteExpanded:w,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:C,setAbortNoActionPlacementTimeout:A,isCloseupMediaViewerOpen:j,setIsCloseupMediaViewerOpen:R,shouldFetchSLURPFields:K,landingContext:E}=this.props,{showStructuredDescription:L,...D}=this.props,Z=n(),{isOverRelatedPins:M,viewportSize:N,didShortClickThrough:B,firstLoadComplete:z,visualState:{carouselData:U}}=this.state,{isWideVideo:H}=(0,aw.Z)((0,aj.Z)({pin:l}))||{},V=!C&&a7({isWideVideo:!!H,viewportSize:N,peekCloseupEnabled:k}),{recommendation_reason:G}=l,W={name:"RelatedModulesResource",options:{additional_fields:K?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:l.id,context_pin_ids:i,homefeed_source_sig:G&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(G.reason)&&G.reason_id,page_size:12,search_query:d,source:o,top_level_source:r,top_level_source_depth:s,is_pdp:l.is_eligible_for_pdp,landing_context:E}},$=(0,eS.q6)(m,l.pinner?.id,y),Y=!!l.id&&!$||C,{data:q}=c||{},X=this.isWideCarousel(),Q=C?eP.Gg:eP.CI,J=X&&V?eP.Ch:Q,ee=X?eP.Gb:eP.Kn,ea=C||"lg"!==N?J:ee-J,ei=z&&(this.isWideCarousel()||C),en=ei&&(0,O.jsx)(ej,{disabled:!L||C,children:(0,O.jsx)(aK.Z,{containerId:"InnerScrollContainer",children:(0,O.jsx)(am.Z,{carouselSlots:U?.carousel_slots??[],commerceData:Z,onImageSelect:this.handleCarouselSwipe,pinId:l.id,selectedIndex:U?.index||0,size:"sm",surfaceType:"closeup",viewParameter:(0,e3.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data})})})}),el=ei&&(0,O.jsx)(g.xu,{width:a0.sm}),et=this.renderBodyContent({relatedResourceOptions:W,storyPinTaggedProducts:q,maxWidth:ee}),er=(0,O.jsx)(h.Z,{isVideoPin:t.isVideoPin,pin:l,pinResource:u,topLevelTrafficSource:r,didShortClickThrough:B,firstLoadComplete:z,viewportSize:N,relatedModulesContent:Y?(0,O.jsx)(ap,{closeupBody:et,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,pinKey:{type:"deprecated",data:l},relatedPinsContainerRef:this.props.relatedPinsContainerRef,relatedResourceOptions:W,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:r,viewParameter:(0,e3.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!l.rich_metadata?.products,hasPinRichMetadataArticle:!!l.rich_metadata?.article,hasPinRichMetadataRecipe:!!l.rich_metadata?.recipe,hasPinStoryPinData:!!l.story_pin_data}),viewportSize:N}):(0,O.jsx)(p.Fragment,{}),onWrapperClick:this.onWrapperClick,beforeBodyContent:en,afterBodyContent:el,bodyContent:et,backButton:(0,O.jsx)(aN.Z,{handleScroll:this.handleScroll,onClick:this.handleBackButtonClick,showShadow:M})});return(0,O.jsx)(_.Z,{abortNoActionPlacementTimeout:e,beforeBodyContent:en,classProps:{...D,location:{pathname:"",search:"",hash:""}},classState:this.state,clientTrackingParams:a,commerceData:Z,showCloseupContentRight:V,showProductDetailPage:!0,paneWidth:J,maxWidth:ee,descriptionPaneWidth:ea,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:er,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss,isCloseupMediaViewerOpen:j,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:x,isCommentThreadExpanded:S,isInRemoveMagnifyingGlassVariant:b,isPinNoteExpanded:P,isProductDetailsExpanded:v,peekCloseupEnabled:k,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:R,setIsPinNoteExpanded:w,setIsProductDetailsExpanded:F,closeupWithinMasonryEnabled:C,setAbortNoActionPlacementTimeout:A})}}let a9=(0,S.Z)(function(e){let{clientTrackingParams:a,pin:i,pinResource:n,pinId:l,viewer:t,deepLinkBackGoesToBoard:r,goBack:s,routePush:d,trafficSource:c}=e,{logContextEvent:u}=(0,H.v)(),g=(0,aM.Z)(),h=(0,G.ZP)(),_=(0,em.B)(),y=(0,aR.F)(),{checkExperiment:S}=y,P=!!(i.is_eligible_for_pdp&&!i.story_pin_data&&i.formatted_description?.components),[v,b]=(0,p.useState)(!1),[T,I]=(0,p.useState)(!1),[w,F]=(0,p.useState)(!1),[C,A]=(0,p.useState)(!1),[j,R]=(0,p.useState)(!1),[K,E]=(0,p.useState)(!1),L=(0,p.useRef)(null),[D,Z]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{Z(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=L?.current;return L?.current&&e.observe(L?.current),()=>{a&&e.unobserve(a)}},[L]);let{setMostRecentPinId:M,setMostRecentPinImage:N}=(0,aY.f)(),B=(0,ef.Z)({type:"deprecated",data:i}),z=(0,aA.Z)({type:"deprecated",data:i}),U=(0,aF.sY)(i.embed?.type)&&"gif"||!!i.is_eligible_for_pdp&&"productPin"||i.rich_summary?.type_name==="recipe"&&"recipePin"||i.story_pin_data_id&&"storyPin"||!!i.videos?.video_list&&"video"||"image",V="pin_closeup_lcp",W=(0,aE.PY)(V),{conversationOpen:$}=(0,aG.Z)(),Y=(0,a$.Z)(),{shouldFetchSLURPFields:q}=(0,k.Z)({pinKey:{type:"deprecated",data:i}}),{getLandingContext:X}=(0,aT.Z)(),Q=(0,ek.Z)(),J=(0,eS.lJ)(t,Q);(0,p.useEffect)(()=>{W&&(0,aE.ku)({stopwatchName:V,binaryAnnotationName:"pinType",value:U,annotationType:"STRING"})},[W,U]);let ee=i.sponsorship?.sponsor?.id,ea=!i.is_repin&&!!ee,ei=(0,eR.Z)(ee&&ea&&t.isAuth&&"storyPin"===U?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ee}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:en}=(0,aH.Z)({logCommerceAuxData:!0,deepLinkBackGoesToBoard:r,element:13310,goBack:s,routePush:d,trafficSource:c,viewer:t,requestContext:_,pinKey:{type:"deprecated",data:i}},u),el=t.isAuth&&(0,m.Gv)({orbacSubjectId:J,pinIsRepin:i.is_repin,pinPinnerId:i.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:et,isLoaded:er}=(0,eR.Z)(el?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${i.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:es}=(0,f.Z)(),eo=t.isAuth&&S("closeup_dweb_remove_magnifying_glass").anyEnabled,ed=(0,x.Z)({pin:i,pinId:l,pinResource:n}),{getMainPinImage:ec}=(0,aC.Z)({pinKey:{type:"deprecated",data:i}});return(0,O.jsx)(a8,{...e,abortNoActionPlacementTimeout:v,clientTrackingParams:a,closeupWithinMasonryEnabled:es,conversationOpen:$,dispatch:(0,o.I0)(),experimentsClient:y,getSterlingURL:(0,ay.Z)(),getStringifiedCommerceAuxData:B,i18n:h,initialState:ed,isCloseupMediaViewerOpen:K,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:T,isCommentThreadExpanded:w,isInRemoveMagnifyingGlassVariant:eo,isPinNoteExpanded:C,isProductDetailsExpanded:j,isRelatedPins10PercentVisible:D,landingContext:X(),logContextEvent:u,mainImage:ec(),onHandleBackButtonClick:en,orbacActingAs:Q,peekCloseupEnabled:!es,pinFormattedLink:z,pwtSurfaceContext:(0,eg.E)(),relatedPinsContainerRef:L,requestContext:_,setAbortNoActionPlacementTimeout:b,setIsCloseupMediaViewerOpen:E,setIsCommentAttachmentSelectorOpen:I,setIsCommentThreadExpanded:F,setIsPinNoteExpanded:A,setIsProductDetailsExpanded:R,setMostRecentPinId:M,setMostRecentPinImage:N,shouldFetchSLURPFields:q,showStructuredDescription:P,toastManager:(0,aB.F9)(),trackInteraction:g,trendsData:{data:et,isLoaded:!el||er},userBusinessRoleResource:ei,verticalNavWidth:Y})});var ie=i(400962),ia=i(267092),ii=i(228612);function il(e){return(0,O.jsx)(c.l6,{...e,CloseupComponent:a9})}function it(e){let a=(0,o.I0)(),i=(0,ex.Z)(),n=(0,d.UO)(),l=(0,ie.aX)(),t=(0,d.TH)(),r=(0,ii.S6)()(n.id),s=(0,en.Z)((t?.state||{}).trackingParams,r?.tracking_params),c={...e,history:(0,d.k6)(),location:(0,d.TH)(),clientTrackingParams:s,params:n,requestContext:(0,em.B)(),searchPinCloseupViewed:(e,i)=>a((0,ia.Y4)(e,i)),viewer:i},{checkExperiment:g}=(0,aR.F)();return(0,O.jsx)(u.Z,{orbacSubjectId:(0,eS.lJ)(i,(0,ek.Z)()),pinId:n.id||"",children:({pinResource:e})=>(0,p.createElement)(il,{...c,key:n.id,checkExperiment:g,clientTrackingParams:s,currentHistoryStack:l,pinResource:e})})}},210616:function(e,a,i){i.d(a,{Z:()=>l});var n=i(405897);function l({isFromBackButton:e,referringSource:a,relatedModulesRef:i}){!e&&i?.current&&a===n.i.SHOPPING_FILTER&&setTimeout(()=>{i.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}},17841:function(e,a,i){i.d(a,{Z:()=>l});var n=i(719301);let l=[n.gO.ADMIN,n.gO.CAMPAIGN_MANAGER]},971116:function(e,a,i){i.d(a,{Z:()=>D});var n=i(667294),l=i(581722),t=i(633301),r=i(883119),s=i(879405),o=i(458465),d=i(138596),c=i(785893);let u=({collapsed:e,commentCount:a,onIconClick:i=()=>{}})=>{let n=(0,d.ZP)(),l=(0,o.i$)(a,n);return(0,c.jsx)(s.Z,{collapsed:e,heading:l,onClick:i,showArrow:a>0})};var p=i(992998),g=i(299136);function m({comment:e}){let a=(0,d.ZP)(),{user:{first_name:i,image_medium_url:l,username:t},tags:s=[]}=e,u="",m="userdiditdata"===e.type&&e.details?e.details:"",h="aggregatedcomment"===e.type&&e.text?e.text:m,_=[e.user];if("aggregatedcomment"===e.type){_.push(...e.tagged_users);let i=e.media?.media_type===1;u=`${t} ${i?h||(0,o.F1)(a):h}`}else u=`${t} ${h||(0,o.Ff)(a)}`;let y=(0,o.zs)(t,s),f="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(r.xu,{marginEnd:2,children:(0,c.jsx)(p.Z,{isQuestion:f,name:i||t||"",size:"xs",src:l??""})}),(0,c.jsx)(r.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,c.jsx)(r.kC,{justifyContent:"between",children:(0,c.jsx)(r.kC.Item,{minWidth:0,children:(0,c.jsx)(r.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,c.jsx)(g.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:_,tags:y,text:u})})})})})]})})}var h=i(186266),_=i(408304),y=i(788730),f=i(734473),x=i(453471),k=i(230201),S=i(59111),P=i(774838),v=i(661376),b=i(739405),T=i(462867),I=i(200619),w=i(601871),F=i(264267),C=i(107889),A=i(133546),j=i(624333),R=i(426130),K=i(578321),E=i(646239);let L=({aggregatedPinId:e,closeupAttributionId:a,closeupAttributionUsername:i,commentCount:s,commentsDisabled:o,commentsLoadedCallback:d,featuredCommentId:p,isCommentSectionOpen:g,isLoadingNewCreatedComment:f,isORBACProfileManager:K,isVideo:L,onCommentSectionClick:D,photoCount:Z,pinId:M,pinnerId:N,scrollContainerRef:B,shouldShowHeading:O,storyPinDataId:z,viewParameter:U})=>{let H=(0,l.I0)(),{logContextEvent:V}=(0,k.v)(),{updateCloseupBodyContainerHeight:G}=(0,n.useContext)(A.ZP),{isBot:W}=(0,P.B)(),$=(0,b.HG)(),Y=(0,F.lV)(),{toggleAggregatedCommentHelpful:q,toggleAggregatedCommentLike:X}=(0,F.nf)(),{closeupWithinMasonryEnabled:Q,peekCloseupEnabled:J,viewportSize:ee}=(0,A.x4)(),ea=(0,n.useRef)(null),ei=(0,n.useRef)(null),[en,el]=(0,n.useState)(!1),[et,er]=(0,n.useState)(!1),[es,eo]=(0,n.useState)(!1),[ed,ec]=(0,n.useState)(!1),[eu,ep]=(0,n.useState)(void 0),[eg,em]=(0,n.useState)(void 0),eh=(0,T.Z)(),e_=(0,I.Z)(),ey=(0,w.lJ)(eh,e_),ef=Q?0:6,ex=Math.max(s+Z,0)>0,ek=(0,n.useRef)(!ex),{fetchMore:eS,isAtEnd:eP,isFetching:ev,isLoaded:eb}=(0,v.Z)(!ek.current&&e?(0,j.B)({aggregatedPinDataId:e,featuredCommentIds:p?[p]:[],isDesktop:$,orbacSubjectId:ey}):null),eT=(0,l.v9)(a=>(0,E.Z)(a,{aggregatedPinDataId:e,aggregatedComments:Y})),eI=ed&&!g&&!!eT.length&&Q;(0,n.useEffect)(()=>{G&&G()},[G]),(0,n.useEffect)(()=>{d?.(eb||!ex)},[d,eb,ex]),(0,n.useEffect)(()=>(g&&en&&(ei.current=Date.now()),()=>{ei.current&&(V({component:14381,event_type:16258,object_id_str:M,aux_data:{time_in_ms:Date.now()-ei.current}}),ei.current=null)}),[g,en,V,M]);let ew=e=>{ep(e?.id)},eF=(e,a,i)=>()=>{i?H((0,R.wH)({didItDataId:e,isLikedByMe:a,orbacSubjectId:ey})):X({aggregatedCommentId:e,isLikedByMe:a,orbacSubjectId:ey})},eC=(e,a,i)=>()=>{i?H((0,R.YH)({didItDataId:e,isMarkedHelpfulByMe:a,orbacSubjectId:ey})):q({aggregatedCommentId:e,isMarkedHelpfulByMe:a,orbacSubjectId:ey})},eA=eI&&(0,c.jsx)(r.xu,{marginBottom:Q?4:0,marginTop:Q?1:0,children:(0,c.jsx)(m,{comment:eT[0]})}),ej=l=>(0,c.jsxs)(n.Fragment,{children:[!!B&&(0,c.jsx)(r.gr,{container:Q?ea.current??void 0:B,fetchMore:W?void 0:eS,isAtEnd:eP,isFetching:ev}),(0,c.jsxs)(h.Z,{nodeRef:l??void 0,paddingLeft:Q?8:0,paddingRight:Q?8:0,children:[(0,c.jsx)(x.Z,{aggregatedPinDataId:e,closeupAttributionId:a,closeupAttributionUsername:i,comments:eT,commentsDisabled:o,commentsScrollContainerRef:ea,featuredCommentId:p,gapSize:5,isDesktop:!0,isLoaded:eb||!ex,isLoading:!eb&&(f||ev),isORBACProfileManager:K,isVideo:L,parentId:e??void 0,parentType:C.o.pin,pinId:M,pinnerId:N,reactionListCommentId:eg,replyingToCommentId:eu,showReactionListForComment:em,storyPinDataId:z,toggleHelpful:eC,toggleLike:eF,toggleReplyComposer:ew,userAvatarSize:"sm",viewParameter:U}),(0,c.jsx)(_.Z,{show:Q&&ex&&g&&es,surface:"comment-body-scrolling"})]})]}),eR=0,{fiftyPercentHeight:eK}=(0,y.Re)();J&&(eR=eK,"sm"===ee&&(eR=`calc(${eK}/2)`));let eE=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${eR};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${eR};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,n.useEffect)(()=>{if(!Q)return()=>{};let e=()=>{(ea?.current?.scrollTop??0)>0?er(!0):er(!1),(ea?.current?.scrollHeight??0)>(ea?.current?.clientHeight??0)&&eo(!0)},a=ea.current;return a&&a.addEventListener("scroll",e),()=>{a&&a.removeEventListener("scroll",e)}},[Q,g]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{ec(!0)},Q?0:1e3);return()=>clearTimeout(e)},[Q]);let eL=ed&&(g||!ex),eD=(0,n.useRef)(null);return(0,c.jsx)(r.xu,{id:"canonical-card",children:(0,c.jsxs)(r.kC,{dataTestId:"canonical-card",direction:"column",gap:J?void 0:{row:0,column:ef},children:[(0,c.jsxs)(r.iP,{accessibilityLabel:"Tap area to expand/collapse the comments section if there are any comments.",disabled:!!o||!ex,onTap:()=>{D?.(!g),en||g||el(!0)},children:[O&&(0,c.jsx)(r.kC.Item,{children:(0,c.jsxs)(r.xu,{color:Q?"light":void 0,children:[(0,c.jsx)(u,{collapsed:!g,commentCount:o?0:Math.max(s+Z,0)}),(0,c.jsx)(_.Z,{show:Q&&ex&&et&&g,surface:"comment-heading"})]})}),eI&&!J&&eA]}),J&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(S.Z,{unsafeCSS:eE}),(0,c.jsx)(t.Z,{classNames:"comment-section",in:ed&&(g||!ex),nodeRef:eD,timeout:1e3,unmountOnExit:!0,children:ej(eD)})]}),eL&&!J&&ej()]})})};function D(e){let a=(0,l.I0)();return(0,c.jsx)(L,{...e,featuredCommentId:(0,f.K)(),pinUpdateCommentCount:(e,i)=>a((0,K.R)(e,i))})}},143040:function(e,a,i){i.d(a,{Z:()=>g});var n=i(667294),l=i(883119),t=i(361004),r=i(138596),s=i(216975),o=i(696749),d=i(785893);function c({minutes:e}){let a=(0,r.ZP)(),i=e%60,n=Math.floor(e/60),o=i>0?(0,s.nk)(a._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:i}).join(""):"",c=n>0?(0,s.nk)(a._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:n}).join(""):"";return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:c,minsText:o})})})}function u({servingSize:e}){let a=(0,r.ZP)(),i=(0,o.Z)(a.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:i})})})}function p({difficulty:e}){let a=(0,r.ZP)(),i={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=e?i[e]:null;if(!n)return null;let o=a._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:(0,s.nk)(a._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:o,difficultyLevel:n})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:a}){if(!a)return null;let i=e||[];return(0,d.jsx)(l.xu,{"data-test-id":"categories-metadata",children:(i||[]).map((e,a)=>{let r=`kv-${a}`,s=function(e){let a=e.category_type??e.categoryType,{value:i}=e;if(2===a)return(0,d.jsx)(p,{difficulty:i});let n=parseInt(i,10);return 1===a?(0,d.jsx)(u,{servingSize:n}):0===a&&n?(0,d.jsx)(c,{minutes:n}):null}(e);return s?a<i.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(l.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(l.xv,{inline:!0,size:t.n,children:"  "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},233511:function(e,a,i){i.d(a,{R:()=>e7,Z:()=>e8});var n,l,t,r,s,o=i(667294),d=i(581722),c=i(616550),u=i(883119);i(167912);var p=i(907022),g=i(79271),m=i(575647),h=i(785893);let _=void 0!==n?n:n=i(351786),y=({children:e,clientTrackingParams:a,pinKey:i,pinImageUrl:n,closeupNavigationType:l})=>{let t=(0,p.Z)(_,i),r=(0,m.Z)(t),{entityId:s}=t,o=t.isEligibleForPdp?r():{};return(0,h.jsx)(g.F,{clientTrackingParams:a,closeupImpressionType:13,closeupNavigationType:l,componentType:85,contextLogData:o,impressionAuxFields:{imageURL:n,clientTrackingParams:a},impressionType:"Pin",loggingId:s,slotIndex:-1,viewData:{pin_id:s},viewType:3,children:({impressionTrackerRef:a})=>(0,h.jsx)(u.xu,{ref:a,"data-test-id":"closeup-visual-container",children:e})})};var f=i(143040),x=i(930622),k=i(236739),S=i(361004),P=i(283220),v=i(138596),b=i(216975);let T=e=>{if(!e)return null;let{categorizedIngredients:a}=e.recipe;return a&&a.length>0?{...e,categorizedIngredients:a}:null};var I=i(589771),w=i(569377),F=i(438303),C=i(132781),A=i(147950),j=i(692763),R=i(680589),K=i(133546),E=i(488598),L=i(1769),D=i(977854),Z=i(292917);let M=e=>e.replace(/\s+/g," "),N=void 0!==l?l:l=i(591503);class B extends o.Component{componentDidMount(){let{onUpdate:e}=this.props;e?.()}componentDidUpdate(e){if(e.showMore!==this.props.showMore){let{onUpdate:e}=this.props;e?.()}}render(){let{isArticle:e,pin:a,tutorialDescription:i,showMore:n,onToggle:l,i18n:t,closeupWithinMasonryEnabled:r,peekCloseupEnabled:s,showSponsorshipAttribution:o,hasAffiliateLink:d,hasAffiliateProducts:c}=this.props,{carouselData:p,closeupUnifiedDescription:g,userMentionTags:m,storyPinData:_}=a,y=(g||"").trim();if(p){let e=p.carouselSlots??[],a=p.index??0;e[a]&&e[a].details&&(y=e[a].details)}let f=y&&i&&i.trim()===y,v=y?M(y):"";(v=!n&&v&&v.length?(0,R.ZP)(v,e?195:200):v)&&m&&(v=(0,h.jsx)(P.Z,{description:v,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:m.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))}));let K=y&&y.length>(e?195:200),N=null,B=T((0,I.Z)((0,w.Z)((0,F.Z)(this.props)))),O=_?.metadata?.basics;if(O){let e;let{keyValueBlocks:i,listBlocks:n}=O;a&&a.domain&&a.link&&(e={domain:a.domain,url:a.link});let l=[];e?.domain&&(l=[...l,e.domain]);let r=(i||[]).map(e=>(0,L.Z)(e.categoryType,e.value,t)).filter(e=>""!==e);r.length>0&&(l=[...l,...r]),(n??[]).forEach(({heading:e,blocks:a})=>{e&&(l=[...l,e]),(a??[]).forEach(({blocks:e})=>{(e??[]).forEach(({text:e})=>{e&&(l=[...l,e])})})}),N=(0,D.Z)(l)}else if(B){let{pin:e}=this.props,{prepTime:a,cookTime:i,totalTime:n,servingSummary:l,serves:t}=B.recipe,r=n||i||a;if(i&&a){let e=i.h||0,n=i.m||0;r={h:e+(a.h||0),m:n+(a.m||0)}}let s=r?(0,j.Z)((0,A.X)(r),this.props.i18n):null,o=e.richMetadata?.recipe?.aggregateRating?.reviewCount;l&&(N=t?(0,h.jsxs)(u.xv,{inline:!0,size:S.n,children:[t," ",this.props.i18n._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,h.jsx)(u.xv,{inline:!0,size:"200",children:l},"recipe")),s&&(N=N?(0,b.nk)("{{ timeLabel }}  {{ description }}",{timeLabel:s,description:N}):s),"number"==typeof o&&o>0&&(N=N?(0,b.nk)(this.props.i18n._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:o,description:N}):o);let d=e.richMetadata?.recipe?.aggregateRating?.ratingValue,c=Number(d);Number.isNaN(c)&&(c=0),c>=.25&&(N=N?(0,b.nk)("{{ ratings }} {{ description }}",{ratings:(0,h.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d),description:N}):(0,h.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d))}if(!v||f)return null;let z=4;return r?z=0:s&&(z=2),y?(0,h.jsxs)(u.xu,{marginBottom:r?0:o&&(d||c)?2:4,marginTop:z,children:[(0,h.jsx)(k.Z,{descriptionDir:(0,Z.j)(y),children:(0,h.jsx)(x.Z,{description:y||"",userMentionTags:m||[]})}),o&&(0,h.jsx)(u.xu,{marginTop:1,children:(0,h.jsx)(E.Z,{hasAffiliateLink:d,hasAffiliateProducts:c})})]}):(0,h.jsxs)("span",{children:[(0,h.jsx)(u.xv,{color:r?"subtle":void 0,inline:!0,size:"200",children:(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",position:"relative",children:N?(0,b.nk)("{{ recipeInfo }}  {{ description }}",{recipeInfo:N,description:v}):v})}),K&&!n&&(0,h.jsx)(u.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,h.jsx)(u.iP,{fullWidth:!1,onTap:l,children:(0,h.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:this.props.i18n._('More', ' - ', ' -- ')})})})]})}}let O=function(e){let a=(0,v.ZP)(),{pinKey:i}=e,n=(0,p.Z)(N,i),{closeupWithinMasonryEnabled:l,peekCloseupEnabled:t}=(0,K.x4)();return(0,h.jsx)(B,{...e,closeupWithinMasonryEnabled:l,i18n:a,peekCloseupEnabled:t,pin:n})},z=(e,a)=>e.length>300?e:e.length+a.length+3>300?`${e} ${a}...`:`${e} ${a}`,U=e=>e.split(" ").map(e=>e.trim()).reduce(z,""),H=void 0!==t?t:t=i(879971);function V(e){let[a,i]=(0,o.useState)(!1),{pinKey:n,onUpdate:l,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s}=e,d=(0,p.Z)(H,n);if(!d.entityId)return null;let c=!!d.aggregatedPinData,u=!!d.description,g=!!d.richMetadata?.recipe,m=!!d.richMetadata?.article,_=d.richMetadata?.article?.description,y=!!d.richMetadata?.tutorial,f=d.richMetadata?.tutorial?.description??"",x=m&&!g&&!y;return(0,h.jsx)(o.Fragment,{children:(0,h.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:u||c?(0,h.jsx)(O,{hasAffiliateLink:r,hasAffiliateProducts:s,isArticle:x,onToggle:()=>i(!0),onUpdate:l,pinKey:d,showMore:a,showSponsorshipAttribution:t,tutorialDescription:f}):x&&_&&(0,h.jsx)("span",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:U(_)})})})}var G=i(201105);function W({mediaAttribution:{author:e,authorUrl:a,ccUrl:i,link:n,mediaType:l,providerName:t}}){let r=(0,v.ZP)(),s=!!(t&&n);if(!e&&!s)return null;let o=s?r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return e&&(o="VIDEO"===l?s?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s?r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,h.jsx)(u.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,h.jsxs)(u.xv,{color:"default",size:"200",children:[!!o&&(0,h.jsx)(G.Z,{text:(0,b.nk)(o,{author:(0,h.jsx)(u.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,h.jsx)(u.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,h.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,h.jsx)(u.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),i&&(0,h.jsx)(u.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function $({attribution:{authorName:e,authorUrl:a,ccUrl:i,providerName:n,url:l},embed:t}){let r=(0,v.ZP)(),s=!!(n&&l);if(!e&&!s)return null;let o=null;return s?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):r._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):r._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):r._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,h.jsx)(u.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,h.jsxs)(u.xv,{color:"default",size:"200",children:[!!o&&(0,h.jsx)(G.Z,{text:(0,b.nk)(o,{author:(0,h.jsx)(u.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,h.jsx)(u.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,h.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,h.jsx)(u.rU,{display:"inlineBlock",href:l??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),i&&(0,h.jsx)(u.rU,{href:i,rel:"nofollow",children:r._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}let Y=void 0!==r?r:r=i(888711),q=e=>{let{isStoryPin:a,pinKey:i,onUpdate:n}=e,l=(0,p.Z)(Y,i),t=l.entityId&&(!!l.attribution?.providerUrl&&!!l.attribution.providerName||!!l.attribution?.authorName),r=l.entityId&&(!!l.mediaAttribution?.link&&!!l.mediaAttribution.providerName||!!l.mediaAttribution?.author),s=null;if(t||r){let{closeupUnifiedDescription:e}=l,a=(e||"").trim()?"{{ credit }}":"{{ credit }}";s=l.mediaAttribution?(0,b.nk)(a,{credit:l.mediaAttribution&&(0,h.jsx)(W,{mediaAttribution:{author:l.mediaAttribution.author,authorUrl:l.mediaAttribution.authorUrl,ccUrl:l.mediaAttribution.ccUrl,link:l.mediaAttribution.link,mediaType:l.mediaAttribution.mediaType,providerName:l.mediaAttribution.providerName}},"article-pin")}):(0,b.nk)(a,{credit:l.attribution&&(0,h.jsx)($,{attribution:{authorName:l.attribution.authorName,authorUrl:l.attribution.authorUrl,ccUrl:l.attribution.ccUrl,providerName:l.attribution.providerName,url:l.attribution.url},embed:l.embed&&{type:l.embed.type,src:l.embed.src,subtype:l.embed.subtype}},"article-pin")})}return(0,h.jsxs)(u.xv,{inline:!0,children:[s,!a&&(0,h.jsx)(V,{onUpdate:n,pinKey:l})]})};var X=i(186266),Q=i(661376);function J({creatorId:e,children:a}){let{data:i}=(0,Q.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return a(i)}var ee=i(721956),ea=i(290852),ei=i(301055),en=i(788730),el=i(879029),et=i(928585),er=i(752031),es=i(483306),eo=i(382167),ed=i(935009),ec=i(239321),eu=i(470205),ep=i(173874),eg=i(774838),em=i(825605),eh=i(605203),e_=i(902123),ey=i(601871),ef=i(15392),ex=i(427488);function ek({children:e}){let{isCloseupRelatedPinsAboveTheFoldEnabled:a,closeupWithinMasonryEnabled:i,peekCloseupEnabled:n}=(0,K.x4)(),l=8,t=4;return n?(l=0,t=ef.O5):i&&(l=void 0,t=void 0),(0,h.jsx)(u.xu,{marginBottom:l,marginTop:t,minHeight:a?void 0:48,children:e})}var eS=i(194442);let eP=(0,eS.Z)(()=>i.e("35563").then(i.bind(i,176658)),void 0,"app-www-closeup-duplo-PinRecipeRating"),ev=(0,eS.Z)(()=>i.e("32077").then(i.bind(i,657361)),void 0,"app-common-react-components-GroupBoardCloseup-SavedInfo"),eb=(0,o.lazy)(()=>i.e("96615").then(i.bind(i,430505))),eT=void 0!==s?s:s=i(407526);function eI({pinKey:e,clientTrackingParams:a,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:l,viewParameter:t,trafficSource:r,details:s,viewer:d,onClickThrough:g,onCloseupBodyUpdate:m,orbacActingAs:_,outerPaddingSize:y,viewportSize:S,shouldShowPartnerModule:P,trendsData:b,showTrendsOnPinCloseup:T,showPinStats:I,clickthroughUrlLink:w}){let F=(0,v.ZP)(),{carouselInfo:C}=(0,er.r)(),A=(0,p.Z)(eT,e),{getShowClickthroughLink:j,makeDetailsArgs:R}=(0,ee.ZP)(A),{creatorId:L,showCreatorCard:D}=R(!!l),{sideBySideRedesignFastFollowsExpGroup:M,sideBySideFullWidthCTAEnabled:N}=(0,et.Z)(),B="enabled_cta_near_save"===M,O="enabled_persistent_cta"===M&&!n,z=j(i),U=(0,es.Z)({clientTrackingParams:a,pinKey:A,pinId:A.entityId,viewParameter:t,trafficSource:r}),H=(0,ei.Z)(A,d),{closeupUnifiedDescription:V,closeupUserNote:G,userMentionTags:W}=A,$=V?.trim(),Y=(0,ea.Z)({pinKey:A,orbacActingAs:_,viewer:d}),Q=A.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:a})=>({categoryType:e,value:a}))??[],eS=Q.length>0,eI=(0,el.Z)(G)||!!A.richMetadata,ew=A.richMetadata?.recipe?.name&&A.richMetadata.recipe.categorizedIngredients&&A.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:eF,isCloseupRelatedPinsAboveTheFoldEnabled:eC,peekCloseupEnabled:eA}=(0,K.x4)(),ej=(0,ey.q6)(d,A.pinner?.entityId,_),[eR,eK]=(0,o.useState)(!1),eE=(0,c.TH)(),{isAuthenticated:eL,userAgent:{isMobile:eD}}=(0,eg.B)(),eZ=!eL&&(0,ep.am)(eE),eM=!!(A.promoter&&!A.isDownstreamPromotion)&&A.promoter?.entityId===A.nativeCreator?.entityId,{sponsorship:eN,storyPinData:eB,affiliateLink:eO}=A,ez=!!eO,eU=!!eB?.hasAffiliateProducts,eH=(!!eN?.sponsor||eU||ez)&&!eM&&!eZ,eV=(0,h.jsx)(e_.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,h.jsx)(ec.Z,{clientTrackingParams:a,hovered:e,pinKey:A,trafficSource:r,viewType:3,children:(0,h.jsx)(u.xu,{onMouseEnter:i,onMouseLeave:n,children:(0,h.jsx)(ex.Z,{carouselInfo:C,isLink:z,onClick:U,onTitleCheck:eK,pinKey:A})})})}),eG=()=>D&&(0,h.jsx)(X.Z,{"data-testid":"closeup-metadata-creator",marginTop:eF?(y??ef.ER)/2:0,paddingBottom:eF?(y??ef.ER)/2:0,paddingRight:eF?0:8,children:(0,h.jsx)(J,{creatorId:L,children:e=>!!e&&(0,h.jsx)(ek,{children:(0,h.jsx)(eo.default,{clientTrackingParams:a,componentType:126,impressionType:"User",input:A,isORBACProfileManager:ej,loggingId:L,officialUser:e,slotIndex:0,viewParameter:t,viewType:3})})})}),{link:eW,trackedLink:e$}=A||{},eY=e$||eW||"",eq=(0,eh.Z)(eY)??eY,eX=d.isAuth&&A.originPin?.originPinner?.entityId===d.id,eQ=z&&eq&&(eX||!A.isGoLinkless),eJ=eA&&!eF?y??ef.ER:0,e0=()=>eQ&&(0,h.jsx)(X.Z,{marginTop:eA?y??ef.ER:void 0,paddingBottom:eA?(y??ef.ER)/2:void 0,paddingRight:eJ,children:(0,h.jsx)(u.xu,{"data-test-id":"visit-site-button",marginTop:eC?void 0:5,children:(0,h.jsx)(ed.Z,{clientTrackingParams:a,color:"gray",fullWidth:N,link:eq,onClickThrough:g,pinKey:A,text:F._('Visit site', 'closeup.defaultMetadata.visitButton', 'Button to visit link on Pin')})})});return(0,h.jsxs)(u.xu,{marginTop:eF?4:void 0,children:[P&&(i||eF)&&(0,h.jsx)(X.Z,{paddingRight:(y??ef.ER)/2,children:(0,h.jsx)(u.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,h.jsx)(eu.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,h.jsx)(em.Z,{children:(0,h.jsx)(eb,{borderStyle:en.te,isStoryPin:i,pinKey:A,showPinStats:I,trendsData:T?b?.data?.results:null,viewportSize:S})})})})}),(0,h.jsxs)(u.xu,{alignItems:eF?"start":void 0,display:eF?"flex":void 0,justifyContent:eF?"between":void 0,children:[(0,h.jsxs)(u.kC.Item,{flexBasis:!eF||B||O||!eQ?"100%":"77%",children:["enabled_url_cta"===M&&w,!eR&&(0,h.jsx)(X.Z,{paddingRight:eF?void 0:y,children:(0,h.jsx)(u.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eV})}),eA&&eG(),(0,h.jsx)(u.xu,{direction:eA?"column":void 0,display:eA?"flex":void 0,height:eA?"100%":void 0,children:(0,h.jsxs)(X.Z,{paddingRight:y,children:[eS&&(0,h.jsx)(u.xu,{marginTop:eF?ef.O5:4,children:(0,h.jsx)(f.Z,{hasMetadataTemplateType:!!A.storyPinData?.metadata?.templateType,keyValueBlocks:Q})}),!eS&&!!ew&&(0,h.jsx)(u.xu,{marginTop:eF?ef.O5:void 0,children:(0,h.jsx)(eP,{boldText:!1,fallback:(0,h.jsx)(u.$j,{accessibilityLabel:F._('Loading Pin recipe rating', 'closeupDefaultMetadata.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),pinKey:A,textSize:"300"})}),(0,h.jsxs)(o.Fragment,{children:[!!(i&&$&&eI)&&(0,h.jsx)(u.xu,{marginTop:eF?ef.O5:8,width:eF?"100%":void 0,children:(0,h.jsx)(k.Z,{descriptionDir:(0,Z.j)($),children:(0,h.jsx)(x.Z,{description:$||"",userMentionTags:W?.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))})})}),!i&&(A.attribution||$)&&eF&&(0,h.jsx)(u.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,h.jsx)(u.xu,{marginBottom:eF&&!ew?ef.O5:void 0,marginTop:eF?ef.O5:void 0,width:eC?"100%":void 0,children:(0,h.jsx)(q,{isStoryPin:i,onUpdate:m,pinKey:A})})}),eH&&(eD||eF)&&(0,h.jsx)(u.xu,{marginTop:2,children:(0,h.jsx)(E.Z,{hasAffiliateLink:ez,hasAffiliateProducts:eU})})]})]})}),eF&&eG()]}),eF&&!B&&(!O||n)&&(0,h.jsx)(u.xu,{alignItems:"stretch",display:N?"block":"flex",flex:"grow",justifyContent:"end",children:e0()})]}),eA&&e0(),(0,h.jsxs)(o.Fragment,{children:[s,!!H&&!eC&&(0,h.jsx)(u.xu,{marginTop:ef.O5,children:(0,h.jsx)(ev,{pinKey:A,showFavoritesInformation:!l&&Y})})]})]})}var ew=i(971116),eF=i(481671),eC=i(408304),eA=i(19817),ej=i(216762),eR=i(912023);let eK=(0,o.lazy)(()=>i.e("99339").then(i.bind(i,403020))),eE=(0,eS.Z)(()=>Promise.resolve().then(i.bind(i,382167)),void 0,"app-common-react-components-CreatorCard"),eL=(0,eS.Z)(()=>i.e("34966").then(i.bind(i,670959)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eD({isCommentSectionOpen:e,isStoryPin:a,isVideoPin:i,isDeletedStoryPin:n,orbacActingAs:l,orbacSubjectId:t,onCommentSectionClick:r,onCloseupBodyUpdate:s,outerPaddingSize:d=ef.g9,pin:p,viewer:g,shouldShowStlCarouselForOwnPin:m,storyPinTaggedProducts:_=[],taggedProducts:y,trafficSource:f,viewType:x,closeupContext:k,isLoadingNewlyCreatedComment:S,viewParameter:P,detailsScrollContainerRef:b,clientTrackingParams:C}){let{makeDetailsArgs:A}=(0,ee.ZP)({type:"deprecated",data:p}),{isShopTheLook:j,showCreatorCard:R,creatorId:K,showCanonicalComments:L}=A(!!n),D=(0,v.ZP)(),Z=(0,ei.Z)({type:"deprecated",data:p},g),M=(0,c.TH)(),{isAuthenticated:N}=(0,eg.B)(),B=T((0,I.Z)((0,w.Z)((0,F.Z)({pin:p})))),O=(y||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:a,y_percent:i}=e;if(a>0&&a<=100&&i>0&&i<=100)return!0}return!1})(e)),z=(0,ey.q6)(g,p.pinner?.id,l),{descriptionPaneWidth:U,closeupWithinMasonryEnabled:H,isCloseupRelatedPinsAboveTheFoldEnabled:V,peekCloseupEnabled:G}=k,W=!N&&(0,ep.am)(M),$=!!(p.promoter&&!p.is_downstream_promotion)&&p.promoter?.id===p.native_creator?.id,{sponsorship:Y,story_pin_data:Q,affiliate_link:en}=p,el=!!en,et=!!Q?.has_affiliate_products,er=(!!Y||et||el)&&!$&&!W,es=!a&&(!((p.rich_summary?.products??[]).length||(p.rich_metadata?.products??[]).length)&&j&&O.length>0||m)&&!i,eo=a&&_&&_.length>0,ed=(0,ea.Z)({pinKey:{type:"deprecated",data:p},orbacActingAs:l,viewer:g}),{isEligibleForStaticImageIdeaPin:ec}=(0,eA.Z)(p.should_open_in_stream,p.story_pin_data_id),eh=ec&&_&&_.length>0,{paddingLeft:e_,paddingRight:ex,marginTop:eS,marginBottom:eP}=H?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:2}:G?{paddingLeft:0,paddingRight:d/2,marginTop:2,marginBottom:2}:{paddingLeft:d/2,paddingRight:d,marginTop:10,marginBottom:6},ev=p.favorited_by_me?D._('Remove from favorites', 'closeup.metadataDetails.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Pin'):D._('Add to favorites', 'closeup.metadataDetails.addToFavorites', 'Text for button allowing users to favorite a saved Pin'),eb=[...es||eo||eh?[(0,h.jsx)(X.Z,{paddingLeft:H?void 0:d/2,paddingRight:H?void 0:d,children:(0,h.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,h.jsx)(em.Z,{children:(0,h.jsx)(eK,{closeupImageSignature:p.image_signature??"",isOwnCreatedPin:m,pin:p,pinId:p.id,taggedObjects:eo||eh?_:O,type:es?"stl":"story",viewParameter:P})})})},"closeupStlModuleMetadataPadding")]:[],...V?[]:[(0,h.jsx)(ej.Z,{moduleWidth:ef.Gg-ef.g9,pinKey:{type:"deprecated",data:p},trafficSource:f,viewParameter:P},"closeupShoppingModule")],...B?[(0,h.jsx)(X.Z,{paddingLeft:V?0:d/2,paddingRight:H?void 0:d/2,children:(0,h.jsx)(eR.Z,{recipeProps:B})},"closeupRecipeMetadataPadding")]:[],...V&&!n&&ed?[(0,h.jsx)(X.Z,{paddingRight:H?void 0:d/2,children:(0,h.jsxs)(u.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:H?0:2,marginTop:H?0:2,children:[H?(0,h.jsx)(u.xv,{size:"300",weight:"bold",children:ev}):(0,h.jsx)(u.xv,{weight:"bold",children:ev}),(0,h.jsx)(eF.Z,{board:p.board,favorited:!!p.favorited_by_me,pinId:p.id,section:p.section})]})},"closeupFavoriteBarMetadataPadding")]:[],...ed?[(0,h.jsx)(X.Z,{paddingLeft:V?0:d/2,paddingRight:H?void 0:d/2,children:(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(eC.Z,{}),(0,h.jsx)(eL,{boardId:p.board?.id,isGroupNote:Z,pinId:p.id,pinNoteText:p.pin_note?.text})]})},"closeupPinNoteMetadataPadding")]:[]];return(0,h.jsx)(o.Fragment,{children:(0,h.jsxs)(u.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:G?"100%":void 0,justifyContent:"start",children:[H?null:(0,h.jsxs)(X.Z,{"data-testid":"closeup-metadata-details",paddingLeft:H?void 0:G?0:d/2,paddingRight:H?void 0:d/2,children:[(0,h.jsx)(u.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,h.jsx)(u.xu,{marginTop:G?void 0:2,maxWidth:V?void 0:U-2*d,width:V?"100%":void 0,children:(0,h.jsx)(q,{isStoryPin:a,onUpdate:s,pinKey:{type:"deprecated",data:p}})})}),er&&!H&&(0,h.jsx)(E.Z,{hasAffiliateLink:el,hasAffiliateProducts:et})]}),R&&!V&&(0,h.jsx)(X.Z,{"data-testid":"closeup-metadata-creator",paddingRight:d/2,children:(0,h.jsx)(J,{creatorId:K,children:e=>!!e&&(0,h.jsx)(ek,{children:(0,h.jsx)(eE,{clientTrackingParams:C,componentType:126,impressionType:"User",input:{type:"deprecated",data:p},isORBACProfileManager:z,loggingId:K,officialUser:e,slotIndex:0,viewParameter:P,viewType:x})})})}),(0,h.jsx)(o.Fragment,{children:eb.map(e=>(0,h.jsxs)(o.Fragment,{children:[e,H&&(0,h.jsx)(u.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,h.jsx)(eC.Z,{show:!0,surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eb.length&&(0,h.jsx)(u.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,h.jsx)(eC.Z,{show:H,surface:"closeup-metadata-details"})}),!n&&L&&(0,h.jsx)(eu.Z,{name:"CanonicalCard",children:(0,h.jsxs)(X.Z,{paddingLeft:e_,paddingRight:ex,children:[(0,h.jsx)(eC.Z,{}),(0,h.jsx)(u.xu,{marginBottom:eP,marginTop:eS,children:(0,h.jsx)(ew.Z,{aggregatedPinId:p.aggregated_pin_data?.id,closeupAttributionId:p.closeup_attribution?.id,closeupAttributionUsername:p.closeup_attribution?.username,commentCount:p.aggregated_pin_data?.comment_count??0,commentsDisabled:p.comments_disabled,isCommentSectionOpen:e,isLoadingNewCreatedComment:S,isORBACProfileManager:z,isShopTheLook:j,isVideo:!!p.videos?.video_list,onCommentSectionClick:r,orbacSubjectId:t,photoCount:p.aggregated_pin_data?.did_it_data?.images_count??0,pinId:p.id,pinnerId:p.pinner?.id,scrollContainerRef:b,shouldShowHeading:!G||(p.aggregated_pin_data?.comment_count??0)>0,storyPinDataId:p.story_pin_data?.id,viewParameter:P})}),(0,h.jsx)(eC.Z,{})]})})]})})}function eZ({maxHeight:e,pin:a,trafficSource:i,viewParameter:n}){let l={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},t=(0,ej.F)(a.id),r=t&&0!==t.length,[s,d]=(0,o.useState)(!1),[c,p]=(0,o.useState)(!0),g=(0,o.useRef)(null),m=()=>{let e=g.current;if(!e)return;let{scrollTop:a,scrollHeight:i,clientHeight:n}=e;d(0!==a),p(a+n!==i)};return(0,o.useEffect)(()=>{let e=g.current;if(e)return e.addEventListener("scroll",m),()=>{e.removeEventListener("scroll",m)}},[]),r&&(0,h.jsxs)(u.xu,{ref:g,dangerouslySetInlineStyle:{__style:{borderLeft:en.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:s?1:0}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,h.jsx)(ej.Z,{moduleWidth:en.LV,pinKey:{type:"deprecated",data:a},trafficSource:i,viewParameter:n}),(0,h.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...l,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:c?1:0}},position:"absolute"})]})}var eM=i(732054),eN=i(26458),eB=i(236459),eO=i(365976),ez=i(101428),eU=i(131779),eH=i(562400),eV=i(306902),eG=i(613567),eW=i(462867),e$=i(200619),eY=i(800640);let eq={__style:{marginBottom:"0",marginTop:"0",maxWidth:ef.KP,minWidth:ef.Gg}};function eX({children:e,isWideVideo:a}){let{showCloseupContentRight:i,maxWidth:n,paneWidth:l,peekCloseupEnabled:t,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,K.x4)(),{maxHeight:o}=(0,en.Re)(),{mainImage:d}=(0,er.r)(),{peekRedesignFastFollowsEnabled:c}=(0,et.Z)(d),p=i||a?n:l;return p=r&&"sm"!==s||t?void 0:p,r?(0,h.jsx)(u.xu,{height:"100%",children:e}):(0,h.jsx)(u.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:c?void 0:o,maxWidth:p,position:"relative",rounding:8,width:"100%",children:(0,h.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:a?eq:{},display:"flex",children:e})})})})}var eQ=i(855574),eJ=i(60707),e0=i(542515);let e1=(0,eS.Z)(()=>Promise.all([i.e("74466"),i.e("9767")]).then(i.bind(i,478898)),{ssr:!1}),e3=(0,eS.Z)(()=>Promise.all([i.e("73362"),i.e("55759")]).then(i.bind(i,91961)),void 0,"CloseupActionBarCommon"),e2=(0,eS.Z)(()=>i.e("62220").then(i.bind(i,307546)),void 0,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),e6=(0,eS.Z)(()=>i.e("30644").then(i.bind(i,456578)),void 0,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),e5=(0,o.lazy)(()=>i.e("97556").then(i.bind(i,582938))),e4=({children:e,metadataContainerRef:a,closeupWithinMasonryEnabled:i})=>i?(0,h.jsx)(u.xu,{ref:a,width:"100%",children:e}):(0,h.jsx)(o.Fragment,{children:e});function e7({isWideVideo:e,didShortClickThrough:a,webLinkSurveyState:{webLinkSurveyRef:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:l,maybeLinkRef:t},pin:r,outerBodyStyle:s,isEligibleForPinReactions:p,isStoryPin:g,trafficSource:m,visualContentContainer:_,isCloseupMaximized:f,data:x,outerPaddingSize:k,isInStream:S,metadataContainerRef:P,onClickThrough:b,viewParameter:T,metadata:I,viewer:w,orbacSubjectId:F,setIsLoadingNewlyCreatedComment:C=()=>{},relatedModulesResource:A,descriptionContentMaxHeight:j,marginBottom:R=0,isDeletedStoryPin:E,onSaveButtonClick:L,showRepinOnInitialRender:D,goBack:Z,onUpdate:M,routePush:N,closeupActionBarMaxWidth:B,visualContentContainerRef:O,showPDPComments:z,actionBarContainerRef:U,closeupActionBar:H,isRelatedPins10PercentVisible:V}){let{isCloseupRelatedPinsAboveTheFoldEnabled:G,descriptionPaneWidth:W,viewportSize:$,clientTrackingParams:Y,closeupWithinMasonryEnabled:q,peekCloseupEnabled:X}=(0,K.x4)(),Q=(0,d.v9)(({changeBoardFromToast:e})=>e)||{},J=(0,v.ZP)(),ee=(0,c.k6)(),ea=(0,o.useRef)(null),[ei,el]=(0,o.useState)(0),et=(0,o.useCallback)(()=>{let e=P.current;e&&el(a=>{let i=e.offsetWidth;return a!==i?i:a})},[P]);(0,e0.Z)(et,P);let er=(0,e$.Z)(),{pinner:es}=r,eo=!((0,ey.q6)(w,es?.id,er)&&!F)&&(!r.is_eligible_for_pdp||!!z)&&!r.comments_disabled&&!!r.is_eligible_for_aggregated_comments,ed=!!r.promoted_is_lead_ad,ec=0!==Object.keys(r).length,ep=O?.current?.clientHeight||0,eg=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),[eh,e_]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=(0,eH.Z)(()=>{q&&e_(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[q]);let ex=(0,h.jsx)(e6,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:eg,disablePhotoCommentSelection:!!r.done_by_me,isEligibleForPinReactions:p,isPDP:r.is_eligible_for_pdp,orbacSubjectId:F,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:eo,showReactBackground:!q,storyPinDataId:r.story_pin_data_id,viewParameter:T}),ek=(0,h.jsx)(y,{clientTrackingParams:Y,closeupNavigationType:(0,eJ.Z)(ee,m),pinImageUrl:(r.images&&r.images["236x"]?.url)??"",pinKey:{type:"deprecated",data:r},children:_}),{fiftyPercentWidth:eS,fiftyPercentHeight:eP}=(0,en.Re)(),ev=e&&!q?ef.KP:void 0;ev=X?eS:ev;let eb=(g||q)&&!X?void 0:j;X&&(eb="sm"===$?eP:Math.max(en.ql,O?.current?.clientHeight??0));let eT=s;G&&(eT={...s,boxShadow:"unset",border:en.tc,overflow:"clip"});let eI=q&&k?k:0,[ew,eF]=(0,o.useState)(!1);return(0,h.jsx)(eY.ZP.Provider,{value:(0,eY.yq)({closeupBodyWidth:ei,isCollageOverlayOpen:ew,setIsCollageOverlayOpen:eF,isRelatedPins10PercentVisible:V}),children:(0,h.jsxs)(u.xu,{height:"100%",marginBottom:R,position:"relative",width:"100%",children:[(0,h.jsx)(eX,{isWideVideo:e,children:(0,h.jsxs)(u.xu,{display:q?void 0:"flex",position:"relative",children:[!a&&(0,h.jsx)(em.Z,{children:(0,h.jsx)(e5,{ref:i,imageContainerRef:n,legoLinkClickthroughAnchorRef:l,maybeLinkRef:t,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})}),(0,h.jsx)(u.xu,{color:ec?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eT}},"data-test-id":"closeup-body-style",display:"flex",paddingX:q?4:void 0,position:"relative",children:(0,h.jsx)(e4,{closeupWithinMasonryEnabled:q,metadataContainerRef:P,children:(0,h.jsxs)(u.kC,{alignItems:"stretch",direction:"column",height:q?"100%":void 0,justifyContent:"start",children:[(0,h.jsx)(eQ.Z,{isStoryPin:g,isWideVideo:e,children:ec?(0,h.jsx)(o.Fragment,{children:r.promoted_is_lead_ad?(0,h.jsx)(e2,{clientTrackingParams:Y,pin:r,data:!!x,goBack:Z,onUpdate:M,viewParameter:T,onSaveButtonClick:L,showRepinOnInitialRender:D,actionBarContainerRef:U,trafficSource:m,onClickThrough:b,isStoryPin:g,descriptionPaneWidth:W,metadataContainerRef:P,visualContentContainer:_,visualContentContainerHeight:ep,showLeadPinStdBeta:ed}):(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)(u.xu,{children:[q&&(0,h.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eh?{}:ef.fF,borderTop:eh?void 0:en.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:new u.Ry(2),children:H}),ek]}),(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{overflow:X&&"sm"===$?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",height:f?0:"100%",maxHeight:eb,maxWidth:ev,width:e||q?void 0:W,children:(q||x)&&(!q||r)?(0,h.jsxs)(o.Fragment,{children:[!S&&!q&&(0,h.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,h.jsx)(e3,{actionBarContainerRef:ea,goBack:Z,gridDescription:r.description??"",isDeletedStoryPin:!!E,isEligibleForPinReactions:p,isOnSecretBoard:!1,isStoryPin:g,maxWidth:B,onEditSubmit:M,onSaveButtonClick:L,outerPaddingSize:k,pin:r,routePush:N,showRepinOnInitialRender:D,viewParameter:T})}),(0,h.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:q?void 0:X?en.Gd:ef.g9,paddingBottom:q?eI:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,h.jsxs)(u.xu,{ref:q?void 0:P,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:q?void 0:"auto",children:[(0,h.jsx)(u.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:q?4*ef.O5:void 0}},direction:"column",display:"flex",height:X?"100%":void 0,justifyContent:"start",width:X?"100%":void 0,children:I}),q&&eo&&ex]})}),!q&&eo&&(0,h.jsx)(u.Le,{bottom:0,children:ex})]}):(0,h.jsx)(u.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,h.jsx)(u.$j,{accessibilityLabel:J._('Pin details loading', ' - ', ' -- '),show:!0})})}),X&&"lg"===$&&(0,h.jsx)(eZ,{maxHeight:O?.current?.clientHeight,pin:r,trafficSource:m,viewParameter:T})]})}):(0,h.jsx)(u.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,h.jsx)(u.$j,{accessibilityLabel:J._('Pin loading', ' - ', ' -- '),show:!0})})}),a&&!r.is_promoted&&A.data&&A.data.length>0&&(0,h.jsx)(eU.C,{})]})})})]})}),Q.shouldOpenModal&&Q.newPin&&Q.originalPinId===r.id&&(0,h.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,h.jsx)(e1,{experience:Q.experience,pinKey:{type:"deprecated",data:Q.newPin}})})]})})}function e8({disableRelatedResource:e=!1,relatedResourceOptions:a,isStoryPin:i,isVideoPin:n,isWideVideo:l,pin:t,searchQuery:r,taggedProducts:s,trafficSource:d,viewParameterType:c,onClickThrough:p,data:g,didShortClickThrough:m,goBack:_,isCloseupMaximized:y=!1,isInStream:f=!1,isDeletedStoryPin:x,onSaveButtonClick:k,onUpdate:S,outerBodyStyle:P,outerPaddingSize:v,routePush:b,showRepinOnInitialRender:T,viewType:I,isCommentSectionOpen:w,onCommentSectionClick:F,onCloseupBodyUpdate:C,shouldShowStlCarouselForOwnPin:A,storyPinTaggedProducts:j,clientTrackingParams:R,viewportSize:E,shouldShowPartnerModule:L,trendsData:D,showTrendsOnPinCloseup:Z,showPinStats:M,isRelatedPins10PercentVisible:N}){let[B,O]=(0,o.useState)(!1),z=(0,o.useRef)(null),U=(0,eV.Z)(),H=(0,Q.Z)(e?null:a),V=(0,o.useRef)(null),G=(0,K.x4)(),W=(0,eW.Z)(),$=!t.is_promoted&&!t.is_downstream_promotion&&!x,Y=(0,e$.Z)(),q=(0,ey.lJ)(W,Y),X=(0,eB.Z)(),J=(0,eN.Z)({metadataContainerRef:V,pinKey:{type:"deprecated",data:t}}),ea=(0,eM.Z)(),{getViewParameter:ei}=(0,ee.ZP)({type:"deprecated",data:t}),en=ei(c),{setClickthroughComponentForSurvey:el,imageContainerRef:et}=X,er=(0,o.useMemo)(()=>(0,h.jsx)(e3,{actionBarContainerRef:z,goBack:_,gridDescription:t.description??"",isDeletedStoryPin:!!x,isEligibleForPinReactions:$,isOnSecretBoard:!1,isStoryPin:i,onClickThrough:p,onEditSubmit:S,onSaveButtonClick:k,outerPaddingSize:v,pin:t,routePush:b,showRepinOnInitialRender:T,viewParameter:en}),[_,x,$,i,p,k,S,v,t,b,T,en]),{getShowClickthroughLink:es}=(0,ee.ZP)({type:"deprecated",data:t}),eo=es(i)&&(0,h.jsx)(u.xu,{"data-test-id":"maybe-clickthrough-link",direction:"row",display:"flex",marginBottom:1,children:(0,h.jsx)(e_.q,{children:({hovered:e,onMouseEnter:a,onMouseLeave:n})=>(0,h.jsx)(ec.Z,{clientTrackingParams:R,hovered:e,pinKey:{type:"deprecated",data:t},trafficSource:d,viewType:3,children:(0,h.jsx)(u.xu,{onMouseEnter:a,onMouseLeave:n,children:(0,h.jsx)(ez.Z,{actionBarHeight:z.current?.offsetHeight||ef.Ie,isStoryPin:i,legoLinkClickthroughAnchorRef:X?.legoLinkClickthroughAnchorRef,onClickThrough:p,pinKey:{type:"deprecated",data:t}})})})})}),ed=(0,h.jsx)(eO.Z,{isStoryPin:i,isWideVideo:l,pin:t,searchQuery:r,taggedProducts:s,trafficSource:d,viewParameterType:c,visualContentContainerRef:ea.visualContentContainerRef,imageContainerRef:et,handleImageClickThrough:()=>p({wasImageClicked:!0}),setClickthroughComponentForSurvey:el,isShortImage:J,onSaveButtonClick:k,showRepinOnInitialRender:T,viewParameter:en}),eu=(0,h.jsx)(eD,{isCommentSectionOpen:w,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:x,orbacActingAs:Y,orbacSubjectId:q,onCommentSectionClick:F,onCloseupBodyUpdate:C,outerPaddingSize:v,pin:t,viewer:W,shouldShowStlCarouselForOwnPin:A,storyPinTaggedProducts:j,taggedProducts:s,trafficSource:d,viewType:I,closeupContext:G,isLoadingNewlyCreatedComment:B,viewParameter:en,detailsScrollContainerRef:V.current,clientTrackingParams:R,reactionCounts:t.reaction_counts}),ep=(0,h.jsx)(eI,{pinKey:{type:"deprecated",data:t},clientTrackingParams:R,isStoryPin:i,isVideoPin:n,isDeletedStoryPin:x,trafficSource:d,details:eu,onClickThrough:p,onCloseupBodyUpdate:C,outerPaddingSize:v,orbacActingAs:Y,viewer:W,viewParameter:en,viewportSize:E,shouldShowPartnerModule:L,trendsData:D,showTrendsOnPinCloseup:Z,showPinStats:M,clickthroughUrlLink:eo}),eg=(0,h.jsx)(e7,{isWideVideo:l,didShortClickThrough:m,webLinkSurveyState:X,pin:t,outerBodyStyle:P,isEligibleForPinReactions:$,isStoryPin:i,trafficSource:d,visualContentContainer:ed,isCloseupMaximized:y,data:g,isInStream:f,metadataContainerRef:V,onClickThrough:()=>{p&&p({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:en,viewType:I,viewer:W,orbacSubjectId:q,isLoadingNewlyCreatedComment:B,onCommentSectionClick:F,setIsLoadingNewlyCreatedComment:O,relatedModulesResource:H,descriptionContentMaxHeight:ea.descriptionContentMaxHeight,metadata:ep,onSaveButtonClick:k,showRepinOnInitialRender:T,goBack:_,onUpdate:S,routePush:b,visualContentContainerRef:ea.visualContentContainerRef,actionBarContainerRef:z,outerPaddingSize:v,closeupActionBar:er,isRelatedPins10PercentVisible:N}),em=(0,o.useMemo)(()=>({}),[]),eh=t?.ad_data?.exclude_from_grid_rep_tests,{checkExperiment:ex}=(0,eG.F)(),ek=eh&&ex("web_exclude_from_grid_rep_tests").anyEnabled;return U&&ek?(0,h.jsx)("div",{className:"excludeFromGridRepTests",children:(0,h.jsx)(u.II,{value:em,children:eg})}):eg}},481671:function(e,a,i){i.d(a,{Z:()=>c});var n=i(581722),l=i(519126),t=i(230201),r=i(660322),s=i(133546),o=i(766308),d=i(785893);function c({board:e,favorited:a,pinId:i,section:c}){let u,p;let{logContextEvent:g}=(0,t.v)(),m=(0,n.I0)(),{closeupWithinMasonryEnabled:h}=(0,s.x4)();e&&([u,p]=(0,o.J)(e.url??""));let _=e=>{g({event_type:101,component:13791,element:e?12225:12226,object_id_str:i,view_type:3})};return(0,d.jsx)(l.Z,{favorited:a,isCloseupButton:!0,onFavorite:()=>{_(!0),m((0,r.jB)("BoardResource",{username:p,slug:u,field_set_key:"detailed"})),m((0,r.jB)("BoardSectionResource",{board_slug:u,section_slug:c?.slug,username:p}))},onUnfavorite:()=>{_(!1)},pinId:i,size:h?"sm":24})}},186266:function(e,a,i){i.d(a,{Z:()=>t});var n=i(883119),l=i(785893);function t({children:e,paddingRight:a,paddingLeft:i,paddingBottom:t,marginTop:r,nodeRef:s}){return(0,l.jsx)(n.xu,{ref:s??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${a}px`,paddingLeft:i?`${i}px`:void 0,paddingBottom:t?`${t}px`:void 0,marginTop:r?`${r}px`:void 0}},children:e})}},408304:function(e,a,i){i.d(a,{Z:()=>r});var n=i(883119),l=i(133546),t=i(785893);let r=function(e){let{show:a,surface:i}=e,{closeupWithinMasonryEnabled:r}=(0,l.x4)();return r?(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:a?"1px solid #E9E9E9":void 0,opacity:a?1:0}},"data-test-id":`${i}-divider`,width:"100%"}):a&&(0,t.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},879405:function(e,a,i){i.d(a,{Z:()=>d});var n=i(667294),l=i(883119),t=i(788730),r=i(138596),s=i(133546),o=i(785893);function d({collapsed:e,displayViewState:a,forceTappableHeader:i,headerHeight:d,headerPaddingRight:c,headerPreview:u,heading:p,onClick:g,showArrow:m,surface:h}){let _=(0,r.ZP)(),{closeupWithinMasonryEnabled:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,peekCloseupEnabled:x,viewportSize:k}=(0,s.x4)(),S=(0,t.rt)({peekCloseupEnabled:x,viewportSize:k,surface:h});return(0,o.jsx)(n.Fragment,{children:i||null!==a?(0,o.jsx)(l.iP,{disabled:!m,onTap:g,children:(0,o.jsx)(l.xu,{marginBottom:!e&&x?4:void 0,children:(0,o.jsxs)(l.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,o.jsx)(l.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"300",children:p}),(0,o.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:c}},direction:"row",display:"flex",children:[e&&u,(m||y)&&(f?(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:e?"rotate(0deg)":"rotate(180deg)",transition:f?"all 600ms cubic-bezier(.25,1,.5,1)":void 0}},opacity:m?1:0,children:(0,o.jsx)(l.hU,{accessibilityLabel:_._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),dataTestId:"collapse-button",disabled:!m,icon:"arrow-down",size:"sm"})}):(0,o.jsx)(l.xu,{alignItems:"center","data-test-id":"collapse-button",display:"flex",justifyContent:"center",marginStart:u?-1:0,width:f?32:48,children:(0,o.jsx)(l.JO,{accessibilityLabel:_._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:e?"arrow-down":"arrow-up"})}))]})]})})}):(()=>{let e=(0,o.jsx)(l.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:S?"300":"400",children:p});return S?(0,o.jsx)(l.xu,{marginBottom:4,children:e}):e})()})}},930622:function(e,a,i){i.d(a,{Z:()=>u});var n=i(883119),l=i(677650),t=i(361004),r=i(283220),s=i(785893);let o=({description:e,userMentionTags:a})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:t.n,userMentionTags:a});var d=i(133546);function c({description:e}){let{closeupWithinMasonryEnabled:a,peekCloseupEnabled:i}=(0,d.x4)();return(0,s.jsx)(n.xu,{children:(0,l.Z)({closeupWithinMasonryEnabled:a,peekCloseupEnabled:i,text:e})})}function u({description:e,userMentionTags:a}){let i=e=>e.replace(/\s+/g," "),l=e.split(/\n/)||[],t=({descriptionLine:a,userMentionTags:i})=>{let n=e.indexOf(a);return i.map(e=>e&&"number"==typeof e.offset&&e.offset>=n?{...e,offset:e.offset-n}:null).filter(e=>null!==e)||[]};return l.map((e,l)=>{let r=`description-broken-by-line-breaks-${l}`;if(!a||0===a.length)return(0,s.jsx)(c,{description:e},r);let d=t({descriptionLine:e,userMentionTags:a});return d.length>0?(0,s.jsx)(n.xu,{children:(0,s.jsx)(o,{description:i(e),userMentionTags:d})},r):(0,s.jsx)(c,{description:e},r)})}},365976:function(e,a,i){i.d(a,{Z:()=>C});var n=i(667294),l=i(883119),t=i(721956),r=i(145687),s=i(651718),o=i(788730),d=i(514793),c=i(758724),u=i(178138),p=i(752031),g=i(104999),m=i(470205),h=i(521367),_=i(400962),y=i(825605),f=i(176783),x=i(902123),k=i(462867),S=i(200619),P=i(601871),v=i(800640),b=i(133546),T=i(632492),I=i(785893);let w=(0,n.lazy)(()=>i.e("10176").then(i.bind(i,890943))),F=(0,n.lazy)(()=>Promise.all([i.e("74924"),i.e("26877"),i.e("35688"),i.e("63529"),i.e("98732")]).then(i.bind(i,855591)));function C({handleImageClickThrough:e,imageContainerRef:a,isShortImage:i,isStoryPin:C,isWideVideo:A,onSaveButtonClick:j,pin:R,searchQuery:K,setClickthroughComponentForSurvey:E,showRepinOnInitialRender:L,trafficSource:D,viewParameter:Z,viewParameterType:M,visualContentContainerRef:N={current:null}}){let[B,O]=(0,n.useState)(!1),{setIsCollageOverlayOpen:z}=(0,v.K4)(),{previous:U}=(0,_.Hv)(),H=(0,b.x4)(),V=(0,S.Z)(),G=(0,p.r)(),W=(0,k.Z)(),{getViewParameter:$}=(0,t.ZP)({type:"deprecated",data:R}),Y=(0,g.Z)(),q=0===U.length,{carouselInfo:X,imgSrc:Q,mainImage:J,video:ee}=G,{isCloseupMediaViewerEnabled:ea}=(0,c.Z)({isShufflePin:!!R?.shuffle}),{executeWithViewTransition:ei}=(0,u.Z)({_enableViewTransitions:ea}),en=()=>{O(e=>!e)},el=()=>{O(!1)},et=()=>{z(e=>!e)},er=e=>({gridDescription:R.description,imageSrc:e,isFlyoutOpen:B,onFlyoutDismiss:el,onToggleFlyout:en,pinId:R.id}),{clientTrackingParams:es,showCloseupContentRight:eo,paneWidth:ed,isCloseupRelatedPinsAboveTheFoldEnabled:ec,closeupWithinMasonryEnabled:eu,peekCloseupEnabled:ep,setIsCloseupMediaViewerOpen:eg}=H,{fiftyPercentWidth:em}=(0,o.Re)(),{maxHeight:eh}=(0,d.Z)({pinKey:{type:"deprecated",data:R}});if(C)return null;let{domain:e_,music_attributions:ey,pinner:ef,should_mute:ex}=R,ek=!!e_&&!!R.link&&!R.link.startsWith("https://i.pinimg.com"),{width:eS}=J,eP=(0,t.NE)({closePanelWidth:ed,isShortImage:i,carouselInfo:X,isWideVideo:A,naturalWidth:eS,showCloseupContentRight:eo}),ev=()=>{Y({aux_data:{image_signature:R.image_signature},component:128,event_type:101,element:ea?15864:15865,view_type:3}),ei(()=>{eg(!0)})},eb=(0,P.q6)(W,ef?.id,V);return(0,I.jsxs)(l.xu,{ref:N,dangerouslySetInlineStyle:{__style:{height:ep?"100%":void 0,display:ep?"flex":"block"}},"data-test-id":"visual-content-container",children:[(0,I.jsx)(x.q,{children:({hovered:i,onMouseEnter:n,onMouseLeave:t})=>(0,I.jsxs)(l.xu,{alignSelf:ep?"center":void 0,direction:eu?"column":void 0,display:"flex",justifyContent:"center",maxHeight:eh,maxWidth:em,onMouseEnter:n,onMouseLeave:t,position:"relative",width:A||ec?"100%":ed,children:[ee&&ey?.length!==0&&(0,I.jsx)(l.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:ed,zIndex:f.Ls,children:(0,I.jsx)(r.Z,{musicAttributions:ey,shouldMute:!!ex})}),(0,I.jsx)(s.Z,{clientTrackingParams:es,closeupIsFirstPageInHistoryStack:q,flyoutShareProps:er(Q),handleCollageOverlayToggle:et,handleMediaButtonClick:ev,imageContainerRef:a,isHovered:i,isORBACProfileManager:eb,isWideVideo:A,onImageClick:()=>{e&&e(),E("imageContainer")},pin:R,searchQuery:K,shouldPadImage:!ec&&eP,showDomainLink:ek,trafficSource:D,viewParameter:$(M)}),R&&R.showFeedback&&(0,I.jsx)(y.Z,{children:(0,I.jsx)(w,{pin:R})})]})}),(0,I.jsx)(l.mh,{zIndex:T.lI,children:(0,I.jsx)(h.Qp,{anchor:N.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!eu,idealDirection:eu?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),ea&&(0,I.jsx)(m.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,I.jsx)(y.Z,{children:(0,I.jsx)(F,{onClose:({isExitButton:e,isClick:a})=>{Y({aux_data:{image_signature:R.image_signature},component:128,event_type:a?101:97,element:e?15867:15866,view_type:3}),ei(()=>{eg(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:j,pin:R,rounding:32,showRepinOnInitialRender:L,trafficSource:D,viewParameter:Z})})})]})}},721956:function(e,a,i){i.d(a,{NE:()=>p,ZP:()=>m,nU:()=>u});var n,l=i(667294);i(167912);var t=i(120034),r=i(907022),s=i(566431),o=i(891851),d=i(518596),c=i(546151);function u({domain:e,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:n,hasThirdPartyPinOwner:l,isPromoted:t,pinnerDomainUrl:r,pinnerDomainVerified:s}){return(i||a||l||s&&r===e)&&!t||!!n}function p({carouselInfo:e,closePanelWidth:a,isWideVideo:i,isShortImage:n,naturalWidth:l,showCloseupContentRight:t}){return!i&&!!t&&(!!n||!e&&l<a)}let g=void 0!==n?n:n=i(538283);function m(e){let a=(0,r.Z)(g,e),{currentDomain:i}=(0,t.Z)({carouselData:a.carouselData&&{carouselSlots:a.carouselData.carouselSlots&&a.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:a.carouselData?.index},domain:a.domain}),n=!!a?.isGoLinkless,p=!!a.link&&a.link.startsWith("https://i.pinimg.com"),m=(0,l.useCallback)(e=>!n&&(e&&!p?!!a.link:!a.isEligibleForPdp&&!!(0,s._S)(i)&&!p),[i,a.isEligibleForPdp,a.link,n,p]),h=(0,o.Z)({hasPin:!!a,hasPinRichMetadata:!!a.richMetadata,hasPinRichMetadataProducts:!!a.richMetadata?.products,hasPinRichMetadataArticle:!!a.richMetadata?.article,hasPinRichMetadataRecipe:!!a.richMetadata?.recipe,hasPinStoryPinData:!!a.storyPinData}),_=(0,l.useCallback)(e=>e||h,[h]),y=!!a.nativeCreator,f=!!a.originPinner,x=!!a.thirdPartyPinOwner,k=!!a.linkUserWebsite?.officialUser,S=!!a.linkDomain,P=!!a.linkDomain?.officialUser,v=!!a.creatorClass,b=a.pinner;b=y?a.nativeCreator:S?a.linkDomain.officialUser:a.originPinner||a.pinner;let{pinCreditLink:T,pinCredit:I}=(0,c.Xe)({hasLinkDomain:S,hasNativeCreator:y,hasOriginPinner:f,pinDomain:a.domain,sourceUserUsername:b?.username??null,sourceUserFullName:b?.fullName??null}),w=!!b,F=!!T&&!!I,C=!!a.closeupAttribution;return{getShowClickthroughLink:m,getViewParameter:_,makeDetailsArgs:(0,l.useCallback)(e=>({isShopTheLook:!!a.aggregatedPinData?.isShopTheLook,showCreatorCard:u({domain:a.domain??"",hasLinkDomainOfficialUser:P,hasLinkUserWebsiteOfficialUser:k,hasNativeCreator:y,hasThirdPartyPinOwner:x,isPromoted:!!a.isPromoted,pinnerDomainUrl:a.pinner?.domainUrl??"",pinnerDomainVerified:!!a.pinner?.domainVerified})||!C&&w&&F,creatorId:a.closeupAttribution?.entityId??b?.entityId??null,showCanonicalComments:!!a.isEligibleForAggregatedComments,showReactions:(0,d.J6)({board:a.board?.isCollaborative||a.board?.collaboratedByMe?{isCollaborative:a.board.isCollaborative??null,collaboratedByMe:a.board.collaboratedByMe??null}:null,videos:a.videos?.entityId?{entityId:a.videos.entityId}:null,isDownstreamPromotion:a.isDownstreamPromotion,isPromoted:a.isPromoted,storyPinDataId:a.storyPinDataId},e),isCreatorClassPin:v}),[v,P,k,y,x,C,F,w,a.aggregatedPinData?.isShopTheLook,a.board?.collaboratedByMe,a.board?.isCollaborative,a.closeupAttribution?.entityId,a.domain,a.isDownstreamPromotion,a.isEligibleForAggregatedComments,a.isPromoted,a.pinner?.domainUrl,a.pinner?.domainVerified,a.storyPinDataId,a.videos?.entityId,b?.entityId])}}},732054:function(e,a,i){i.d(a,{Z:()=>s});var n=i(667294),l=i(893957);let t=i(386385).cI+16,r=`calc(100vh - ${t}px)`;function s(e=100){let[a,i]=(0,n.useState)(r),o=(0,n.useRef)(null),d=`calc(${e??"100"}vh - ${t}px)`;return(0,l.Z)(()=>{if(!window)return;let a=window.innerHeight-t,n=o.current?.clientHeight||0;n>a*e/100&&(d=n.toString()),i(a>n?d:n)}),{descriptionContentMaxHeight:a,visualContentContainerRef:o}}},290852:function(e,a,i){i.d(a,{Z:()=>o}),i(167912);var n,l=i(201363),t=i(907022),r=i(601871);let s=void 0!==n?n:n=i(826299);function o({pinKey:e,orbacActingAs:a,viewer:i}){let n=(0,t.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(i,n.pinner.entityId,a),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,l.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,i);return o||d}},26458:function(e,a,i){i.d(a,{Z:()=>g});var n,l=i(667294);i(422578);var t=i(800691),r=i(752031),s=i(907022),o=i(415927),d=i(15392),c=i(133546);let u=100+d.Ie,p=void 0!==n?n:n=i(646605);function g({metadataContainerRef:e,pinKey:a}){let[i,n]=(0,l.useState)(!1),{paneWidth:d}=(0,c.x4)(),{mainImage:g,carouselInfo:m}=(0,r.r)(),h=(0,o.Z)(),_=(0,s.Z)(p,a),y=(0,t.Z)({carouselData:m?.carouselData,mainImage:g,maxCloseupImageWidth:d,pinKey:_}).containerHeight;return(0,l.useEffect)(()=>{let a=()=>{if(!h&&e.current){let a=(e.current?.getBoundingClientRect()?.height??0)+u>y;a!==i&&n(a)}};a();let l=null;return!h&&e.current&&(l=new ResizeObserver(a)).observe(e.current),()=>{l&&l.disconnect()}},[e,i,h,y]),i}},236459:function(e,a,i){i.d(a,{Z:()=>l});var n=i(667294);function l(){let[e,a]=(0,n.useState)(""),i=(0,n.useRef)(null),l=(0,n.useRef)(null),t=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let a=()=>{e&&i.current&&i.current.handleEgSurveyClick(e)};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:a,webLinkSurveyRef:i,imageContainerRef:l,legoLinkClickthroughAnchorRef:t,maybeLinkRef:r}}},533386:function(e,a,i){i.d(a,{l6:()=>aL,ZP:()=>aZ});var n,l,t,r=i(667294),s=i(581722),o=i(616550),d=i(883119),c=i(813954);let u=Object.freeze(["JP"]);var p=i(233511),g=i(646941),m=i(510065);i(167912);var h=i(907022),_=i(64627),y=i(133546),f=i(194442),x=i(785893);let k=(0,f.Z)(()=>Promise.resolve().then(i.bind(i,560333)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),S=(0,f.Z)(()=>i.e("82713").then(i.bind(i,725529)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),P=(0,f.Z)(()=>i.e("99743").then(i.bind(i,659885)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),v=void 0!==n?n:n=i(414201),b=(0,r.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:i,searchQuery:n,setRelatedPinsHeaderRef:l,slotIndex:t,story:r,trafficSource:s,viewParameter:o,viewportSize:c},u)=>{let p=(0,h.Z)(v,i),{closeupWithinMasonryEnabled:g}=(0,y.x4)();if(!r)return null;let{story_type:m}=r;return"related_products_collage"===m?(0,x.jsx)(d.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,x.jsx)(S,{pinKey:p,searchQuery:n,slotIndex:t,storyKey:{type:"deprecated",data:r},trafficSource:s,viewParameter:o,viewportSize:c})}):(0,_.HM)(m)?!g&&(0,x.jsx)(d.xu,{alignSelf:"center",children:(0,x.jsx)(k,{filter:(0,_.oV)(m),story:r,viewParameter:o})}):"related_modules_header"===m?(0,x.jsx)(d.xu,{ref:l,"data-test-id":"related-modules-header",children:(0,x.jsx)(P,{ref:u,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:t,storyId:r.id,storyType:m,title:r.title?.format,viewParameter:o})}):null});var T=i(34692),I=i(819108),w=i(560333),F=i(797484),C=i(945624),A=i(216762),j=i(210616),R=i(583875),K=i(806513),E=i(748336),L=i(234392);let D=[81];function Z({data:e}){let{action:a,container_type:i,objects:n,title:l}=e||{},{format:t}=l??{},{text:r,url:s,user:o={}}=a??{},{image_large_url:c,full_name:u,avatar_color_index:p}=o,{images:g}=n?.find(e=>"pin"===e.type)||{},m=null,h=(0,E.Z)({url:s})?"nofollow":"none";return 81===i&&(m=(0,x.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,x.jsxs)(d.xu,{position:"relative",children:[(0,x.jsx)(L.Z,{coverImages:g??void 0,height:K.yF,text:t??"",textType:"text",url:s??""}),o.imageUrl&&(0,x.jsx)(d.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(R.qE,{color:p||void 0,name:u||"",outline:!0,size:"md",src:c??""})})]}),(0,x.jsx)(d.ZP,{fullWidth:!0,href:s??"",rel:h,size:"lg",text:r??""})]})),m}var M=i(153149),N=i(953994),B=i(104999),O=i(261954),z=i(138596),U=i(171556),H=i(149238),V=i(891851),G=i(906127);let{Provider:W,useHook:$}=(0,i(439947).Z)({name:"related_feed",sampleRate:1});var Y=i(629972),q=i(529211),X=i(112658),Q=i(575820),J=i(893957),ee=i(548782),ea=i(845738),ei=i(767415);let en=e=>({height:q.zX*e,width:q.zX});function el(e){return e.columnSpan??1}let et=void 0!==l?l:l=i(947597),er=({closeupBody:e,surface:a="RelatedPinGrid",clientTrackingParams:i,isFilteredFeed:n,lfvExperiences:l,relatedPinsResource:t,setHasRelatedPins:s,i18n:o,closeupWithinMasonryEnabled:c,logContextEvent:u,relatedPinsInRow:p,pin:g,relatedPinsContainerRef:m,topLevelTrafficSource:h,viewParameter:y})=>{let[f,k]=(0,r.useState)(t.auxData?.grid_layout?.w_h_ratio),[S,P]=(0,r.useState)(!0),v=(0,r.useRef)(null),b=(0,r.useRef)(null),{closeupMasonryModules:j,skinToneModule:R}=(0,C.Z)(g.entityId,t);(0,J.Z)(()=>{u({event_type:13,view_parameter:y,view_type:3,component:86,clientTrackingParams:i})}),(0,r.useEffect)(()=>{!f&&t.auxData?.grid_layout?.w_h_ratio&&(k(t.auxData.grid_layout.w_h_ratio),v.current=window)},[c,f,t]);let K=({data:i,itemIdx:n})=>{let t;let r=(0,V.Z)({hasPin:!!g,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData});switch(i.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,x.jsx)(A.Z,{moduleWidth:"100%",pinKey:g,trafficSource:h,viewParameter:r});break;case"inclusive_filters_module":t=(0,x.jsx)(w.default,{filter:(0,_.oV)(R?.story_type),story:R,viewParameter:r});break;case"story":switch((0,ei.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:i.story_type||"unknown",surface:"closeup"}}),i.story_type){case"BUBBLE_ONE_COL":t=(0,x.jsx)(ee.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:n,storyType:i.story_type,title:i.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,x.jsx)(M.default,{itemIdx:n,story:i,viewParameter:r,viewType:3});break;default:t=null}i.container_type&&D.includes(i.container_type)&&(t=(0,x.jsx)(Z,{data:i}));break;default:let s=(0,H.Z)(l);t=(0,x.jsx)(ea.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pinId:i.id,pinImageCrop:f?en(f):null,slotIndex:n,surface:a,viewData:{pin_id:g.entityId},viewParameter:r,viewType:3})}return(0,x.jsx)(F.Z,{children:t})},E=t.data?t.data.length:0;(0,r.useEffect)(()=>{s(0!==E)},[E,s]);let{data:L,fetchMore:B,isAtEnd:z,isFetching:W}=t,q=`relatedPins:${g.entityId}`,Q=["related_products_button_footer","related_domain_carousel","related_products_feed_header"],et=(L&&L?.findIndex(e=>"pin"===e.type))??0,er=[...c?j:[],...(L||[]).slice(et).filter(e=>!Q.includes(e?.story_type))],es=(0,r.useRef)(!1),eo=(0,r.useRef)(0),ed=$(),ec=()=>{eo.current=performance.now()};(0,J.Z)(()=>{es.current||(es.current=!0,ed?.start())}),(0,r.useEffect)(()=>{es.current&&(S||(ed?.abort(),es.current=!1),0!==er.length&&(z&&(ed?.stop(),es.current=!1),eo.current>0&&(ed?.stop(eo.current),es.current=!1)))},[S,z,ed,ed?.isTiming,er.length]);let eu=n&&t.nextBookmark===Y.qx,ep=(0,N.Z)({isHiddenPin:g?.isHidden,isUnsafePin:g?.isUnsafe});return(0,x.jsx)(U.Z,{onVisibilityChange:e=>{P(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,x.jsx)(d.xu,{ref:e,children:(0,x.jsx)(d.xu,{ref:m,children:(0,x.jsx)(X.Z,{clientTrackingParams:i,component:86,viewParameter:(0,V.Z)({hasPin:!!g,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData}),children:(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(G.Z,{isAtEndOfFeed:z,isPlaceholderGrid:!0,itemCount:er.length,stopwatchContext:ed,stopwatchSetVisuallyCompleteResult:ec,children:(0,x.jsx)(O.default,{_dynamicHeights:c,_getColumnSpanConfig:c?el:void 0,align:c?"center":void 0,cacheKey:q,isFetching:W,isGridCentered:p,isLoadedAccessibilityLabel:er.length>0?o._('Loaded more related product results', 'closeup.relatedProducts.results', 'Accessibility label for loaded more related product results'):o._('Loaded related products result', 'closeup.relatedProducts.results', 'Accessibility label for loaded related products result'),isLoadingAccessibilityLabel:er.length>0?o._('Loading more related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading more related products results'):o._('Loading related products results', 'closeup.relatedProducts.loading', 'Accessibility label for loading related products results'),items:er,layout:"basic",loadItems:B,masonryRef:b,minCols:c?2:void 0,renderItem:K,scrollContainerRef:v,serverRender:!0,useLoadingState:ep})}),eu&&E>0&&(0,x.jsx)(T.Z,{}),eu&&0===E&&(0,x.jsx)(I.Z,{})]})})})})})};function es({pinKey:e,relatedModulesRef:a,...i}){let n=(0,z.ZP)(),l=(0,B.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:s}=(0,y.x4)(),d=(0,o.TH)(),c=(0,o.k6)(),u=(0,h.Z)(et,e),p=(0,Q.mB)(d.search).rs,g=c?.action==="POP";return(0,r.useEffect)(()=>{(0,j.Z)({isFromBackButton:g,referringSource:p,relatedModulesRef:a})},[g,d,p,a]),(0,x.jsx)(W,{children:(0,x.jsx)(er,{...i,clientTrackingParams:t,closeupWithinMasonryEnabled:s,i18n:n,logContextEvent:l,pin:u,relatedPinsInRow:s})})}var eo=i(788730),ed=i(195658),ec=i(433100),eu=i(190665),ep=i(383022),eg=i(661376),em=i(309266),eh=i(758594);let e_=(0,f.Z)(()=>i.e("80949").then(i.bind(i,1515)),void 0,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),ey=new Set([...eo.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),ef=void 0!==t?t:t=i(684517);function ex({clientTrackingParams:e,closeupBody:a,isRelatedPins10PercentVisible:i,isVideoPin:n,pinKey:l,relatedResourceOptions:t,searchQuery:s,relatedPinsContainerRef:o,setRelatedPinsHeaderRef:c,topLevelTrafficSource:u,trafficSource:p,viewParameter:g,viewportSize:m}){let{closeupWithinMasonryEnabled:_}=(0,y.x4)(),[f,k]=(0,r.useState)(!n),S=(0,eg.Z)(f?t:null),P=(0,ep.Z)(),v=(0,eu.Z)(),T=(0,em.Z)(),{cacheOneBarModules:I,cachedProductFilterOneBarModules:w}=(0,ec.X)(),F=(0,r.useRef)(null),C=(0,r.useCallback)(e=>{e&&(F.current=e)},[]),[A,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=f?void 0:setTimeout(()=>k(!0),_&&n?1e3:0);return()=>clearTimeout(e)},[_,n,f]);let R=(0,h.Z)(ef,l),{isInCloseupShoppingRefinementsExp:K,shouldFetchSLURPFields:E}=(0,ed.Z)({pinKey:R}),L=(0,eg.Z)(K&&v&&R.entityId?{name:"ApiResource",options:{url:`/v3/pins/${R.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...E?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:v}}}:null),D=L?.data?L:S,Z=D?.data?.find(e=>"story"===e.type&&e.story_type===eo.vs),M=Z?.objects;(0,r.useEffect)(()=>{K&&Z?.objects&&I({baseCacheKey:R.entityId,oneBarModules:Z.objects})},[S,R.entityId,I,K,L,Z?.objects]);let N=!K||K&&!P;return(0,x.jsx)(eh.Z,{metricName:"RelatedModulesFeed",children:(0,x.jsxs)(d.xu,{ref:C,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[A&&(S.data||[]).filter(e=>ey.has(e.story_type)).map((a,n)=>(0,x.jsx)(d.xu,{"data-test-id":`related-module-${a.id}`,direction:"column",display:"flex",children:(0,x.jsx)(b,{ref:F,clientTrackingParams:e,isRelatedPins10PercentVisible:i,pinKey:R,searchQuery:s,setRelatedPinsHeaderRef:c,slotIndex:n,story:a,trafficSource:p,viewParameter:g,viewportSize:m})},`related-module-${a.id}`)),M&&M.length>0&&w&&w.length>0&&(0,x.jsx)(e_,{oneBarModules:M,viewParameter:g,viewType:3}),K&&P&&(0,x.jsx)(es,{closeupBody:a,isFilteredFeed:!0,lfvExperiences:T,pinKey:R,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:L,setHasRelatedPins:j,surface:"ShoppingDynamicHeightGrid",topLevelTrafficSource:u,viewParameter:g}),N&&(0,x.jsx)(es,{closeupBody:a,lfvExperiences:T,pinKey:R,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:S,setHasRelatedPins:j,topLevelTrafficSource:u,viewParameter:g})]})})}var ek=i(165833),eS=i(928585),eP=i(110261),ev=i(877733),eb=i(17841),eT=i(4533),eI=i(81221),ew=i(201363),eF=i(719301),eC=i(663),eA=i(200301),ej=i(230201),eR=i(470205),eK=i(681698),eE=i(176714),eL=i(856853),eD=i(391696),eZ=i(240571),eM=i(49104),eN=i(566431),eB=i(296339),eO=i(35169),ez=i(438303),eU=i(613567),eH=i(830031),eV=i(398006),eG=i(417394),eW=i(774838),e$=i(34550),eY=i(213539),eq=i(730448),eX=i(736328),eQ=i(439048),eJ=i(577356),e0=i(575647),e1=i(200619),e3=i(601871),e2=i(417525),e6=i(15392),e5=i(289747),e4=i(76849),e7=i(715987),e8=i(271875),e9=i(386385),ae=i(207095),aa=i(250704),ai=i(490515);function an(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let al=(0,f.Z)(()=>i.e("96615").then(i.bind(i,430505)),{ssr:!1}),at=(0,f.Z)(()=>i.e("54347").then(i.bind(i,416843)),{ssr:!1}),ar={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},as={boxShadow:"unset",borderRadius:eo.uO};function ao({conversation_id:e,senderId:a,pinId:i}){(0,eK.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:i}})}let ad=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:i})=>!["md","sm"].includes(a)&&!e||i&&"sm"!==a;class ac extends r.Component{constructor(...e){super(...e),an(this,"state",this.props.initialState),an(this,"removedPwtThumbnailsConstraint",!1),an(this,"setCloseupBodyContainerRef",e=>{this.closeupBodyContainerRef=e}),an(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),an(this,"mounted",!1),an(this,"handleCloseupBodyUpdate",()=>{this.updateViewportSize()}),an(this,"updateViewportSize",()=>{if(this.mounted){let{BACKBUTTON_WIDE_BREAKPOINT:e,BREAKPOINT:a,STACKED_CLOSEUP_BACKBUTTON_NARROW_BREAKPOINT:i,BACKBUTTON_NARROW_BREAKPOINT:n,EXP_SM_BREAKPOINT:l,SM_BREAKPOINT:t}=(0,eo.le)({verticalNavWidth:this.props.verticalNavWidth}),r=this.props.closeupWithinMasonryEnabled?l:t,s="lg";window&&window.innerWidth<a&&(s=window&&window.innerWidth<r?"sm":"md");let o=this.props.closeupWithinMasonryEnabled?i:n;this.setState({hideBackButton:window&&(!this.props.closeupWithinMasonryEnabled&&"lg"===s&&window.innerWidth<=e||["md","sm"].includes(s)&&window.innerWidth<=o),viewportSize:s})}}),an(this,"throttleUpdateViewportSize",(0,eq.Z)(this.updateViewportSize,50)),an(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),an(this,"executeClickthrough",e=>{let{pinId:a,setPlacementExtraContext:i,clientTrackingParams:n,viewer:l,trafficSource:t,logContextEvent:r,getStringifiedCommerceAuxData:s,pinFormattedLink:o,setAbortNoActionPlacementTimeout:d,isEligibleForStaticImageIdeaPin:c,isCloseupMediaViewerOpen:u}=this.props,{pin:p,didPinClickThrough:g,didShortClickThrough:m}=this.state,h=!!p.story_pin_data_id&&c,{wasImageClicked:_,auxData:y,componentType:f=h?228:4,elementType:x=_?35:h?11157:361,viewType:k=u?675:3}=e||{},S=(0,V.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),P={...s(),...y||{},is_promoted:p.is_promoted};if(l&&l.isAuth&&!g&&i&&(i({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),h&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:p.id,url:o}}),r({event_type:101,object_id_str:a,component:f,element:x,clientTrackingParams:n,aux_data:{...s(),...y||{}}}),r({event_type:12,object_id_str:a,view_type:k,view_parameter:S,component:f,element:x,aux_data:P,clientTrackingParams:n}),r({event_type:8948,view_type:k,view_parameter:S,component:f,element:x,object_id_str:a,clientTrackingParams:n,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,eN.sV)(t)?"deeplink":"click",...s(),...y||{}}}),_){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),m&&this.setState({didShortClickThrough:!1}),d(!0)}),an(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),an(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),an(this,"handleSaveClicked",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:0,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),an(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),an(this,"handleCarouselSwipe",e=>{let{visualState:a,firstLoadComplete:i}=this.state;i&&this.setState({visualState:{...a,carouselData:{...a.carouselData,index:e}}})}),an(this,"dispatch",(e,a)=>this.setState(a=>(0,ek.Z)(a,e),a)),an(this,"handleScroll",(0,eq.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let a=e9.hu,i=this.relatedPinsHeaderRef.getBoundingClientRect().top<=a;i&&!e?this.setState({isOverRelatedPins:!0}):!i&&e&&this.setState({isOverRelatedPins:!1})}},10)),an(this,"onToggleIdeaPinCloseupPanel",e=>{this.setState({isCloseupMaximized:!e}),this.closeupBodyContainerRef&&(this.closeupBodyContainerRef.ariaHidden=!e)}),an(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),an(this,"handleIdeaCloseupCommentIconClick",e=>{let{setIsCommentThreadExpanded:a}=this.props;this.setState({isCommentSectionOpen:e}),a(!!e),e&&this.props.logContextEvent({component:13464,element:11981,event_type:10554,view_type:3})})}componentDidMount(){let{conversation_id:e,conversationOpen:a,pin:i,pinId:n,senderId:l,setPlacementExtraContext:t,shouldShowInbox:r,openInbox:s}=this.props;this.mounted=!0,e&&l&&n&&ao({conversation_id:e,senderId:l,pinId:n}),e&&(a(e),r&&s()),i.image_signature&&this.props.setMostRecentPinImage(i.image_signature),n&&this.props.setMostRecentPinId(n),t&&t({is_own_or_group_pin:this.isOwnOrGroupPin}),this.updateViewportSize(),window.addEventListener("resize",this.throttleUpdateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,eE.Z)()}componentDidUpdate(e){let{didRepin:a,isLandingPage:i,pin:n,pinId:l,conversation_id:t,senderId:r,pinResource:{data:s},pwtSurfaceContext:o,setPlacementExtraContext:d}=this.props,{visualState:{carouselData:c},firstLoadComplete:u}=this.state;this.visualDataDidUpdate(),u&&!this.removedPwtThumbnailsConstraint&&(o?.removeConstraint("thumbnailsLoaded"),(0,eG.l7)("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),s&&!u&&(s.carousel_data&&(s.carousel_data.index=c?.index||0),this.dispatch({type:"pinLoaded",pin:s})),t&&r&&l&&e.pinId!==l&&ao({conversation_id:t,senderId:r,pinId:l});let p={};(e$.ZP.getItem(eT.W3)||"").includes(`/pin/${l}`)&&i&&(p.loginPageType="pin"),a&&(p.didRepin=!0),n.image_signature&&(p.pin_image_signature=n.image_signature),p.is_own_or_group_pin=this.isOwnOrGroupPin;let{didRepin:g,isLandingPage:m,pinId:h}=e,_=g!==a||i!==m||h!==l;!(0,eL.Z)(p)&&_&&d&&d({...p})}componentWillUnmount(){window.removeEventListener("resize",this.throttleUpdateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:a}=this.props,i=(e||{}).board||{},n=i.is_collaborative&&(0,ew.Z)(i.collaborated_by_me,i.owner?.id,a);return!!(a.isAuth&&e.pinner?.id===a.id||n)}visualDataDidUpdate(){let e;let{pin:a,mainImage:i}=this.props,{visualState:{carouselData:n,mainImage:l},firstLoadComplete:t}=this.state;if(!t)return;let r=(0,eC.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,eA.Z)(s.images),d=n?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:i,carouselData:{...r,index:d},previewImage:(0,e4.Yf)(a.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:i,previewImage:(0,e4.Yf)(a.images?.["236x"])},(n?.id!==e.carouselData?.id||JSON.stringify(n?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||l.url!==e.mainImage.url)&&this.setState({visualState:e})}renderBodyContent({isCommentThreadExpanded:e,relatedResourceOptions:a,storyPinTaggedProducts:i,maxWidth:n,isEligibleForStaticImageIdeaPin:l,clientTrackingParams:t}){let s;let{experimentsClient:{checkExperiment:o},isLimitedLogin:u,pin:g,pinDerivedData:m,pinResource:h,requestContext:_,routePush:y,searchQuery:f,showRepinOnInitialRender:k,trafficSource:S,viewer:P,orbacActingAs:v,userBusinessRoleResource:b,trendsData:T,closeupWithinMasonryEnabled:I,peekCloseupEnabled:w,isCloseupRelatedPinsAboveTheFoldEnabled:F}=this.props,{id:C,sponsorship:A,story_pin_data_id:j,story_pin_data:R}=g,K=!!j&&!l,E=!!R?.is_deleted,{creator:L,sponsor:D,status:Z}=A||{},{username:M}=L||{},{username:N}=D||{},{refresh:B}=h,O=(0,e3.lJ)(P,v),{data:z}=b||{},U=!g.is_repin&&!!N,H=N===P.username?[eF.V3.OWNER]:z?.permissions,V=N===P.username||!!H?.find(e=>eb.Z.includes(e)),G=N===P.username||!!H?.find(e=>eb.Z.includes(e)),{didShortClickThrough:W,isCloseupMaximized:$,isCommentSectionOpen:Y,shopping:q,viewportSize:X}=this.state,{isWideVideo:Q}=(0,eM.Z)((0,ez.Z)({pin:g}))||{},J=(0,eZ.rh)(g&&{aggregatedPinData:g.aggregated_pin_data&&{creatorAnalytics:g.aggregated_pin_data.creator_analytics&&{_30dRealtime:g.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:g.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:g.board&&{privacy:g.board.privacy},creatorAnalytics:g.creator_analytics&&{_30dRealtime:g.creator_analytics["30d_realtime"]&&{carId:g.creator_analytics["30d_realtime"].id}},isRepin:g.is_repin,pinner:g.pinner&&{entityId:g.pinner.id},storyPinDataId:g.story_pin_data_id,videos:g.videos&&{videoList:g.videos.video_list&&{__typename:"VideoList"}}},P,O),ee=(0,c.CA)(T?.data),ea=U&&P.isAuth&&o("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(V&&0===Z||G&&1===Z),ei=g.link_domain?.official_user?.username||g.native_creator?.username,en=(0,e3.Ms)(P,v)===ei&&(0,e3.nl)(P,v)&&_.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,el=K&&(R?.pages?.length??0)>0,et=(0,eZ.WE)(P,X,J,ee,T,ea);s=K?{boxShadow:void 0,borderRadius:void 0}:I?as:eo.te;let er=el?226:3;er=F?3:er;let es=(0,x.jsx)(eR.Z,{name:"CloseupBody",children:(0,x.jsxs)(d.xu,{ref:this.setCloseupBodyContainerRef,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,x.jsxs)(d.xu,{alignItems:Q?"center":void 0,direction:Q?"column":void 0,display:Q?"flex":void 0,children:[ea&&"number"==typeof Z&&(0,x.jsx)(d.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,x.jsx)(eR.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,x.jsx)(at,{business_role:H,creatorUsername:M??"",pinId:C,sponsorshipStatus:Z})})}),et&&!K&&!I&&(0,x.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"lg"===X&&Q?n:"100%",children:(0,x.jsx)(eR.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,x.jsx)(al,{borderStyle:s,isStoryPin:K,pinKey:{type:"deprecated",data:g},showPinStats:J,trendsData:ee?T?.data?.results:null,viewportSize:X})})})]}),(0,x.jsx)(d.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,x.jsx)(p.Z,{clientTrackingParams:t,data:h.data,didShortClickThrough:W,goBack:this.handleBackButtonClick,handleCarouselSwipe:this.handleCarouselSwipe,isCloseupMaximized:$,isCommentSectionOpen:!F&&Y||e,isDeletedStoryPin:!!E,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,isStoryPin:K,isVideoPin:m.isVideoPin,isWideVideo:Q,onClickThrough:this.executeClickthrough,onCloseupBodyUpdate:this.handleCloseupBodyUpdate,onCommentSectionClick:this.handleIdeaCloseupCommentIconClick,onSaveButtonClick:this.handleSaveClicked,onUpdate:B,outerBodyStyle:s,outerPaddingSize:F?e6.ER:void 0,pin:g,relatedPinsContainerRef:this.props.relatedPinsContainerRef,relatedResourceOptions:a,routePush:y,searchQuery:f,shopping:q,shouldShowPartnerModule:et,shouldShowStlCarouselForOwnPin:en,showPinStats:J,showRepinOnInitialRender:!u&&k,showTrendsOnPinCloseup:ee,storyPinTaggedProducts:i,trafficSource:S,trendsData:T,viewParameterType:el?157:void 0,viewportSize:X,viewType:er})})]})});return(0,x.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:K?{...ar.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:w?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:I?0:4,width:w?void 0:"100%",children:(0,x.jsxs)(r.Fragment,{children:[el&&R&&(0,x.jsx)(eY.Z,{appConfig:{type:"authDesktop",onClickThrough:this.executeClickthrough,onNavigateBack:this.handleBackButtonClick},clientTrackingParams:t,onIdeaPinCloseupCommentClick:()=>{this.handleIdeaCloseupCommentIconClick(!0)},onTogglePanel:this.onToggleIdeaPinCloseupPanel,pin:g,storyPinData:R,variant:"closeup",viewParameterType:157,viewType:3}),(0,x.jsx)(e5.Z,{isStoryPin:K,isWideVideo:Q,children:es})]})})}render(){let{abortNoActionPlacementTimeout:e,contextPinIds:a,landingContext:i,pin:n,pinDerivedData:l,topLevelTrafficSource:t,topLevelTrafficSourceDepth:s,trafficSource:o,searchQuery:d,storyPinTaggedProductsResource:c,pinResource:u,viewer:p,orbacActingAs:h,closeupWithinMasonryEnabled:_,peekCloseupEnabled:y,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentThreadExpanded:k,isInRemoveMagnifyingGlassVariant:S,isCloseupMediaViewerOpen:P,isCommentAttachmentSelectorOpen:v,isMediaViewerOpen:b,isPinNoteExpanded:T,isRelatedPins10PercentVisible:I,isShoppingModuleExpanded:w,setAbortNoActionPlacementTimeout:F,isEligibleForStaticImageIdeaPin:C,relatedPinsContainerRef:A,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:R,setIsCloseupMediaViewerOpen:K,setIsMediaViewerOpen:E,setIsPinNoteExpanded:L,setIsShoppingModuleExpanded:D,clientTrackingParams:Z,shouldFetchSLURPFields:M,calculatedImageHeight:N,setCalculatedImageHeight:B}=this.props,{isOverRelatedPins:O,viewportSize:z,didShortClickThrough:U,firstLoadComplete:H}=this.state,{isWideVideo:G}=(0,eM.Z)((0,ez.Z)({pin:n}))||{},W=!_&&ad({isWideVideo:G,viewportSize:z,peekCloseupEnabled:y}),{recommendation_reason:$}=n,Y={name:"RelatedModulesResource",options:{additional_fields:M?["pin.is_eligible_for_closeup_one_bar_refinements"]:void 0,pin_id:n.id,context_pin_ids:a,homefeed_source_sig:$&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes($.reason)&&$.reason_id,page_size:12,search_query:d,source:o,top_level_source:t,top_level_source_depth:s,is_pdp:!1,landing_context:i}},q=(0,V.Z)({hasPin:!0,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!!n.rich_metadata?.products,hasPinRichMetadataArticle:!!n.rich_metadata?.article,hasPinRichMetadataRecipe:!!n.rich_metadata?.recipe,hasPinStoryPinData:!!n.story_pin_data}),X=(0,e3.q6)(p,n.pinner?.id,h),Q=!!n.id&&!X||_,{data:J}=c||{},ee=e6.Gg,ea=e6.u6,ei=this.renderBodyContent({isCommentThreadExpanded:k,relatedResourceOptions:Y,storyPinTaggedProducts:J,maxWidth:ea,isEligibleForStaticImageIdeaPin:C,clientTrackingParams:Z}),en=(0,x.jsx)(eQ.Z,{handleScroll:this.handleScroll,onClick:this.handleBackButtonClick,showShadow:O}),el=(0,x.jsx)(g.Z,{isVideoPin:l.isVideoPin,pin:n,pinResource:u,topLevelTrafficSource:t,didShortClickThrough:U,firstLoadComplete:H,viewportSize:z,relatedModulesContent:Q?(0,x.jsx)(ex,{clientTrackingParams:Z,closeupBody:ei,contextPinIds:a,isRelatedPins10PercentVisible:I,isVideoPin:l.isVideoPin,pinKey:{type:"deprecated",data:n},relatedPinsContainerRef:A,relatedResourceOptions:Y,searchQuery:d,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:t,trafficSource:o,viewParameter:q,viewportSize:z}):(0,x.jsx)(r.Fragment,{}),bodyContent:ei,onWrapperClick:this.onWrapperClick,backButton:en});return(0,x.jsx)(m.Z,{abortNoActionPlacementTimeout:e,classProps:this.props,classState:this.state,clientTrackingParams:Z,showCloseupContentRight:W,showProductDetailPage:!1,paneWidth:ee,maxWidth:ea,descriptionPaneWidth:ea-ee-(_?4:0),handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:el,isEligibleForStaticImageIdeaPin:C,isCloseupRelatedPinsAboveTheFoldEnabled:f,isCommentAttachmentSelectorOpen:v,isCommentThreadExpanded:k,isCloseupMediaViewerOpen:P,isMediaViewerOpen:b,isPinNoteExpanded:T,isShoppingModuleExpanded:w,setIsCommentAttachmentSelectorOpen:j,setIsCommentThreadExpanded:R,setIsCloseupMediaViewerOpen:K,setIsMediaViewerOpen:E,setIsPinNoteExpanded:L,setIsShoppingModuleExpanded:D,closeupWithinMasonryEnabled:_,peekCloseupEnabled:y,isInRemoveMagnifyingGlassVariant:S,setAbortNoActionPlacementTimeout:F,calculatedImageHeight:N,setCalculatedImageHeight:B})}}let au=(0,ev.Z)(function(e){var a;let{logContextEvent:i}=(0,ej.v)(),{pin:n,viewer:l,pinResource:t,pinId:d,showQuickPromote:p,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_}=e,y=(0,z.ZP)(),f=(0,eU.F)(),{checkExperiment:k}=f,S=(0,eX.Z)(),P=(0,eW.B)(),[v,b]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[w,F]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[j,R]=(0,r.useState)(!1),[K,E]=(0,r.useState)(!1),[L,D]=(0,r.useState)(0),[Z,M]=(0,r.useState)(!1),N=(0,ae.Z)(),B=(0,r.useRef)(null),[O,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{U(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=B?.current;return B?.current&&e.observe(B?.current),()=>{a&&e.unobserve(a)}},[B]);let{setMostRecentPinId:H,setMostRecentPinImage:V}=(0,ai.f)(),G=(0,e0.Z)({type:"deprecated",data:n}),W=(0,eN.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",$="pin_closeup_lcp",Y=(0,eV.PY)($),{conversationOpen:q}=(0,e8.Z)(),X=(0,e1.Z)(),Q=(0,eI.Z)(),J=(0,s.I0)(),ee=(0,eH.E)(),ea=(0,o.TH)(),ei=(0,aa.Z)((ea?.state||{}).trackingParams,n.trackingParams||n.tracking_params),en=(0,eJ.F9)(),[el,et]=(0,r.useState)(!1),er=Q("quick_promote_on_www"),es=`${er}?pinId=${d}`,{advertiser:eo}=P,ec=(0,e2.xN)(eo,d),eu=(0,eO.Z)({type:"deprecated",data:n}),{getLandingContext:ep}=(0,eD.Z)(),em=(0,e3.lJ)(l,X),{onHandleBackButtonClick:eh}=(0,e7.Z)({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:g,goBack:m,routePush:h,trafficSource:_,viewer:l,requestContext:P,pinKey:{type:"deprecated",data:n}},i);(0,r.useEffect)(()=>{t.data&&!el&&p&&et(!0)},[t.data,el,p]),(0,r.useEffect)(()=>{Y&&(0,eV.ku)({stopwatchName:$,binaryAnnotationName:"pinType",value:W,annotationType:"STRING"})},[Y,W]);let e_=!!n,ey=(0,r.useRef)(!1);e_&&ee&&!ey.current&&(ee.addBinaryAnnotation("pinType",W,"STRING"),(0,eG.XJ)("pinType",W,"STRING"),ey.current=!0);let ef=n.sponsorship?.sponsor?.id,ex=!n.is_repin&&!!ef,ek=(0,eg.Z)(ef&&ex&&l.isAuth&&"storyPin"===W?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ef}/me/ad_accounts_permissions/`}}:null),ev=l.isAuth&&(a=l.country,!u.includes(a))&&(0,c.Gv)({orbacSubjectId:em,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:l.id,viewerIsPartner:l.isPartner}),{data:eb,isLoaded:eT}=(0,eg.Z)(ev?{name:"ApiResource",options:{url:`/v3/trends/partner/${l.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:ew}=(0,eS.Z)(),eF=l.isAuth&&k("closeup_dweb_remove_magnifying_glass").anyEnabled,{shouldFetchSLURPFields:eC}=(0,ed.Z)({pinKey:{type:"deprecated",data:n}}),eA=!!n.story_pin_data_id,eR=(0,eP.Z)({pin:n,pinId:d,pinResource:t}),{getMainPinImage:eK}=(0,eB.Z)({pinKey:{type:"deprecated",data:n}});return el?f.checkExperiment("adv_growth_deprecate_qp_pins").anyEnabled?(window.location.assign(ec),(0,x.jsx)(r.Fragment,{})):(0,x.jsx)(o.l_,{to:es}):(0,x.jsx)(ac,{...e,abortNoActionPlacementTimeout:Z,calculatedImageHeight:L,clientTrackingParams:ei,closeupWithinMasonryEnabled:ew,conversationOpen:q,dispatch:J,experimentsClient:f,getSterlingURL:Q,getStringifiedCommerceAuxData:G,i18n:y,initialState:eR,isCloseupMediaViewerOpen:w,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:v,isCommentThreadExpanded:T,isEligibleForStaticImageIdeaPin:eA,isInRemoveMagnifyingGlassVariant:eF,isMediaViewerOpen:C,isPinNoteExpanded:j,isRelatedPins10PercentVisible:O,isShoppingModuleExpanded:K,landingContext:ep(),location:ea,logContextEvent:i,mainImage:eK(),onHandleBackButtonClick:eh,orbacActingAs:X,peekCloseupEnabled:!ew,pinFormattedLink:eu,pwtSurfaceContext:ee,relatedPinsContainerRef:B,requestContext:P,setAbortNoActionPlacementTimeout:M,setCalculatedImageHeight:D,setIsCloseupMediaViewerOpen:F,setIsCommentAttachmentSelectorOpen:b,setIsCommentThreadExpanded:I,setIsMediaViewerOpen:A,setIsPinNoteExpanded:R,setIsShoppingModuleExpanded:E,setMostRecentPinId:H,setMostRecentPinImage:V,shouldFetchSLURPFields:eC,toastManager:en,trackInteraction:S,trendsData:{data:eb,isLoaded:!ev||eT},userBusinessRoleResource:ek,verticalNavWidth:N})});function ap(e){let a=(0,eg.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,x.jsx)(au,{...e,storyPinTaggedProductsResource:a})}var ag=i(375217),am=i(400962),ah=i(462867),a_=i(228612);function ay(e){let{previous:a}=(0,am.Hv)(),i=0===a.length,{children:n}=e,l=(0,o.TH)(),t=(0,ah.Z)(),r=(0,s.I0)(),{isBot:d}=(0,eW.B)(),{dropdownOpen:c}=(0,e8.Z)(),u=(0,a_.AF)(),p=!!u[e.pinId]&&(u[e.pinId].saved||!!u[e.pinId].savedInfo),g=u[e.pinId]||e.pinResource.data||{},m=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,h=g?.story_pin_data?.pages?.[0]?.blocks?.[0];m&&h&&!h?.video&&((g?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=m);let _="inbox"===(0,Q.mB)(l.search).tab;return n({isLandingPage:i,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:p,openInbox:c,pin:g,shouldShowInbox:_,updateExperienceForPlacement:e=>{r((0,ag.pz)([e],d))}})}var af=i(399312),ax=i(454435),ak=i(734473),aS=i(521367),aP=i(683372);let av=({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e),ab=e=>!!e&&((0,aP.C)(e)||av(e)),aT=e=>e.map(e=>ab(e.location)).find(e=>!0===e)??!1;var aI=i(505633),aw=i(925201);function aF(e,a=!1){let i=e||window.location.href;(0,aI.Z)(`/login?next=${a?(0,aw.Z)(i,{type:"signup"}):encodeURIComponent(i)}`)}var aC=i(331357),aA=i(148),aj=i(267092);let aR=(0,f.Z)(()=>i.e("8479").then(i.bind(i,532197)),void 0,"app-common-react-components-StatusPin-StatusPinCloseup"),aK=({id:e,story_pin_data:a,videos:i})=>(e&&i?.id&&i.video_list?[i.video_list.V_720P,i.video_list.V_HLSV4,i.video_list.V_HLSV3_MOBILE]:[]).some(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)||((a?.pages?.[0]||{}).blocks??[]).some(e=>!!e.video),aE=e=>({isVideoPin:!!e&&aK(e)});function aL({checkExperiment:e,clientTrackingParams:a,currentHistoryStack:i,history:n,location:l,params:t,pinResource:s,requestContext:o,searchPinCloseupViewed:d,showQuickPromote:c,showRepin:u,viewer:p,CloseupComponent:g,...m}){let h=s.data,_=s.isLoaded,y=(0,r.useRef)(null),f=_&&h&&h.pinner&&p.isAuth&&p.username===h.pinner.username&&_&&h&&"extension"===h.method,{trafficSource:k,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P,contextPinIds:v}=(0,af.Z)(i,p.isAuth);P>1&&"pin"!==k&&(0,ei.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:k,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P}});let b=(0,aP._)(i),T=(0,Q.mB)(l.search);(0,r.useEffect)(()=>{y!==h&&function({history:e,isBot:a,location:i,viewerId:n,viewerIsAuth:l}){!a&&n&&"undefined"!=typeof window&&(0,aC.U)(window.location,n,!1,l,a=>e.replace(a,i.state))}({history:n,isBot:o.isBot,location:l,viewerId:p.id||"",viewerIsAuth:p.isAuth}),y.current=h},[n,l,y,h,o.isBot,p.id,p.isAuth]),(0,r.useEffect)(()=>()=>{b&&h?.id&&d(h.id,b)},[h?.id,b,d]);let I=(0,r.useMemo)(()=>({viewType:3,viewParameter:(0,V.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data})}),[h]);return(0,x.jsx)(ak.Q,{value:{featuredCommentId:t.comment_id||""},children:(0,x.jsx)(aA.v,{value:I,children:(0,x.jsx)(ec.f,{children:(0,x.jsx)(aS.Ig,{children:(0,x.jsx)(ay,{pinId:t.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:l,didRepin:o,openInbox:d,pin:_,shouldShowInbox:y,updateExperienceForPlacement:I})=>(0,x.jsx)(r.Fragment,{children:(0,x.jsx)(g,{clientTrackingParams:a,contextPinIds:v,conversation_id:T.conversation_id,deepLinkBackGoesToBoard:f,didRepin:o,emailId:T.e_t,forceSendFeedback:T.fsf,goBack:function({boardUrl:e,currentHistoryStack:a,history:i,isFromExtension:n=!1,hasViewerPartner:l}){return()=>{if(!aT(a)&&!n){l?i.push("/homefeed/"):i.push("/");return}if(n&&1===a.length){i.push(e??"");return}i.goBack()}}({boardUrl:h?.board?.url,currentHistoryStack:i,history:n,isFromExtension:!!f,hasViewerPartner:!!p.partner}),isLandingPage:e,isLimitedLogin:l,messageId:T.message,onLoginClick:aF,openInbox:d,pin:_,pinDerivedData:aE(_),pinId:t.id??"",pinResource:s,routePush:n.push,searchQuery:b,senderId:T.sender,shouldShowInbox:y,showQuickPromote:c,showRepinOnInitialRender:u,topLevelTrafficSource:S,topLevelTrafficSourceDepth:P,trafficSource:k,updateExperienceForPlacement:I,viewer:p,...m})})})})})})})}function aD(e){let{pinResource:a}=e,i=a.data,{is_hidden:n,is_unsafe:l}=i||{},t=i?.story_pin_data?.has_product_pins,r=(0,N.Z)({isHiddenPin:n,isUnsafePin:l}),s=au;return r&&t&&(s=ap),(0,x.jsx)(aL,{...e,CloseupComponent:s})}function aZ(e){let a=(0,s.I0)(),i=(0,ah.Z)(),n=(0,o.UO)(),l=(0,am.aX)(),t={...e,history:(0,o.k6)(),location:(0,o.TH)(),params:n,requestContext:(0,eW.B)(),searchPinCloseupViewed:(e,i)=>a((0,aj.Y4)(e,i)),viewer:i},{checkExperiment:d}=(0,eU.F)();return(0,x.jsx)(ax.Z,{orbacSubjectId:(0,e3.lJ)(i,(0,e1.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let a=e&&e.data;return a&&(0,eN._J)(a.video_status)?(0,x.jsx)(aR,{pinKey:{type:"deprecated",data:a},...t}):(0,r.createElement)(aD,{...t,key:n.id,checkExperiment:d,currentHistoryStack:l,pinResource:e})}})}},646941:function(e,a,i){i.d(a,{Z:()=>P});var n=i(667294),l=i(883119),t=i(788730),r=i(131779),s=i(928585),o=i(19817),d=i(752031),c=i(216762),u=i(806513),p=i(891851),g=i(830031),m=i(730448),h=i(893957),_=i(133546),y=i(330572),f=i(49254),x=i(542515),k=i(767415),S=i(785893);function P({pin:e,pinResource:a,topLevelTrafficSource:i,didShortClickThrough:P,firstLoadComplete:v,relatedModulesContent:b,onWrapperClick:T,beforeBodyContent:I,afterBodyContent:w,isVideoPin:F,bodyContent:C,backButton:A}){let j=(0,g.E)(),{isCloseupRelatedPinsAboveTheFoldEnabled:R,isInRemoveMagnifyingGlassVariant:K,closeupWithinMasonryEnabled:E,peekCloseupEnabled:L,viewportSize:D}=(0,_.x4)(),{mainImage:Z}=(0,d.r)(),{sideBySideRedesignFastFollowsEnabled:M}=(0,s.Z)(),N=(0,f.t)(),{error:B}=a,{story_pin_data_id:O}=e||{},[z,U]=(0,n.useState)(E||!F);(0,n.useEffect)(()=>{let e=z?void 0:setTimeout(()=>U(!0),E?0:1e3);return()=>clearTimeout(e)},[E,z]);let{isEligibleForStaticImageIdeaPin:H}=(0,o.Z)(e.should_open_in_stream,e.story_pin_data_id),V=(0,n.useRef)(null),G=(0,n.useRef)(null),[W,$]=(0,n.useState)(void 0),Y=u.yF+u.oX,q=Math.floor((W??1)/Y),X=Y*q-u.oX,Q=(0,n.useCallback)(()=>{V.current&&G.current&&$(window.innerWidth)},[]);(0,x.Z)(()=>{window&&(0,k.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:M,isStoryPin:!!O,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),L&&Q()},V),(0,h.Z)(()=>{window&&(0,k.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:M,isStoryPin:!!O,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,n.useEffect)(()=>{L&&Q()},[Q,L]);let[J,ee]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,m.Z)(function(){Z&&window&&(window.scrollY>Z.height?ee(!0):ee(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[Z]);let{maxWidth:ea}=(0,t.Re)();if(Object.keys(e).length,B)return(0,S.jsx)(y.Z,{});let ei=!!O&&!H,en=!e.is_promoted,el=z&&b,et=(0,p.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),er=(0,S.jsx)("div",{ref:G,className:"Closeup Module","data-test-id":v?"closeup-data-loaded":"",onClick:e=>{!K&&(ei||T(e),j&&j?.abort("closefakemodal"))},role:"presentation",style:{cursor:K?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:ea,margin:L?"0 auto":void 0,marginTop:R?void 0:"16px"},children:(0,S.jsxs)(l.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[L?(0,S.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[A,I]}):(0,S.jsx)(n.Fragment,{children:I}),C,w,P&&!en&&(0,S.jsx)(r.C,{})]})},"closeup-content");return(0,S.jsx)(l.xu,{ref:V,width:"100%",children:(0,S.jsxs)(l.kC,{direction:E?"row":"column",justifyContent:"center",children:[!E&&er,E&&(A||I)&&(0,S.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginStart:4,children:(0,S.jsxs)(l.Le,{top:N+2,children:[A,(0,S.jsx)(l.xu,{"aria-hidden":J,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:J?0:1,children:I})]})}),(0,S.jsx)(l.kC.Item,{flex:"grow",children:(0,S.jsxs)(l.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:E?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:E?0:4,width:"100%",children:[L&&X&&"lg"!==D&&(0,S.jsx)(l.kC.Item,{alignSelf:"center",children:(0,S.jsx)(c.Z,{moduleWidth:X,pinKey:{type:"deprecated",data:e},trafficSource:i,viewParameter:et})}),el]})})]})})}},34692:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(135545),t=i(138596),r=i(785893);function s(){let e=(0,t.ZP)();return(0,r.jsxs)(n.xu,{paddingY:16,children:[(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e._('You\'ve reached the end', 'closeup.filteredFeed.enfOfFeed.title', 'message to let users know they have reached the end of the filtered feed in closeup')}),(0,r.jsx)(n.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.enfOfFeed.actionOne', 'message to let users know they can remove filters to see more results')})]}),(0,r.jsx)(l.Z,{})]})}},819108:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(135545),t=i(138596),r=i(785893);function s(){let e=(0,t.ZP)();return(0,r.jsx)(n.xu,{paddingY:16,children:(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e._('No results found', 'closeup.filteredFeed.noResultsFound.title', 'message to let users know there are no results found for the selected filters in closeup')}),(0,r.jsx)(n.xv,{align:"center",children:e._('Try removing a few filters to help us show more results.', 'closeup.filteredFeed.noResultsFound.actionOne', 'message to let users know they can remove filters to see more results')}),(0,r.jsx)(l.Z,{})]})})}},510065:function(e,a,i){i.d(a,{Z:()=>f});var n=i(667294),l=i(291211),t=i(195658),r=i(752031),s=i(272598),o=i(470205),d=i(521367),c=i(438303),u=i(891851),p=i(112658),g=i(439048),m=i(133546),h=i(194442),_=i(785893);let y=(0,h.Z)(()=>Promise.resolve().then(i.bind(i,597151)),{ssr:!1}),f=function({abortNoActionPlacementTimeout:e,classProps:a,classState:i,commerceData:h,showCloseupContentRight:f,showProductDetailPage:x,paneWidth:k,maxWidth:S,descriptionPaneWidth:P,handleCarouselSwipe:v,handleFocus:b,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:w,setIsMediaViewerOpen:F,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:j,handleScroll:R,handleBackButtonClick:K,closeupContent:E,isEligibleForStaticImageIdeaPin:L,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:N,isMediaViewerOpen:B,isPinNoteExpanded:O,isProductDetailsExpanded:z,isShoppingModuleExpanded:U,closeupWithinMasonryEnabled:H,peekCloseupEnabled:V,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:Y,setCalculatedImageHeight:q}){let{pin:X,pinId:Q}=a,{visualState:{carouselData:J,mainImage:ee,previewImage:ea},hideBackButton:ei,isOverRelatedPins:en,viewportSize:el}=i,et=!!X.story_pin_data_id&&!L,{isInCloseupShoppingRefinementsExp:er}=(0,t.Z)({pinKey:{type:"deprecated",data:X}}),es=(0,_.jsx)(g.Z,{handleScroll:R,marginTop:er?0:void 0,onClick:()=>{K()},showShadow:en});return(0,_.jsx)(m.ZP.Provider,{value:(0,m.Nb)({showCloseupContentRight:f,showProductDetailPage:x,viewportSize:el,paneWidth:k,maxWidth:S,descriptionPaneWidth:P,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:N,isMediaViewerOpen:B,isPinNoteExpanded:O,isProductDetailsExpanded:z,isShoppingModuleExpanded:U,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:w,setIsMediaViewerOpen:F,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:j,closeupWithinMasonryEnabled:H,peekCloseupEnabled:V,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:Y,setCalculatedImageHeight:q}),children:(0,_.jsxs)(r.A,{overrideValue:{mainImage:ee,previewImage:ea,carouselInfo:J&&{carouselData:J,handleCarouselSwipe:v,viewType:N?675:3,componentType:X.is_eligible_for_pdp?14186:85,viewParameter:(0,u.Z)({hasPin:!0,hasPinRichMetadata:!!X.rich_metadata,hasPinRichMetadataProducts:!!X.rich_metadata?.products,hasPinRichMetadataArticle:!!X.rich_metadata?.article,hasPinRichMetadataRecipe:!!X.rich_metadata?.recipe,hasPinStoryPinData:!!X.story_pin_data})}},pinKey:{type:"deprecated",data:X},children:[(0,_.jsx)(d.k6,{placementId:1000141}),(0,_.jsx)(d.k6,{placementId:1000499}),(0,_.jsx)(d.H6,{placementId:1000140}),(0,_.jsx)(d.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:Q,is_promoted:X.is_promoted},placementId:1000564}),(0,_.jsx)(d.iH,{placementId:12}),(0,_.jsx)(d.b9,{placementId:12}),(0,_.jsx)(d.nj,{placementId:12}),(0,_.jsx)(d._f,{placementId:12}),(0,_.jsx)(s.Z,{placementId:12}),(0,_.jsx)(p.Z,{auxData:h,clientTrackingParams:$,objectId:Q,view:3,viewParameter:(0,c.Z)(a)?(0,u.Z)({hasPin:!!X,hasPinRichMetadata:!!X.rich_metadata,hasPinRichMetadataProducts:!!X.rich_metadata?.products,hasPinRichMetadataArticle:!!X.rich_metadata?.article,hasPinRichMetadataRecipe:!!X.rich_metadata?.recipe,hasPinStoryPinData:!!X.story_pin_data}):void 0,children:(0,_.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:b,children:[(0,_.jsx)(o.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,_.jsx)(y,{placementId:12})}),(0,_.jsx)(d.O9,{placementId:12}),D?E:(0,_.jsxs)(n.Fragment,{children:[!ei&&!et&&es,E]}),!B&&!N&&!Z&&!H&&(0,_.jsx)(l.Z,{onClose:K}),(0,_.jsx)(d.RK,{placementId:12})]})})]})})}},560333:function(e,a,i){i.r(a),i.d(a,{default:()=>P});var n=i(667294),l=i(616550),t=i(883119),r=i(788730),s=i(230201),o=i(138596),d=i(108473),c=i(64627),u=i(613567),p=i(825605),g=i(735403),m=i(405897),h=i(893957),_=i(133546),y=i(450663),f=i(553925),x=i(785893);let k=(0,n.lazy)(()=>Promise.all([i.e("22244"),i.e("72117"),i.e("6235")]).then(i.bind(i,997069)));function S({children:e}){return(0,x.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:e})}function P({filter:e,story:a,viewParameter:i}){let P=(0,o.ZP)(),[v,b]=(0,n.useState)(!1),{logContextEvent:T}=(0,s.v)(),I=(0,l.k6)(),{closeupWithinMasonryEnabled:w,peekCloseupEnabled:F}=(0,_.x4)(),{checkExperiment:C}=(0,u.F)(),A=C("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,j="skin_tone"===e?13863:13864,R="skin_tone"===e?13803:14935,K="skin_tone"===e?10418:13358,{custom_properties:E,title:L}=a;(0,h.Z)(()=>{T({element:K,event_type:13,component:j,view_type:3,view_parameter:i,aux_data:{story_type:j}})});let D=("skin_tone"===e&&A?E?.skin_tone_filter_list:(0,c.ZP)(e,E))||[],{format:Z="",args:M}=L||{},{query:N=""}=M||{},B=a=>{let n=A?a:(0,d.Z)(a,e);if(N){T({element:K,view_type:3,view_parameter:i,event_type:101,component:R,aux_data:{entered_query:N,filter_value:n,story_type:j}});let e=(0,g.Z)({query:N,rs:m.i.TYPED||"",scope:"pins",filters:n});I.push(e)}};return(0,x.jsxs)(n.Fragment,{children:[w?(0,x.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:r.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:[Z&&(0,x.jsx)(t.kC,{gap:{row:2,column:2},maxWidth:"100%",wrap:!0,children:(0,x.jsx)(t.X6,{accessibilityLevel:2,align:"start",id:"inclusive-filters-heading",size:"400",children:Z})}),(0,x.jsx)(t.kC,{gap:{row:2,column:2},justifyContent:"center",wrap:!0,children:D&&"skin_tone"===e?D.map(({alt_text:e="",term:a},i)=>(0,x.jsx)(t.Fm,{accessibilityLabel:e,color:f.W[i],onClick:()=>B(a),selected:!1,size:"lg",text:e},a)):N&&D.map(({term:e})=>(0,x.jsx)(S,{children:(0,x.jsx)(y.Z,{filterId:Number((0,d.Z)(e)),filterOption:null,onClickApplyFilters:()=>B(e),query:N,viewParameter:i,viewType:3})},e))})]}):(0,x.jsx)(t.xu,{margin:F?void 0:7,marginBottom:F?7:void 0,marginTop:F?2:void 0,children:(0,x.jsxs)(t.kC,{alignItems:"center",direction:"column",gap:{row:0,column:3},children:[(0,x.jsxs)(t.xu,{alignItems:"center",display:"flex",marginStart:8,children:[Z&&(0,x.jsx)(t.xv,{overflow:"normal",weight:"bold",children:Z}),"hair_pattern"===e&&(0,x.jsx)(t.xu,{marginStart:1,children:(0,x.jsx)(t.hU,{accessibilityLabel:P._('Learn more', 'HairPatternFilters.infoIconButton', 'Icon button to expand the educational component about hair pattern filters'),"data-test-id":e,icon:"info-circle",iconColor:"darkGray",onClick:()=>b(!0),padding:1})})]}),(0,x.jsx)(t.kC,{flex:"none",gap:{row:1,column:0},children:D&&"skin_tone"===e?D.map(({alt_text:e="",term:a},i)=>(0,x.jsx)(S,{children:(0,x.jsx)(t.Fm,{accessibilityLabel:e,color:f.W[i],onClick:()=>B(a),selected:!1,size:"lg",text:e},a)},a)):N&&D.map(({term:e})=>(0,x.jsx)(S,{children:(0,x.jsx)(y.Z,{filterId:Number((0,d.Z)(e)),filterOption:null,onClickApplyFilters:()=>B(e),query:N,viewParameter:i,viewType:3})},e))})]})}),v&&(0,x.jsx)(p.Z,{children:(0,x.jsx)(k,{onDismiss:()=>b(!1)})})]})}},236739:function(e,a,i){i.d(a,{Z:()=>h});var n=i(667294),l=i(633301),t=i(883119),r=i(361004),s=i(138596),o=i(59111),d=i(133546),c=i(279394),u=i(380575),p=i(785893);let g=e=>e?"200":r.n;function m({isDarkMode:e,onPress:a,testID:i,label:n,peekCloseupEnabled:l,withShadow:s}){return(0,p.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":i,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(t.iP,{fullWidth:!1,onTap:a,children:(0,p.jsxs)(t.xv,{size:l?"200":r.n,weight:"bold",children:["...",n]})})]})}function h({children:e,isDarkMode:a,descriptionDir:i}){let r=(0,n.useRef)(null),[h,_]=(0,n.useState)(0),[y,f]=(0,n.useState)(0),[x,k]=(0,n.useState)(!0),[S,P]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[T,I]=(0,n.useState)(!1),w=(0,s.ZP)(),{closeupWithinMasonryEnabled:F,isCloseupRelatedPinsAboveTheFoldEnabled:C,peekCloseupEnabled:A}=(0,d.x4)(),j=C?1:3,R=C?600:0;(0,n.useEffect)(()=>{if(r.current&&x){let e;let a=(0,c.xW)(r.current),i=(e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;P(()=>!!i&&(r.current&&(r.current.style.webkitLineClamp="unset",f(r.current?.scrollHeight??0),r.current.style.webkitLineClamp=j.toString()),!0)),k(!1),I(a>=j&&i),_(r.current?.clientHeight)}},[x,k,j,h,y,S]);let K=`${h}px`,E=`${h+y}px`,L=`
    .TruncatedDescription-enter{
      max-height: ${K};
    }
    .TruncatedDescription-enter-active {
      max-height: ${E};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${E};
    }
    .TruncatedDescription-exit {
      max-height: ${E};
    }
    .TruncatedDescription-exit-active {
      max-height: ${K};
      transition: max-height ${R}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${K};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,D=e=>b(e),Z=e=>{let i=e?w._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'):w._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation');return(0,p.jsx)(m,{isDarkMode:a,label:i,onPress:()=>D(e),peekCloseupEnabled:A,testID:`${e?"more":"less"}-description-container`,withShadow:e&&C})},M=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:L}),(0,p.jsx)(l.Z,{classNames:"TruncatedDescription",in:v,nodeRef:M,onEnter:()=>P(!1),onExited:()=>P(!0),timeout:R,children:(0,p.jsx)(t.xu,{ref:M,"data-test-id":"truncated-description",flex:"grow",overflow:C?"hidden":"visible",position:"relative",width:F?"100%":void 0,children:(0,p.jsx)(u.Z,{dir:i,children:(0,p.jsxs)(t.xv,{ref:r,align:"ltr"===i?"forceLeft":void 0,lineClamp:x||S?j:0,size:g(A),children:[e,T?(0,p.jsxs)(n.Fragment,{children:[v&&Z(!1),(0,p.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:C?"opacity 200ms ease-in-out":void 0,visibility:S?"visible":"hidden"}},opacity:S?1:0,position:"absolute",right:!0,children:Z(!0)})]}):null]})})})})]})}},879029:function(e,a,i){i.d(a,{Z:()=>n});function n(e){return!!e&&e?.replaceAll(" ","").length>0}},797484:function(e,a,i){i.d(a,{Z:()=>r});var n=i(785893);let l={cursor:"auto"},t=e=>{e.stopPropagation()};function r({className:e,children:a}){return(0,n.jsx)("div",{className:e,onClick:t,role:"presentation",style:l,children:a})}},239292:function(e,a,i){i.d(a,{k:()=>S,Z:()=>v});var n,l=i(667294);i(422578);var t=i(883119),r=i(120034),s=i(788730),o=i(138596),d=i(180483),c=i(785893);let u=(e,a)=>(0,d.Z)(a._('Visit {{domain}}', 'Accessible label for clickthrough link button', 'Accessible label for clickthrough link button'),{domain:e}),p=({domain:e,fontSize:a="200",fullWidth:i=!0,textNode:n})=>{let l=u(e,(0,o.ZP)());return(0,c.jsx)(t.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:i?"100%":void 0,children:(0,c.jsx)(t.st,{children:(0,c.jsxs)(t.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,c.jsx)(t.xu,{paddingX:1,children:(0,c.jsx)(t.JO,{accessibilityLabel:l,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,c.jsx)(t.xu,{paddingX:1,children:n||(0,c.jsx)(t.xv,{inline:!0,size:a,weight:"bold",children:(0,s.ff)(e)})})]})})})};var g=i(521367),m=i(907022),h=i(171556),_=i(680391),y=i(632492),f=i(386385);let x=({children:e,clientTrackingParams:a,isPulsarDisplayed:i,onCompleteClick:n,zIndex:r,onClick:s,to:o,pin:d})=>{let u=(0,l.useRef)(null),p=(0,_.Z)({href:{pathname:o??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}});return(0,c.jsx)(g._7,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:u.current,isHidden:!i,onCompleteClick:n,zIndex:r,children:(0,c.jsx)(t.Tg,{ref:u,fullWidth:!1,href:o??"",onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),s?.(e),p({event:e})},rel:"nofollow",children:(0,c.jsx)("div",{className:"linkModuleActionButton",children:e})})})},k=({actionBarHeight:e,children:a,setPulsarVisibility:i})=>(0,c.jsx)(h.Z,{onVisibilityChange:e=>{i(e.slice(-1)[0].isIntersecting)},options:{rootMargin:`-${e+f.hu}px 0px 0px 0px`,threshold:.75},children:e=>(0,c.jsx)(t.xu,{ref:e,children:a})}),S=e=>{let a=(0,o.ZP)(),{clientTrackingParams:l,children:s,isPulsarDisplayed:d,onClickThrough:u,pinKey:g,showDomainInLink:h,zIndex:_}=e,y=(0,m.Z)(void 0!==n?n:n=i(222769),g);if(!(y.link&&!y.link.startsWith("https://i.pinimg.com")))return null;let f=a._('Visit', 'Default pin link button text', 'Default pin link button text');!y.linkDomain||y.richMetadata?.recipe?.fromAggregatedData?f=y.link&&!y.link.startsWith("https://i.pinimg.com")?a._('Visit', 'Generalized pin link button text', 'Generalized pin link button text'):a._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'):y.richMetadata?.products&&y.richMetadata.products.length>0?f=a._('Visit', 'Buyable pin link button text', 'Buyable pin link button text'):y.richMetadata?.tutorial?.name?f=a._('Visit', 'Make pin link button text', 'Make pin link button text'):y.richMetadata?.recipe?.name?f=a._('Make it', 'Recipe pin link button text', 'Recipe pin link button text'):y.richMetadata?.article?.name?f=a._('Read it', 'Article pin link button text', 'Article pin link button text'):y.link&&y.link.startsWith("https://i.pinimg.com")&&(f=a._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'));let{carouselLink:k,currentDomain:S}=(0,r.Z)({carouselData:y.carouselData&&{carouselSlots:y.carouselData.carouselSlots&&y.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:y.carouselData?.index},domain:y.domain});return(0,c.jsx)(x,{clientTrackingParams:l,isPulsarDisplayed:d,onClick:u,onCompleteClick:u,pin:y,to:k||y.link||y.imageSpec_orig?.url||"",zIndex:_,children:s||(h?(0,c.jsx)(p,{domain:S}):(0,c.jsx)(t.zx,{fullWidth:!0,size:"md",text:f}))})},P=({actionBarHeight:e,...a})=>{let[i,n]=(0,l.useState)(!0);return(0,c.jsx)(t.xu,{width:"100%",children:(0,c.jsx)(k,{actionBarHeight:e||0,setPulsarVisibility:n,children:(0,c.jsx)(t.xu,{display:"inlineBlock",children:(0,c.jsx)(S,{isPulsarDisplayed:i,zIndex:y.qW,...a})})})})},v=e=>(0,c.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(t.xu,{children:(0,c.jsx)(P,{...e})})})},101428:function(e,a,i){i.d(a,{Z:()=>_});var n,l=i(667294);i(167912);var t=i(883119),r=i(788730),s=i(120034),o=i(239292),d=i(361004),c=i(521367),u=i(907022),p=i(566431),g=i(133546),m=i(785893);let h=void 0!==n?n:n=i(675112);function _({actionBarHeight:e,isStoryPin:a,legoLinkClickthroughAnchorRef:i,onClickThrough:n,pinKey:_}){let y=(0,l.useRef)(null),{closeupWithinMasonryEnabled:f,peekCloseupEnabled:x,clientTrackingParams:k}=(0,g.x4)(),S=(0,u.Z)(h,_),{currentDomain:P}=(0,s.Z)({carouselData:S.carouselData&&{carouselSlots:S.carouselData.carouselSlots&&S.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:S.carouselData?.index},domain:S.domain});return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsxs)(t.xu,{display:"inlineBlock",marginTop:!f&&(0,p._S)(P)?x?2:6:0,position:"relative",width:"100%",children:[(0,m.jsx)(o.Z,{actionBarHeight:e,clientTrackingParams:k,onClickThrough:n,pinKey:S,showDomainInLink:!0,children:(0,m.jsx)(t.xu,{ref:y,dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,m.jsx)(t.xv,{size:x?"200":d.n,weight:f?"bold":"normal",children:(0,r.ff)(P)})})}),a&&(0,m.jsx)(c.Qp,{anchor:y.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,showCaret:!0,textAlign:"center",textWeight:"normal"})]}),(0,m.jsx)(t.xu,{ref:i,marginEnd:f?0:-7,marginStart:f?0:6,width:4})]})}},454435:function(e,a,i){i.d(a,{Z:()=>y});var n=i(667294),l=i(193371),t=i(230201),r=i(891851),s=i(830031),o=i(661376),d=i(575647),c=i(417394),u=i(739405),p=i(462867),g=i(884541);let m=({segment:e})=>g.GL.get(e)??new Set,h=({segment:e})=>{let a=m({segment:e});return new Set([...g.hO].filter(e=>!a.has(e)))},_=()=>{let e=(0,u.HG)(),{isAuth:a}=(0,p.Z)(),i=a&&e,n=(0,s.E)();return n?e=>{"DEFAULT"!==e&&(n.setSegment(e),(0,c.Lg)(e)),i&&h({segment:e}).forEach(e=>{n.removeConstraint(e),(0,c.l7)(e)})}:null};function y(e){let{logContextEvent:a}=(0,t.v)(),i=(0,s.E)(),c=_(),u=(0,o.Z)({name:"PinResource",options:(0,l.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),p=u.data,g=(0,d.Z)(null!=p?{type:"deprecated",data:p}:null);return(0,n.useEffect)(()=>{if(p){let e=(0,r.Z)({hasPin:!!p,hasPinRichMetadata:!!p.rich_metadata,hasPinRichMetadataProducts:!!p.rich_metadata?.products,hasPinRichMetadataArticle:!!p.rich_metadata?.article,hasPinRichMetadataRecipe:!!p.rich_metadata?.recipe,hasPinStoryPinData:!!p.story_pin_data});a({event_type:7408,view_parameter:e,object_id_str:p.id,view_type:3,view_data:{pin_id:p.id,closeup_rich_types:p.shopping_flags||[]},aux_data:{...g()}}),p.aggregated_pin_data&&(p.aggregated_pin_data.is_shop_the_look||p.aggregated_pin_data.is_stela)&&a({event_type:7579,view_parameter:e,object_id_str:p.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:p.aggregated_pin_data.is_shop_the_look,pin_is_stela:p.aggregated_pin_data.is_stela})}}),i&&i.markConstraintComplete("resource"),c&&c(p.is_eligible_for_pdp?p.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":p.story_pin_data_id?"story_pin":"DEFAULT")}},[p,g]),e.children({pinResource:u})}},165833:function(e,a,i){i.d(a,{Z:()=>n});function n(e,a){switch(a.type){case"gallerySelect":return{shopping:a.select};case"pinLoaded":{let i=e.myTry?{}:{myTry:{isDoneByMe:a.pin.done_by_me}};return{pin:a.pin,...i,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:a.isDoneByMe}};default:throw"impossible"}}},131779:function(e,a,i){i.d(a,{C:()=>m});var n=i(667294),l=i(883119),t=i(138596),r=i(15392),s=i(133546),o=i(632492),d=i(386385),c=i(785893);function u(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let p=d.hu+r.Ie+76;class g extends n.Component{constructor(...e){super(...e),u(this,"state",{showRelatedPinsUpsellFlyout:!1}),u(this,"componentDidMount",()=>{this.handleDidShortClickThrough(),window.addEventListener("scroll",this.hideFlyout)}),u(this,"componentWillUnmount",()=>{window.removeEventListener("scroll",this.hideFlyout)}),u(this,"hideFlyout",()=>{this.setState({showRelatedPinsUpsellFlyout:!1})}),u(this,"handleDidShortClickThrough",()=>{this.scrollToAnchor(),window.setTimeout(()=>{this.setState({showRelatedPinsUpsellFlyout:!0})},100)}),u(this,"scrollToAnchor",()=>{this.anchorRef&&(this.anchorRef.scrollIntoView(!0),window.scrollBy(0,-p))}),u(this,"setAnchorRef",e=>{this.anchorRef=e}),u(this,"render",()=>!this.props.closeupWithinMasonryEnabled&&(0,c.jsx)(l.xu,{ref:this.setAnchorRef,"data-test-id":"short-clickthrough-upsell",children:this.state.showRelatedPinsUpsellFlyout&&(0,c.jsx)(l.xu,{column:12,position:"absolute",top:!0,zIndex:new l.Ry(o.lJ),children:(0,c.jsx)(l.Li,{anchor:this.anchorRef,idealDirection:"up",message:this.props.i18n._('Not into this Pin? See more ideas below', 'Shows in a flyout message to upsell related pins to users', 'Shows in a flyout message to upsell related pins to users'),onDismiss:this.hideFlyout})})}))}}let m=function(e){let a=(0,t.ZP)(),{closeupWithinMasonryEnabled:i}=(0,s.x4)();return(0,c.jsx)(g,{...e,closeupWithinMasonryEnabled:i,i18n:a})}},216762:function(e,a,i){i.d(a,{F:()=>j,Z:()=>K});var n,l,t,r,s=i(667294);i(167912);var o=i(883119),d=i(788730),c=i(912046),u=i(271930),p=i(907022),g=i(495506),m=i(79271),h=i(613567),_=i(661376),y=i(739405),f=i(986523),x=i(462867),k=i(669787),S=i(234278),P=i(15392),v=i(133546),b=i(194801),T=i(194442),I=i(785893);let w=(0,T.Z)(()=>Promise.resolve().then(i.bind(i,41516)),void 0,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),F=void 0!==n?n:n=i(575629),C=void 0!==l?l:l=i(630590),A=void 0!==t?t:t=i(158388);function j(e){let a=(0,x.Z)(),i=a&&a.isAuth,n=(0,y.HG)(),l=(0,k.Z)(),t=(0,g.Z)({strategy:l?"GRAPHQL":"LEGACY",query:A,variables:{pinId:e,isDesktop:n},options:{fetchPolicy:"network-only"},useGetLegacyData:({pinId:e})=>{let a=i?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,_.Z)({name:"ApiResource",noCache:!0,options:{url:a,data:{fields:(0,b.Z)()}}})}}),r=t?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?t.v3GetStelaShoppingCarouselQuery:null,s=(0,p.Z)(C,r);return s?s.data:null}let R=({children:e,id:a,isCloseupRelatedPinsAboveTheFoldEnabled:n,storyRef:l,viewParameter:t})=>{let s=void 0!==r?r:r=i(928320),{contentIds:d,displayOptions:c,slot:u,storyId:g,storyType:h,trackingParams:_}=(0,p.Z)(s,l),y=c?.contentDisplay?.componentType,f=(0,m.Z)({clientTrackingParams:_,componentType:y,contextLogData:{story_id:g,story_type:h,content_ids:d},impressionType:"Story",loggingId:g,slotIndex:u||0,viewParameter:t,viewType:3});return(0,I.jsx)(o.xu,{ref:f,marginTop:n?4:8,children:e},a)};function K({moduleWidth:e,pinKey:a,trafficSource:i,viewParameter:n}){let{checkExperiment:l}=(0,h.F)(),{isAuth:t}=(0,x.Z)(),r=(0,k.Z)(),{closeupWithinMasonryEnabled:g,isCloseupRelatedPinsAboveTheFoldEnabled:m,peekCloseupEnabled:_,viewportSize:y}=(0,v.x4)(),b=(0,p.Z)(F,a),T=(0,s.useRef)(null),[C,A]=(0,s.useState)(e),K=j(b.entityId),E=K?.[0];((0,f.Z)()?s.useEffect:s.useLayoutEffect)(()=>{T.current&&A(T.current?.offsetWidth)},[K]);let L=r?null:function(e){let a=e?(0,u.G5)(e):null;return a&&"LegacyData"===a.kind?a.singularLegacyData:null}(E),D=l("web_stl_landing_page",{dangerouslySkipActivation:!0}).anyEnabled,Z=(0,c.Z)({pinKey:b,requestParams:E?.action?.requestParams??"",surfaceType:"stl",topLevelTrafficSource:i}).url,M=()=>{l("web_stl_landing_page")};if(!K||K&&0===K.length)return null;let N=_&&"lg"===y?void 0:4,B=(()=>{if(!g&&!(_&&"lg"===y))return{};let e={paddingLeft:`${d.Gd}px`,paddingBottom:`${d.Gd}px`};return g?{...e,border:d.tc}:e})(),O=_&&"lg"===y,z=t?P.g9:0;return(0,I.jsx)(s.Fragment,{children:(0,I.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:e,children:(0,I.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:B},rounding:g?6:0,width:e,children:!!K&&K.length>0&&K.map(e=>{if(null==e)return null;let a=e.displayOptions?.displayViewState??void 0,{action:i,containerType:l,storyId:t}=e;if(139!==l)return null;{let l=e.title?.format||"",r=D&&i?.url?i.url:Z;return(0,I.jsx)(R,{id:t,isCloseupRelatedPinsAboveTheFoldEnabled:m,storyRef:e,viewParameter:n,children:(0,I.jsx)(S.Z,{collapseByDefault:!1,displayViewState:m?null:a,forceTappableHeader:!m,headerPaddingRight:z,heading:l,surface:"ShoppingGridSmallCarousel",children:(0,I.jsx)(o.xu,{ref:T,marginTop:N,children:(0,I.jsx)(w,{addContentRight:(0,I.jsx)(o.xu,{width:P.g9}),allowHover:!0,contentVisibleItemCountOverride:g&&"number"==typeof C?Math.floor((C+8)/175):void 0,dangerouslySetActionUrl:r,disableHeader:!0,fadeCarouselEdges:g,handleActionButtonClick:M,itemWidth:g?175:void 0,itemWidthHeightRatio:1,productTagParentPinId:b.entityId,saveButtonOptions:{type:"classic"},story:L,storyKey:e,styleOverrides:{buttonSizeOverride:"lg",carouselContainerMarginBottom:g?0:void 0,flexDirection:O?"column":"row",gutterWidth:m?d.Gd:void 0,justifyContent:"start",navigationFabSize:32,showPagination:g},surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n,width:C})})})},t)}})})})})}},399312:function(e,a,i){i.d(a,{Z:()=>r});var n=i(575820);let l=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,a){let i=["pin"],r=[],s=1,o="unknown",d="unknown",c=!0;for(let a=e.length-1;a>0;a-=1){let l=function(e,a){if(a<=0)return"unknown";let i=e[a-1],l=i?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(i?.location?.search).surfaceType??"");return l&&"/pin/:id/visual-search"===l&&r?"shop_feed":l?t[l]||"unknown":"feed_home"}(e,a);i.splice(0,0,l),c&&("pin"===(o=l)?s+=1:c=!1)}for(let a=e.length-2;a>=0;a-=1){let i=(e[a]?.location?.pathname||"").match(l);if(i&&2===i.length)r.splice(0,0,i[1].split("/")[0]);else break}return 1===i.length?(d="deep_linking",o="deep_linking"):(d=i[i.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||a||(d="seo_unauth"),"seo_auth"!==o||a||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},193371:function(e,a,i){i.d(a,{Z:()=>n});let n=(e,a,i)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:i?i.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},945624:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(788730),t=i(216762),r=i(64627),s=i(133546);function o(e,a){let i=(0,t.F)(e),{closeupWithinMasonryEnabled:o}=(0,s.x4)(),d=(a.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,r.HM)(e?.story_type)),c=(0,n.useMemo)(()=>({...l.ne}),[]),u=(0,n.useMemo)(()=>({...l.tV}),[]),p=(0,n.useMemo)(()=>({...l.MB}),[]),g=[c];return(i&&i.length>0&&g.push(u),d&&g.push(p),o)?{closeupMasonryModules:g,skinToneModule:d}:{closeupMasonryModules:[],skinToneModule:void 0}}},110261:function(e,a,i){i.d(a,{Z:()=>s});var n=i(663),l=i(296339),t=i(76849);let r=e=>{let a={...e.pin,...e.pinResource.data},i=(0,n.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,hideBackButton:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:a,pinId:e.pinId,quickPromoteModalTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!a.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:i&&{...i,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:(0,t.Yf)(a.images?.["236x"])},v1DeprecationModalDismissed:!1}};function s(e){let{pin:a,pinId:i,pinResource:n}=e,{getMainPinImage:t}=(0,l.Z)({pinKey:{type:"deprecated",data:a}});return r({pin:a,pinId:i,pinResource:n,mainImage:t()})}},195658:function(e,a,i){i.d(a,{Z:()=>d}),i(167912);var n,l=i(907022),t=i(613567),r=i(739405),s=i(462867);let o=void 0!==n?n:n=i(932202);function d({pinKey:e}){let{checkExperiment:a}=(0,t.F)(),i=(0,r.HG)(),n=(0,l.Z)(o,e),d=(0,s.Z)();if(!i||!d.isAuth)return{shouldFetchSLURPFields:!1,isInCloseupShoppingRefinementsExp:!1};let c=a("web_closeup_shopping_refinements_auth",{dangerouslySkipActivation:!0}).group;return{shouldFetchSLURPFields:!!c,isInCloseupShoppingRefinementsExp:!0===n.isEligibleForCloseupOneBarRefinements&&!1===n.isPromoted&&"enabled"===c}}},552871:function(e,a,i){i.d(a,{Z:()=>s});var n=i(613567),l=i(739405);let t={employees:"rgba(255, 255, 255, 0.9)",enabled_white_blur:"rgba(255, 255, 255, 0.9)",enabled_black_blur:"rgba(0, 0, 0, 0.85)",enabled_white_solid:"rgba(255, 255, 255, 1)"},r={employees:"blur(4px)",enabled_white_blur:"blur(4px)",enabled_black_blur:"blur(4px)"};function s(){let e=(0,l.HG)(),{checkExperiment:a}=(0,n.F)(),{anyEnabled:i,group:s}=a("closeup_dweb_media_veiwer_background");if(!(e&&i))return{backdropFilter:"",backgroundColor:"rgba(0, 0, 0, 1)",isDarkModeBackground:!0,isBlurredBackground:!1};let o=t[s]||"rgba(0, 0, 0, 1)";return{backdropFilter:r[s]||"",backgroundColor:o,isDarkModeBackground:"enabled_black_blur"===s||"control"===s,isBlurredBackground:"enabled_white_blur"===s||"enabled_black_blur"===s}}},877733:function(e,a,i){i.d(a,{Z:()=>l});var n=i(721956);let l=(0,i(521367).RL)(12,(e,a)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:a.didLongClickThrough||!1,did_pin_clickthrough:a.didPinClickThrough||!1,did_repin:a.didRepin||!1,is_own_or_group_pin:a.is_own_or_group_pin||!1,login_page_type:a.loginPageType||"unknown",scroll_to_threshold:a.scrollToThreshold,pin_image_signature:a.pin_image_signature,is_creator_card_shown:!!(0,n.nU)({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}))},361004:function(e,a,i){i.d(a,{n:()=>n});let n="300"},483306:function(e,a,i){i.d(a,{Z:()=>d}),i(167912);var n,l=i(230201),t=i(907022),r=i(566431),s=i(575647);let o=void 0!==n?n:n=i(45229),d=function({clientTrackingParams:e,pinKey:a,pinId:i,viewParameter:n,trafficSource:d}){let{logContextEvent:c}=(0,l.v)(),u=(0,t.Z)(o,a),p=(0,s.Z)(u);return()=>{let a=p();c({event_type:12,object_id_str:i,view_type:3,component:85,view_parameter:n,clientTrackingParams:e,aux_data:{...a}}),c({event_type:8948,clientTrackingParams:e,view_type:3,view_parameter:n,component:85,object_id_str:i,aux_data:{click_type:"clickthrough",closeup_navigation_type:d&&(0,r.sV)(d)?"deeplink":"click",...a}})}}},671121:function(e,a,i){i.d(a,{Z:()=>l});var n=i(27399);async function l(e,a){let i=async()=>{let e={name:a._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:l}}=await i(),t=async a=>n.Z.create("RepinResource",{board_id:a,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(l.id),l}},255508:function(e,a,i){i.d(a,{Z:()=>b});var n=i(667294),l=i(883119),t=i(230201),r=i(138596),s=i(830031),o=i(281846),d=i(234278),c=i(133546),u=i(276469),p=i(785893);let g=e=>0===e?0:2,m=({children:e,dangerouslySetInlineStyle:a,marginTop:i})=>(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:a,"data-test-id":"structured-description",marginTop:i,children:e}),h=({content:e,order:a,type:i})=>{if(!e)return null;let n=i===u.X.HEADER,t=[u.X.HEADER,u.X.BOLD].includes(i),r=a>0&&n?4:g(a);return(0,p.jsx)(m,{marginTop:r,children:(0,p.jsx)(l.xv,{size:"200",weight:t?"bold":"normal",children:e})})},_=({content:e,order:a})=>e?(0,p.jsx)(m,{marginTop:g(a),children:e}):null,y=({content:e,order:a})=>Array.isArray(e)&&0!==e.length?(0,p.jsx)(m,{marginTop:g(a),children:e.map(e=>(0,p.jsxs)(l.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,p.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:""}),(0,p.jsx)(l.xu,{marginStart:1,children:(0,p.jsx)(l.xv,{size:"200",children:e})})]},e))}):null,f=({accessibilityLabel:e,content:a,order:i})=>a&&"object"==typeof a?(0,p.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:g(i),children:(0,p.jsx)(l.iA,{accessibilityLabel:e,children:(0,p.jsx)(l.iA.Body,{children:Object.entries(a).map(([e,a],i)=>(0,p.jsxs)(l.iA.Row,{children:[(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",weight:"bold",children:e})}),(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",children:String(a)})})]},i))})})}):null,x=({accessibilityLabel:e,content:a,order:i})=>{if(!Array.isArray(a)||a.length<2)return null;let n=a[0],t=a.slice(1);return(0,p.jsx)(m,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:g(i),children:(0,p.jsxs)(l.iA,{accessibilityLabel:e,children:[(0,p.jsx)(l.iA.Header,{children:(0,p.jsx)(l.iA.Row,{children:n.map((e,a)=>(0,p.jsx)(l.iA.HeaderCell,{children:(0,p.jsx)(l.xv,{size:"100",weight:"bold",children:e})},a))})}),(0,p.jsx)(l.iA.Body,{children:t.map((e,a)=>(0,p.jsx)(l.iA.Row,{children:e.map((e,a)=>(0,p.jsx)(l.iA.Cell,{children:(0,p.jsx)(l.xv,{size:"100",children:e})},a))},a))})]})})},k=e=>{let a=(0,r.ZP)();switch(e.type){case u.X.POINTS:return(0,p.jsx)(y,{...e});case u.X.SPECS:return(0,p.jsx)(f,{accessibilityLabel:a._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case u.X.TABLE:return(0,p.jsx)(x,{accessibilityLabel:a._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case u.X.ELEMENT:return(0,p.jsx)(_,{...e});default:return(0,p.jsx)(h,{...e})}};function S({descriptions:e,onLoad:a}){return((0,n.useEffect)(()=>{"function"==typeof a&&a()},[a]),0===e.length)?null:e.map(({content:e,type:a},i)=>(0,p.jsx)(k,{content:e,order:i,type:a},i))}let P=({onOpen:e,onToggle:a,shouldShowComments:i,structuredDescription:t,type:g})=>{let m=(0,r.ZP)(),h=(0,s.E)(),_=(0,n.useCallback)(()=>{h&&h.markConstraintComplete("description")},[h]),y=(0,n.useRef)(null),[f,x]=(0,n.useState)(!1),{isCloseupRelatedPinsAboveTheFoldEnabled:k}=(0,c.x4)();(0,n.useEffect)(()=>{let e;(y.current&&((e=y.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||t.length>1)&&x(!0)},[y,t]);let P="expandable"===g&&t[0].type===u.X.PARAGRAPH,v=P?(0,p.jsx)(l.xv,{ref:y,lineClamp:1,size:"200",children:t[0].content}):null,b=m._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return k||f||!v?k?(0,p.jsx)(d.Z,{heading:b,children:(0,p.jsx)(l.xu,{paddingY:P?0:1,children:(0,p.jsx)(S,{descriptions:t,onLoad:_})})}):(0,p.jsx)(o.Z,{arrowDirection:"expandable"===g?"arrow-down":"arrow-forward",content:(0,p.jsx)(l.xu,{paddingY:P?0:1,children:(0,p.jsx)(S,{descriptions:t,onLoad:_})}),header:b,onOpen:e,onToggle:a,previewContent:v,previewContentHeight:P?20:0,shouldShowComments:i,shouldToggleOnBodyTap:!0}):(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(l.kC,{direction:"column",children:[(0,p.jsx)(l.xu,{paddingY:1,children:(0,p.jsx)(l.xv,{size:"300",weight:"bold",children:b})}),(0,p.jsx)(l.xu,{marginBottom:1,marginEnd:6,children:v})]})})},v=({isOpen:e,onOpen:a,structuredDescription:i})=>{let[t,o]=(0,n.useState)(!1),d=(0,r.ZP)(),u=(0,n.useRef)(null),g=(0,s.E)(),{closeupWithinMasonryEnabled:m}=(0,c.x4)(),h=(0,n.useCallback)(()=>{g&&u.current&&g.markConstraintComplete("description")},[g]),_=t&&!e,y=e?d._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):d._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,n.useLayoutEffect)(()=>{!(!u.current||Number.isNaN(u.current.offsetHeight)||150>Number(u.current.offsetHeight))&&(t||o(!0))},[t,u.current?.offsetHeight]),(0,p.jsxs)(l.xu,{"data-test-id":"product-description-preview",display:u.current?"block":"visuallyHidden",paddingY:1,children:[(0,p.jsx)(l.xv,{size:m?"400":"300",weight:"bold",children:d._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,p.jsxs)(l.xu,{marginBottom:_?0:2,marginTop:2,position:"relative",children:[(0,p.jsx)(l.xu,{ref:u,height:_?150:"auto",overflow:_?"hidden":"visible",children:(0,p.jsx)(S,{descriptions:i,onLoad:h})}),t&&(0,p.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),t&&(0,p.jsx)(l.iP,{onTap:a,children:(0,p.jsx)(l.xv,{size:"200",weight:"bold",children:y})})]})};function b(e){let{commerceData:a,structuredDescription:i,type:l="accordion",viewParameter:r}=e,{setIsProductDetailsExpanded:s}=(0,c.x4)(),{logContextEvent:o}=(0,t.v)(),[d,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:r,aux_data:{...a}})},[]);let g=()=>{u(!d),o({event_type:101,component:13597,view_type:3,element:d?13278:13277,view_parameter:r,aux_data:{...a}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:r,aux_data:{...a}})};return 0===i.length?null:"preview"===l?(0,p.jsx)(v,{...e,isOpen:d,onOpen:g}):(0,p.jsx)(P,{...e,onOpen:g,onToggle:e=>{s&&s(e)}})}},369756:function(e,a,i){i.d(a,{Z:()=>o});var n=i(883119),l=i(724903),t=i(138596),r=i(133546),s=i(785893);function o({colorOverride:e,isSoldOut:a,isStale:i,productDetails:o,showSalesPrice:d,type:c}){let{isCloseupRelatedPinsAboveTheFoldEnabled:u,peekCloseupEnabled:p}=(0,r.x4)(),{maxPrice:g,minPrice:m,price:h,standardPrice:_}=o,y=!!h&&!!_&&h!==_,f="100";"heading"!==c||p?"mobileHeading"===c?f="300":("cutout"===c||p)&&(f="200"):f="400";let x="bold";u&&(x="normal");let k=(0,t.ZP)(),S=k._('See price on site', 'product.price.stale', 'Product is stale'),P=k._('Sold out', 'product.price.soldOut', 'Product is sold out');return i?(0,s.jsx)(n.xv,{color:"subtle",size:f,weight:x,children:S}):(0,s.jsxs)(n.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[a&&(0,s.jsx)(n.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,s.jsx)(n.xv,{color:"subtle",size:f,weight:x,children:P})}),(!!h||!!m||!!g)&&(0,s.jsx)(n.xv,{color:e||(y?"shopping":"default"),size:f,weight:x,children:(0,s.jsx)("span",{children:(0,l.Z)({maxPrice:g,minPrice:m,price:h})})}),y&&!d&&(0,s.jsx)(n.xu,{marginStart:1,children:(0,s.jsx)(n.xv,{color:"cutout"===c?"dark":"subtle",size:f,weight:["heading","mobileHeading"].includes(c)?"normal":"bold",children:(0,s.jsx)("span",{style:{textDecoration:"line-through"},children:_})})})]})}},228495:function(e,a,i){i.d(a,{Z:()=>d});var n=i(883119),l=i(477252),t=i(133546),r=i(594763),s=i(674774),o=i(785893);function d({count:e,countType:a,countFormat:i,hideSeparationDot:d,bracket:c,ratingValue:u,unauthPdp:p,shippingInfo:g}){let{closeupWithinMasonryEnabled:m,isCloseupRelatedPinsAboveTheFoldEnabled:h,peekCloseupEnabled:_}=(0,t.x4)();return(0,o.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:m?4:void 0,rowGap:8}},display:"flex",marginTop:h?0:1,wrap:!0,children:[(0,o.jsx)(r.Z,{bracket:c,count:e,countFormat:i,countType:a,rating:u,textSize:_?"200":"300",unauthPdp:p}),(0,o.jsx)(n.xu,{marginStart:!m&&(0,s.Z)({count:e,rating:u})&&d?2:0,children:(0,o.jsx)(l.Z,{customStyles:{color:"default",size:_?"200":"300"},freeShippingPrice:g?.freeShippingPrice,freeShippingValue:g?.freeShippingValue,showPrevDot:(0,s.Z)({count:e,rating:u})&&!d})})]})}},196748:function(e,a,i){i.d(a,{g:()=>b,Z:()=>w});var n=i(667294),l=i(883119),t=i(758724),r=i(552871),s=i(581722),o=i(230201),d=i(138596),c=i(293646),u=i(515158),p=i(72034),g=i(785893);function m({currentlySelectedIndex:e,index:a,onSelect:i,pinId:r,isDarkMode:m=!1,isSelectOnHover:h,size:_,thumbnail:y,mediaType:f="image",viewParameter:x}){let{logContextEvent:k}=(0,o.v)(),S=(0,s.I0)(),P=(0,d.ZP)(),[v,b]=(0,n.useState)(!1),{isCloseupMediaViewerEnabled:T}=(0,t.Z)({isShufflePin:!1}),I=(0,n.useCallback)(e=>{"video"===f&&e&&!v&&(b(!0),k({event_type:13,component:13596,element:12831,view_type:3,view_parameter:x}))},[k,f,x,v]),w=(0,c.Z)({onVisibilityChanged:I}),F=()=>{S((0,p.yR)(r,a)),i(a)},C=e===a||!e&&0===a;return(0,g.jsx)(l.xu,{ref:w,marginBottom:4,children:(0,g.jsx)(l.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),h&&F()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),h||F()},rounding:T?4:void 0,children:(0,g.jsx)(u.Z,{isDarkMode:m,outlined:C,rounding:T?4:void 0,children:(0,g.jsxs)(l.xu,{position:"relative",children:[(0,g.jsx)(l.zd,{height:_,wash:!0,width:_,children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}),"video"===f&&(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.JO,{accessibilityLabel:P._('Secondary Carousel Video Icon', 'secondaryCarousel.carouselItem.videoIndicatorIcon', 'accessibility label on secondary carousel item'),color:"light",icon:"play",size:20})})]})})})})}var h=i(774838);let _=()=>{};function y({direction:e,handleNavHoverToggle:a,leftHover:i,isDarkMode:n=!1,hasBlurredBackground:t=!1,onScroll:r,rightHover:s,shouldPadArrows:o,size:c="md"}){let u=(0,d.ZP)(),{isRTL:p}=(0,h.B)(),m=function({direction:e,isDarkMode:a,isRTL:i,leftHover:n,rightHover:l,shouldPadArrows:t,verticalSize:r,hasBlurredBackground:s=!1},o){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},c={color:a?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"54px",md:"124px"};return{up:{...c,backgroundImage:s?"":`linear-gradient(${a?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"arrow-up",label:o._('Up arrow', 'product.carousel.arrowUp', 'Label for up arrow button in closeup image carousel'),top:"0px",width:u[r]},down:{...c,backgroundImage:s?void 0:`linear-gradient(${a?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:o._('Down arrow', 'product.carousel.arrowDown', 'Label for down arrow button in closeup image carousel'),top:void 0,width:u[r]},left:{...d,color:t?"default":n?"default":"subtle",icon:i?"arrow-forward":"arrow-back",justifyContent:"start",label:o._('Left arrow', 'Label for left arrow button in search guides', 'Label for left arrow button in search guides'),left:"0px",right:void 0,width:i?"22px":"210px"},right:{...d,color:t?"default":l?"default":"subtle",icon:i?"arrow-back":"arrow-forward",justifyContent:"end",label:o._('Right arrow', 'Label for right arrow button in search guides', 'Label for right arrow button in search guides'),left:void 0,right:"0px",width:i?"22px":"210px"}}}({direction:e,isDarkMode:n,isRTL:p,leftHover:i,rightHover:s,shouldPadArrows:o,verticalSize:c,hasBlurredBackground:t},u);return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:m[e].top,bottom:m[e].bottom,left:m[e].left,right:m[e].right}},height:m[e].height,position:"absolute",children:(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:m[e].backgroundImage,marginTop:o?"25px":void 0}},display:"flex",height:"100%",justifyContent:m[e].justifyContent,width:m[e].width,children:(0,g.jsx)("button",{onClick:r,onMouseEnter:a?()=>a(e,!0):_,onMouseLeave:a?()=>a(e,!1):_,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:m[e].justifyContent,width:"50px",children:(0,g.jsx)(l.JO,{accessibilityLabel:m[e].label,color:m[e].color,icon:m[e].icon})})})})})}var f=i(59111),x=i(273675),k=i(829485),S=i(730448),P=i(133546),v=i(49254);let b=52,T={md:120,sm:52},I=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
`;function w({carouselSlots:e,commerceData:a={},isSelectOnHover:i,onImageSelect:s,pinId:d,selectedIndex:c,size:u,surfaceType:p,viewParameter:h}){let _;let{logContextEvent:b}=(0,o.v)(),{isCloseupMediaViewerEnabled:w}=(0,t.Z)({isShufflePin:!1}),[F,C]=(0,n.useState)(),[A,j]=(0,n.useState)(0),[R,K]=(0,n.useState)(),[E,L]=(0,n.useState)(),[D,Z]=(0,n.useState)(),[M,N]=(0,n.useState)(!1),[B,O]=(0,n.useState)(e.length>=4),[z,U]=(0,n.useState)(!1),H=(0,v.t)(),{closeupWithinMasonryEnabled:V}=(0,P.x4)(),{isDarkModeBackground:G,isBlurredBackground:W}=(0,r.Z)(),$=(0,n.useRef)(null),Y=(0,n.useRef)(null),q=T[u],X=w&&"media-viewer"===p&&G,Q=w&&"media-viewer"===p&&W;(0,n.useEffect)(()=>{b({event_type:120,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:d,...a}})},[]),(0,n.useEffect)(()=>{if(!F&&$.current){let e=$.current.getBoundingClientRect();j(Math.floor(e.top)),K(Math.floor(e.bottom)),Z(Math.floor(e.top)),L(Math.floor(e.bottom))}},[$.current,F]),(0,n.useEffect)(()=>{if($.current){let{height:e,top:a,bottom:i}=$.current.getBoundingClientRect();j(Math.floor(a)),K(Math.floor(i)),C(Math.floor(e))}},[e.length]),(0,n.useEffect)(()=>{!F&&$.current&&C(Math.floor($.current.getBoundingClientRect().height))},[$.current]);let J=8/(V?2:1);(0,n.useEffect)(()=>{A&&D&&E&&R&&e.length>=4&&(A<D?N(!0):N(!1),R>=490+H+J?O(!0):O(!1))},[A,R,D,E]);let ee=()=>{z||(U(!0),b({event_type:110,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:d,...a}}))},ea=(0,n.useRef)(ee);(0,n.useEffect)(()=>{ea.current=ee});let ei=Y.current;(0,n.useEffect)(()=>{let e=(0,S.Z)(()=>{if($.current){let e=$.current.getBoundingClientRect();j(Math.floor(e.top)),K(Math.floor(e.bottom)),ea.current()}},16);return ei?.addEventListener("scroll",e),()=>{ei?.removeEventListener("scroll",e)}},[ei]);let en=(e,i)=>{s&&(b({event_type:101,component:13596,element:"image"===i?11922:12831,view_type:3,view_parameter:h,aux_data:{...a}}),s(e))},el=e=>{0!==e&&(_&&_.cancel(),$.current&&Y.current&&((_=(0,k.Z)(Y.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{_=null}})).start(),ee()))};return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${J}px`}},overflow:"hidden",position:"relative",children:[(0,g.jsx)(f.Z,{unsafeCSS:I}),(0,g.jsx)("div",{ref:Y,className:"ProductCarousel-InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,g.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,g.jsx)(l.xu,{ref:$,alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:1,marginEnd:V?0:6,marginTop:1,position:"relative",width:q+4,children:e.map((e,a)=>{let{images:n,videos:l}=e,{thumbnail:t,mediaType:r}=l?{thumbnail:l.cover_image_url,mediaType:"video"}:{thumbnail:x.Z({images:n,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,g.jsx)(m,{currentlySelectedIndex:c,index:a,isDarkMode:X,isSelectOnHover:i,mediaType:r,onSelect:()=>{en(a,r)},pinId:d,size:q,thumbnail:t||"",viewParameter:h},`carousel-item-${e.image_signature||""}-${a}`)})})})}),!!F&&e.length>3&&(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:F>490?494:F+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:[M&&(0,g.jsx)(y,{direction:"up",hasBlurredBackground:Q,isDarkMode:X,onScroll:e=>{e.preventDefault(),e.stopPropagation(),el(-100)},size:u}),B&&(0,g.jsx)(y,{direction:"down",hasBlurredBackground:Q,isDarkMode:X,onScroll:e=>{e.preventDefault(),e.stopPropagation(),el(100)},size:u})]})]})}},935009:function(e,a,i){i.d(a,{Z:()=>g});var n,l=i(667294);i(167912);var t=i(883119),r=i(239321),s=i(907022),o=i(680391),d=i(902123),c=i(133546),u=i(785893);let p=void 0!==n?n:n=i(958519);function g({clientTrackingParams:e,color:a,link:i,onClickThrough:n,onLoad:g,pinKey:m,text:h,fullWidth:_=!1}){let y=(0,s.Z)(p,m),{peekCloseupEnabled:f}=(0,c.x4)(),x=(0,o.Z)({href:{pathname:i,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:y&&{attributionSourceId:y.attributionSourceId,board:y.board&&{url:y.board.url},campaignId:y.campaignId,entityId:y.entityId,isDownstreamPromotion:y.isDownstreamPromotion,isPromoted:y.isPromoted,pinner:y.pinner&&{username:y.pinner.username},pinPromotionId:y.pinPromotionId,promoter:y.promoter&&{entityId:y.promoter.entityId},storyPinDataId:y.storyPinDataId,trackingParams:y.trackingParams,advertiserId:y.advertiserId}}});return(0,l.useEffect)(()=>{"function"==typeof g&&g()},[g]),(0,u.jsx)(d.q,{children:({hovered:l,onMouseEnter:s,onMouseLeave:o})=>(0,u.jsx)(r.Z,{clientTrackingParams:e,hovered:l,pinKey:y,viewType:3,children:(0,u.jsx)(t.ZP,{_onMouseEnter:s,_onMouseLeave:o,color:a,fullWidth:f||_,href:i,onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),n({componentType:194}),x({event:e})},rel:"nofollow",size:"lg",text:h})})})}},184865:function(e,a,i){i.d(a,{i:()=>n,j:()=>l});let n=2,l=236},551474:function(e,a,i){i.d(a,{Z:()=>l});let n=new Set([90,88,89,91,101,92,131]);function l(e){return n.has(e)}},618003:function(e,a,i){i.d(a,{v:()=>n});let n=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"])},73910:function(e,a,i){i.d(a,{Z:()=>r});var n=i(618003);let l=new Set([92]),t=new Set([154]);function r(e){let a=[];return e.forEach(e=>{if("story"===e.type?l.has(e.container_type)||t.has(e.container_type)||n.v.has(e.story_type):1){let i=a[a.length-1];Array.isArray(i)?i.push(e):a.push([e])}else a.push(e)}),a}},81221:function(e,a,i){i.d(a,{Z:()=>t});var n=i(581722),l=i(861072);function t(){let e=(0,n.v9)(({advertiser:e})=>e);return(a,i)=>(0,l.default)(a,e,i)}},876645:function(e,a,i){i.d(a,{Z:()=>l});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function l({window:e,duration:a,run:i}){let l=n(),t=0,r=null,s=()=>{let o=n()-l,d=o-t;if(a===1/0)i(0,o,d);else{let e=o/a;if(e>=1){i(1,o,d);return}i(e,o,d)}t=o,r=e.requestAnimationFrame(s)};return{start:()=>{r=e.requestAnimationFrame(s)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},719301:function(e,a,i){i.d(a,{EF:()=>p,GM:()=>o,Hg:()=>F,Hl:()=>x,IR:()=>y,Je:()=>c,K3:()=>R,Lq:()=>v,O1:()=>D,Q6:()=>m,QE:()=>n,V3:()=>w,Z4:()=>_,c7:()=>f,cU:()=>r,cZ:()=>T,cg:()=>l,dZ:()=>t,gO:()=>k,hd:()=>b,j$:()=>P,j9:()=>K,kX:()=>S,oQ:()=>B,p:()=>N,pg:()=>Z,pk:()=>I,pt:()=>j,qq:()=>L,sy:()=>u,tP:()=>C,uE:()=>h,vk:()=>E,w2:()=>d,ww:()=>A,xX:()=>s,xw:()=>M,yR:()=>g});let n=3e3,l=280,t=500,r=1e4,s=250,o=250,d=251,c=50,u=50,p=20,g=20,m={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS"},h={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},_={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},y={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},f={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",CATALOG:"CATALOG"},x={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},k={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},S={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},P=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],v=["ADMIN","ANALYST","FINANCE_EDIT","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],b=["ADMIN","ANALYST","FINANCE_EDIT","FINANCE_VIEW","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],T=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],I=["CATALOGS_MANAGER","CATALOGS_VIEWER"],w={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},F=["PROFILE_PUBLISHER"],C={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},A={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},j={ACTIVE:0,PENDING:1},R={ACTIVE:"active",PENDING:"pending"},K="filter_type",E={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},L={WARNING:"WARNING",DEFAULT:"DEFAULT"},D={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},Z={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},M=new Date("2024-10-31T12:00"),N="Httpool by Aleph",B="pinterest-leads@alephholding.com"},663:function(e,a,i){i.d(a,{Z:()=>l});let n=["236x","474x","564x","736x"];function l({carouselData:e,images:a,product:i,shouldUnifyImageSizes:l}){return e?.carousel_slots?.length?e:i?.additional_images?.length?function(e,a,i,l,t){let r=[...e?[{images:e}]:[],...(a??[]).map(({canonical_images:e,image_signature:a})=>({images:e||void 0,image_signature:a||void 0}))];return{carousel_slots:l?function(e){function a(e,{imageKey:a,height:i,width:n}){return e.images&&e.images[a]&&(e={...e,images:{...e.images,[a]:{...e.images[a],height:i,width:n}}}),e}let i=n.map(function(a){let i=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].width||1/0));return{imageKey:a,height:i,width:n}});return e.map(e=>i.reduce(a,e))}(r):r,index:i||0,id:t}}(a,i.additional_images,e?.index,l,i.id):e||void 0}},400850:function(e,a,i){i.d(a,{A5:()=>t,ZP:()=>r,kH:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},l=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function t(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,a,i,n=!0){let s=l(i);return n&&(s.timeZone="UTC"),t()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(a)}},217703:function(e,a,i){i.d(a,{Z:()=>p});var n=i(667294),l=i(230201),t=i(629724),r=i(462867),s=i(573375),o=i(785893);function d(e,a,i){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let c=(0,t.Z)()&&(0,t.Z)().debug_impression_log,u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class a extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",c&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:a,contextLogData:i,impressionAuxFields:n,impressionType:l,loggingId:t,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:c}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=u[l],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...n};c({event_type:e.eventType,component:a,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...i}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:i}=(0,l.v)(),n=(0,r.Z)();return(0,o.jsx)(a,{...e,logContextEvent:i,viewer:n})}}},108473:function(e,a,i){i.d(a,{Z:()=>n});function n(e,a){let i=e.split(a?",":":");return i.length>0?a?i[0]:i[1]:""}},64627:function(e,a,i){i.d(a,{HM:()=>o,ZP:()=>c,oV:()=>d});let n="filter_queries",l="skin_tone",t="hair_pattern",r=`${l.toUpperCase()}_${n.toUpperCase()}`,s=`${t}_${n}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?l:t;function c(e,a){return"skin_tone"===e?a.skin_tone_filter_list.options:a.hair_pattern_filter_list}},331357:function(e,a,i){i.d(a,{U:()=>k});var n=i(27399),l=i(767415);let t="nic_v4",r=`${t}=1a`,s=`${t}=1b`,o=[r,s],d=["invite_code","invite","board_invite_code","sender"],c=null,u=e=>!!d.find(a=>e.includes(a)),p=e=>!!o.find(a=>e.includes(a)),g=e=>e.pathname.includes("/pin/")&&!u(e.search)&&!p(e.search),m=e=>e.includes("sender"),h=e=>!u(e)&&!m(e)&&e.includes(t),_=async e=>{let{resource_response:a}=await n.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!a)return(0,l.nP)(`${t}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(a.data);return(0,l.nP)(`${t}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},y=(e,a,i)=>{let n=e.search?"&":"?";return e.pathname+e.search+(n+(i?s:r)+a)},f=(e,a,i=!1,n)=>{if(!g(e))return;let r=i?"mweb":"web";if(!a){(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.attempt`);try{let s=y(e,a,i||!1);(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.success`),n(s)}catch{(0,l.nP)(`${r}.${t}.social_tracking_pin_non_invite.insert.caught_exception`)}},x=(e,a,i=!1,n)=>{c?f(e,c,i,n):(async()=>{let l=await _(a);c=l,f(e,l,i,n)})()},k=(e,a,i,n,r)=>{let s=i?"mweb":"web";(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.attempt`);try{!i&&n&&g(e)?((0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.search_string_eligible`),x(e,a,i,r)):h(e.search)&&(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,l.nP)(`${s}.${t}.social_tracking_pin_non_invite.caught_exception`)}}},391696:function(e,a,i){i.d(a,{T:()=>n,Z:()=>t});let{Provider:n,useHook:l}=(0,i(213491).Z)("NotificationContext"),t=l},240571:function(e,a,i){i.d(a,{G7:()=>o,Nl:()=>c,WE:()=>s,l6:()=>d,rh:()=>r});var n=i(249459),l=i(400850),t=i(696749);function r(e,a,i){if(!a.isAuth||!a.isPartner)return!1;let{creatorAnalytics:l}=e,t=!!e.storyPinDataId,r=!!e.videos?.videoList,s=!(t||r)&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,o=e.board?.privacy===n.ZP.BoardPrivacy.PUBLIC,d=(e.board?.privacy===n.ZP.BoardPrivacy.PROTECTED||o)&&!e.isRepin&&[a.id,i].includes(e.pinner?.entityId);return s||0!==Object.keys(l?._30dRealtime||{}).length||a.isPartner&&d||t&&d}function s(e,a,i,n,l,t){return e.isAuth&&!!a&&(i||n)&&!!l?.isLoaded&&!t}function o(e,a){return(0,t.Z)(a.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function d(e,a){return(0,t.Z)(a.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function c({i18n:e,isRealtime:a,humanizedTimeSinceLastUpdate:i,displayLifetime:n,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let a=n?(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,l.ZP)(o,s.startDate,l.kH.NUMERIC),endDate:(0,l.ZP)(o,s.endDate,l.kH.NUMERIC)}):(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(a)}return a?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):i&&d.push((0,t.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:i})),d.join(" ")}},589771:function(e,a,i){i.d(a,{f:()=>n,Z:()=>l});let n=e=>{let{h:a,m:i}=e||{},n={hours:a||0,minutes:i||0};return void 0===a&&void 0===i?null:{h:a,m:i,time:n,isoDuration:function({hours:e,minutes:a}){return`PT${e}H${a}`}(n)}},l=e=>{if(!e)return null;let{richMetadata:a}=e,{recipe:i}=a;return i&&i.name?{...e,recipe:{name:i.name,categorizedIngredients:i.categorized_ingredients,diets:i.diets,fromAggregatedData:i.from_aggregated_data,prepTime:n(i.cook_times?.prep),cookTime:n(i.cook_times?.cook),totalTime:n(i.cook_times?.total),servingSummary:i.servings_summary?.summary,serves:i.servings_summary?.serves}}:null}},569377:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:a}=e.pin;return a?{...e,richMetadata:a}:null}},49104:function(e,a,i){i.d(a,{Z:()=>o});let n=e=>{if(!e)return null;let{embed:a}=e.pin,{type:i,src:n,subtype:l}=a||{};return n?{...e,embed:{type:i,src:n,subtype:l}}:null};var l=i(232065);let t=e=>{if(!e)return null;let{videos:a}=e.pin,{id:i,video_list:n={}}=a||{},{V_720P:t,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,o=(0,l.V3)(r),d=(0,l.V3)(s),c=(0,l.V3)(t),u=c||o||d;return i&&u?{...e,video:{id:i,hasVideo:u,mp4:c||void 0,hls:o||void 0,hlsv3:d||void 0}}:null};var r=i(438303);let s=e=>{let{hlsv3:a,hls:i}=e,n=a||i;return!!(n&&(n.width??0)>(n.height??0))},o=e=>{if(!e)return null;let{video:a}=t((0,r.Z)(e))||{},{embed:i}=n((0,r.Z)(e))||{},l=!!(a&&s(a))||!!(i&&i.src&&"pinstory"!==i.subtype&&"gif"!==i.type);return{...e,isWideVideo:l}}},296339:function(e,a,i){i.d(a,{Z:()=>s});var n,l=i(667294);i(167912);var t=i(907022);let r=void 0!==n?n:n=i(988605);function s({pinKey:e}){let a=(0,t.Z)(r,e),i=a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x;return{getMainPinImage:(0,l.useCallback)(()=>({url:i?.url||"",height:i?.height||1,width:i?.width||1}),[i?.height,i?.url,i?.width])}}},35169:function(e,a,i){i.d(a,{Z:()=>s}),i(167912);var n,l=i(907022),t=i(903519);let r=void 0!==n?n:n=i(45169),s=e=>{let a=(0,l.Z)(r,e),i=(0,t.Z)(a);if(!a?.entityId)return null;let{trackedLink:n,link:s,method:o}=a,d=n||s;return d&&("catalog_bulk_create"===o||i)?decodeURIComponent(d):d}},903519:function(e,a,i){i.d(a,{Z:()=>r}),i(167912);var n,l=i(907022);let t=void 0!==n?n:n=i(37751),r=e=>{let a=(0,l.Z)(t,e);if(!a?.richMetadata)return!1;let{products:i}=a.richMetadata??{};return!!Array.isArray(i)&&i.some(e=>!!e&&e.name)}},438303:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>e?.pin?.id?e:null},477252:function(e,a,i){i.d(a,{Z:()=>c});var n=i(883119),l=i(138596),t=i(216975),r=i(385114),s=i(785893);function o(){return (0, l.ZP)()._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let a=(0,l.ZP)();return(0,t.nk)(a._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:a,freeShippingPrice:i,freeShippingValue:l}){let t;let c=a?[""]:[],{color:u="subtle",size:p="200"}=e||{};return Number.isFinite(l)?(0===l?t=(0,s.jsx)(o,{}):i&&(t=(0,s.jsx)(d,{freeShippingPrice:i})),t&&c.push((0,s.jsx)(n.kC,{direction:"row",children:t})),0===c.length)?null:(0,s.jsx)(n.xv,{color:u,size:p,children:(0,s.jsx)(r.Z,{color:u,items:c})}):null}},220347:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(830031),r=i(417394),s=i(785893);function o(e){let a=(0,t.E)();return(0,n.useEffect)(()=>{let i=document.getElementById(e.containerId),n=async(e,a)=>{let i=e.getBoundingClientRect(),n=a.getBoundingClientRect();return!!i&&!!n&&i.top>=n.top&&i.left>=n.left&&i.bottom<=n.bottom&&i.right<=n.right};if(null==i)a?.removeConstraint("thumbnailsLoaded"),(0,r.l7)("thumbnailsLoaded");else{let e=Array.from(i.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&n(e,i)),l=e.length,t=()=>{l-=1};e.forEach(e=>{e.onload=t(),0===l&&a?.markConstraintComplete("thumbnailsLoaded")})}},[e.containerId,a]),(0,s.jsx)(l.xu,{id:"imageContainerPerf",children:e.children})}},398006:function(e,a,i){i.d(a,{Jx:()=>I,ku:()=>C,PY:()=>F});var n=i(774303),l=i(705460),t=i(426035),r=i(827039),s=i(449896),o=i(192496),d=i(648447);let c=()=>(0,d.PJ)().reduce((e,{identifier:a,loadTime:i,renderTime:n})=>e[`${a}_loadTime`]?e[`${a}_dupe_loadTime`]?{...e,[`${a}_dupe_loadTime`]:i,[`${a}_dupe_renderTime`]:n}:e:{...e,[`${a}_loadTime`]:i,[`${a}_renderTime`]:n},Object.freeze({}));var u=i(649324),p=i(525939),g=i(591048);let m=e=>{let a=(0,g.y0)();return e.reduce((e,{name:i,match:n})=>a.filter(e=>n(e)).slice(0,2).reduce((e,a,n)=>({...e,...(0,r.jh)(`${i}${n?"_dupe1":""}_`,(0,u.Z)(a))}),e),Object.freeze({}))},h=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return m([{name:"mainImage",match:({name:a})=>a===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var _=i(780764),y=i(217472),f=i(337751),x=i(662896),k=i(679767),S=i(240083),P=i(296264);let v=(0,n.XV)("LightStopwatch"),b=()=>{let e=[],a=null;return window.PerformanceObserver&&(a=(0,k.Z)({entryTypes:["resource"]},a=>{(e=e.concat(a.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{a&&a.disconnect()}}},T={},I=({annotateExperiments:e,annotateMarks:a,annotateResourceTimingForSurface:i,name:n,pwtStaticContext:d})=>{let u=b(),p=(0,x.Z)(d.fullPath),g=!0,m={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,l.A9)(`TIMING.${n}`,{tags:{isAuth:d.isAuthenticated}});let k={type:"stopwatch",name:n,navigationType:"initial_app_load",isAuthenticated:d.isAuthenticated,surface:""},I={abort:p=>{if(!g){(0,l.H)("duplicate_abort_action",{action:n});return}g=!1;let x=(0,S.Z)(),v=(0,o.Z)(),b=u.get(),T={reason:p,type:"ABORT",traceId:(0,S.Z)(),startTime:0,endTime:P.Z?.now()||0,spans:[{name:"network_resources",id:x,startTime:0,endTime:P.Z?.now()||0,annotationMap:{},binaryAnnotationMap:{},parentId:null},...b.map(e=>(0,f.Z)((0,_.p)(e,[]),x)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",a&&a.length?(0,r.Hd)((0,t.gQ)(),a):{}),...(0,r.jh)("browser_",v?(0,r.D3)(v):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:k,pwtStaticContext:d,performanceResourceTimings:b,binaryAnnotations:m,type:"ABORT"})};(0,y.Z)({metricId:k,pwtStaticContext:d,result:T,isAuth:d.isAuthenticated})},error:(e,a)=>{let i={...a,action:n};if(!g){(0,l.H)("duplicate_error_action",i);return}e&&(0,l.H)(e,i),u&&u.disconnect(),g=!1},stop:p=>{if(!g){(0,l.H)("duplicate_stop_action",{action:n});return}g=!1,u.disconnect();let x=(0,S.Z)(),P=(0,o.Z)(),v=u.get(),b={type:"COMPLETE",traceId:(0,S.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:x,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...v.map(e=>(0,f.Z)((0,_.p)(e,[]),x)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",i?h(i):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",a&&a.length?(0,r.Hd)((0,t.gQ)(),a):{}),...(0,r.jh)("browser_",P?(0,r.D3)(P):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:k,pwtStaticContext:d,performanceResourceTimings:v,binaryAnnotations:m,type:"COMPLETE"})};(0,y.Z)({metricId:k,pwtStaticContext:d,result:b,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,a,i)=>{v(`adding binary annotation {${e}: ${String(a)}}`),m={...m,[e]:{value:a,type:i}}}};return T[n]=I,I},w=e=>T[e],F=e=>!!w(e),C=({stopwatchName:e,binaryAnnotationName:a,value:i,annotationType:n})=>{let l=w(e);l&&l.addBinaryAnnotation(a,i,n)}},662896:function(e,a,i){i.d(a,{Z:()=>n});function n(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let i=a.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}},525939:function(e,a,i){i.d(a,{Z:()=>l,f:()=>n});let n="closeupImage",l=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},912023:function(e,a,i){i.d(a,{Z:()=>g});var n=i(667294),l=i(883119),t=i(361004),r=i(138596),s=i(696749),o=i(785893);function d({category:e,ingredients:a,textSize:i="300"}){return(0,o.jsxs)(l.xu,{children:[e&&(0,o.jsx)(l.xu,{children:(0,o.jsx)(l.xv,{size:i,weight:"bold",children:e})}),(0,o.jsx)("ul",{children:a.map((e,a)=>(0,o.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,o.jsx)(l.xu,{marginTop:1,children:(0,o.jsxs)(l.xv,{size:i,children:[" ",e.amt||null," ",e.name]})})},a))})]})}var c=i(55475),u=i(234278),p=i(133546);function g({recipeProps:e,marginOverrides:a}){var i;let g=(0,r.ZP)(),{image:m,name:h,categorizedIngredients:_}=e.recipe,{isCloseupRelatedPinsAboveTheFoldEnabled:y,peekCloseupEnabled:f}=(0,p.x4)(),x=0;if(_&&_.length){let e=[];_.forEach(a=>(x+=a.ingredients.length,e.push(a.ingredients)))}let k=f?(i=x,(0,s.Z)(g.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', i, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:i.toString()})):g._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,o.jsx)(l.xu,{marginBottom:y?2:void 0,marginTop:y?2:8,children:(0,o.jsxs)(c.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,o.jsx)("meta",{content:h,itemProp:"name"}),(0,o.jsx)("meta",{content:m,itemProp:"image"}),(0,o.jsx)(u.Z,{heading:k,children:(0,o.jsx)(l.xu,{marginTop:y?void 0:4,children:_.map(({category:e,ingredients:i},r)=>{let s=`ingredient-${r}`;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(l.xu,{marginBottom:a?.ingredientMarginBottom||4,children:(0,o.jsx)(d,{category:e,ingredients:i,textSize:y?"200":t.n})})},s)})})})]})})}},481923:function(e,a,i){i.d(a,{Z:()=>l});var n=i(216975);function l({m:e,h:a,rm:i,rh:t},r,s=!1){return e&&(!a||t<=0)?s?(0,n.nk)(r._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):(0,n.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', i, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):a?s?(0,n.nk)(r._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:a.toString(),mins:e.toString()}):(0,n.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null}},692763:function(e,a,i){i.d(a,{Z:()=>r});var n=i(507006),l=i(216975),t=i(785893);function r({m:e,h:a,rm:i,rh:r},s){return e&&(!a||r<=0)?(0,l.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:i},"recipe-minutes")}):a?(0,l.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},233377:function(e,a,i){i.d(a,{Z:()=>l});var n=i(216975);function l(e,a){return e<60?(0,n.nk)(a._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,n.nk)(a._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},55475:function(e,a,i){i.d(a,{Z:()=>l});var n=i(785893);let l=e=>{let a=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...a,children:e.children||null})}},829485:function(e,a,i){i.d(a,{Z:()=>s});var n=i(876645);function l({scrollPosition:e,containerSize:a,contentSize:i,intendedDistance:n,extendToEdgeDistance:l=0}){let t=i-a,r=n;return r=Math.max(r=Math.min(r,t-e),-e),n>0&&t-(e+r)<=l?r=t-e:n<0&&e+r<=l&&(r=-e),r}let t={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,a,i,o={}){let d={...t,...o},{scrollLeft:c,scrollTop:u,scrollWidth:p,scrollHeight:g,clientWidth:m,clientHeight:h}=e,_=l({scrollPosition:c,containerSize:m,contentSize:p,intendedDistance:a,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=l({scrollPosition:u,containerSize:h,contentSize:g,intendedDistance:i,extendToEdgeDistance:d.extendToEdgeDistanceY}),f=Math.max(Math.abs(Math.floor(_/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(f=Math.max(f,d.minScrollDuration));let x=r[d.easingFunction]||r["ease-in-out"];return(0,n.Z)({window,duration:f,run:a=>{e.scrollLeft=c+_*x(a),e.scrollTop=u+y*x(a),1===a&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},100723:function(e,a,i){i.d(a,{Z:()=>r});var n=i(460575);let l=/\{\s*(\w+)\s*\}/g,t=(e,a)=>(0,n.Z)(l,e,a);function r({args:e,format:a}){return t(a||"",(e||[]).reduce((e,a,i)=>({...e,[i]:a.text}),{}))}},281846:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(138596),r=i(133546),s=i(785893);function o({content:e,header:a,headerWidth:i,isCollapsible:o=!0,isContentLoaded:d=!0,isOpenByDefault:c,maxHeight:u,onToggle:p,onOpen:g,previewContent:m,previewContentHeight:h,shouldShowComments:_,shouldToggleOnBodyTap:y,arrowDirection:f}){let[x,k]=(0,n.useState)(!1),[S,P]=(0,n.useState)(0),v=(0,n.useRef)(null),b=(0,t.ZP)(),T=(0,r.x4)();(0,n.useEffect)(()=>{c&&d&&k(!0)},[c,d]),(0,n.useLayoutEffect)(()=>{if(void 0!==u)return;let e=()=>{if(v.current){let e=v.current.getBoundingClientRect().height;e>S&&P(Math.ceil(e))}},a=new MutationObserver(e);return v.current&&a.observe(v.current,{childList:!0,subtree:!0}),requestAnimationFrame(e),()=>{a.disconnect()}},[S,u]);let I=()=>{o&&(k(!x),g&&!x&&g(),p&&p(!x))},w=f||"arrow-forward";return(0,s.jsx)(l.iP,{onTap:y?I:void 0,children:(0,s.jsxs)(l.kC,{direction:"column",children:[(0,s.jsx)(l.xu,{paddingY:m?1:5,width:i,children:(0,s.jsx)(l.iP,{onTap:I,children:(0,s.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[T?(0,s.jsx)(l.X6,{size:"400",children:a}):(0,s.jsx)(l.xv,{size:"300",weight:"bold",children:a}),o&&(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:x?`rotate(${"arrow-down"===w?"180deg":"-90deg"})`:""}},marginEnd:_?0:4,children:(0,s.jsx)(l.iP,{onTap:I,children:_?(0,s.jsx)(l.kC,{justifyContent:"center",width:48,children:(0,s.jsx)(l.JO,{accessibilityLabel:b._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:w,size:20})}):(0,s.jsx)(l.JO,{accessibilityLabel:b._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:w,size:T?16:20})})})]})})}),(0,s.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${x?"0s":"0.3s"}`,visibility:x||m?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!x&&m?h:x?u||S:0,marginEnd:m?7:0,opacity:x||m?1:0,overflow:void 0===u?"hidden":"auto",children:[(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{display:x?"none":"block"}},children:m}),(0,s.jsx)(l.xu,{ref:v,dangerouslySetInlineStyle:{__style:{visibility:x?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${x||m?"0s":"0.3s"}`}},opacity:x||m?1:0,children:e})]})]})})}},439048:function(e,a,i){i.d(a,{Z:()=>_,m:()=>g});var n=i(667294),l=i(883119),t=i(138596),r=i(59111),s=i(774838),o=i(133546),d=i(632492),c=i(31863),u=i(207095),p=i(785893);let g=4,m=`
@keyframes showShadow {
  0% {
    box-shadow: none;
  }

  100% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }
}

@keyframes hideShadow {
  0% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }

  100% {
    box-shadow: none;
  }
}
`,h=({onClick:e,showShadow:a,size:i="lg"})=>{let r=(0,t.ZP)();return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{animation:a?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,p.jsx)(l.hU,{accessibilityLabel:r._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:i})},"back-button-icon")})};function _({handleScroll:e,marginTop:a,onClick:i,showShadow:t}){let{closeupWithinMasonryEnabled:_,isCloseupRelatedPinsAboveTheFoldEnabled:y}=(0,o.x4)(),{isRTL:f}=(0,s.B)(),x=(0,u.Z)();y&&(x=_?0:-12);let k=f?{right:0}:{left:x};(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[]);let S=a||0===a?4*a:4*g;return y&&(S=0),y?(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:S,...k}},"data-test-id":"back-button",display:"flex",paddingX:_?0:4,position:y?"relative":"fixed",children:(0,p.jsx)(h,{marginTop:a,onClick:i,showShadow:t,size:_?"xl":"lg"})}):(0,p.jsxs)(c.Z,{position:"fixed",style:{zIndex:d.Cq,width:"60px",maxWidth:"265px"},children:[(0,p.jsx)(r.Z,{unsafeCSS:m}),(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:S,...k}},"data-test-id":"back-button",display:"flex",paddingX:4,position:"fixed",children:(0,p.jsx)(h,{marginTop:a,onClick:i,showShadow:t})})]})}},385114:function(e,a,i){i.d(a,{Z:()=>o});var n=i(667294),l=i(883119),t=i(380938),r=i(785893);function s(e){return null!=e}function o({additionalPadding:e,color:a="darkGray",hideFollowerCount:i,inline:o,items:d}){let c=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(t.Z,{color:a})}):(0,r.jsx)(t.Z,{color:a}),u=d.filter(s).reduce((e,a,n)=>[...e,0===n||i?null:c,a],[]).filter(s).map((e,a)=>(0,r.jsx)(n.Fragment,{children:e},a));return 0===u.length?null:o?(0,r.jsx)(l.xu,{children:u}):(0,r.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:u})}},605203:function(e,a,i){i.d(a,{Z:()=>n});function n(e){try{return decodeURIComponent(e)}catch{return null}}},415927:function(e,a,i){i.d(a,{Z:()=>l});var n=i(667294);let l=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},804748:function(e,a,i){i.d(a,{Z:()=>r});var n=i(667294),l=i(562400),t=i(730448);let r=(e="throttle")=>{let[a,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let a="throttle"===e?(0,t.Z)(()=>i(window.scrollY),10):(0,l.Z)(()=>i(window.scrollY),10);return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),a}},669787:function(e,a,i){i.d(a,{Z:()=>t});var n=i(613567),l=i(739405);function t(){let{checkExperiment:e}=(0,n.F)();return"desktop"===(0,l.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},417525:function(e,a,i){i.d(a,{GI:()=>r,oo:()=>s,xN:()=>o});var n=i(861072),l=i(247387),t=i(943893);let r=e=>e?.segment_metadata?.sales_channel!=="ENTERPRISE",s=(e,a)=>e===t.$o.APPROVED&&a,o=(e,a)=>{let i=a?`?pinId=${a}`:"";return r(e)?l.auO+(0,n.default)("createAutomated")+i:l.auO+(0,n.default)("create")+i}},271875:function(e,a,i){i.d(a,{Z:()=>t,k:()=>n});let{Provider:n,useHook:l}=(0,i(213491).Z)("Conversations"),t=l},330572:function(e,a,i){i.d(a,{Z:()=>t});var n=i(138596),l=i(785893);let t=function(){let e=(0,n.ZP)();return(0,l.jsx)("div",{className:"errorMessage",children:(0,l.jsx)("div",{className:"standaloneErrorPage",children:(0,l.jsx)("div",{children:e._('Whoops! We couldn\u2019t find that page.', ' - ', ' -- ')})})})}},943893:function(e,a,i){i.d(a,{$o:()=>r,GW:()=>n,Jo:()=>t,MS:()=>y,Q8:()=>h,VX:()=>g,Zo:()=>o,aD:()=>d,b2:()=>u,g2:()=>p,s4:()=>s,tK:()=>_,ym:()=>c,zQ:()=>m});let n="/business/hub/?show_vmp=true",l=["FR"],t=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!l.includes(e)),r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),o=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),d=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),c="Verified merchant program not yet available in this country",u=2e3,p={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},g=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),m=[g.ACCOUNT_AGE,g.DOMAIN_AGE,g.PROFILE_IMAGE,g.PROFILE_COVER_IMAGE,g.BIO,g.SHOP_TAB,g.PINNER_FEEDBACK],h=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),_=30,y=.5},68876:function(e,a,i){i.d(a,{Z:()=>s});var n=i(495839),l=i(774838),t=i(884541),r=i(785893);function s({children:e,type:a}){let i=(0,l.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...i.isAuthenticated?["authDesktop"===a?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],i.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===a?["closeup_auth_related_pins_above_fold_2024_dweb"]:[],..."authDesktop"===a?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===a?[...t.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},234278:function(e,a,i){i.d(a,{Z:()=>u});var n=i(667294),l=i(883119),t=i(879405),r=i(230201),s=i(774838),o=i(739405),d=i(133546),c=i(785893);function u({auxData:e,children:a,collapseButtonElementType:i,collapseByDefault:u=!0,componentType:p,displayViewState:g,expandButtonElementType:m,forceTappableHeader:h,headerHeight:_,headerPaddingRight:y,headerPreview:f,heading:x,surface:k,viewParameter:S,viewType:P}){let v=(0,o.HG)(),{isBot:b}=(0,s.B)(),{logContextEvent:T}=(0,r.v)(),{isCloseupRelatedPinsAboveTheFoldEnabled:I,setIsShoppingModuleExpanded:w}=(0,d.x4)(),F=(0,n.useRef)(null),[C,A]=(0,n.useState)(!b&&u||[1,2].includes(g));return(0,n.useEffect)(()=>{w&&w(!C)},[]),(0,c.jsxs)(l.kC,{dataTestId:"collapsible-layout",direction:"column",gap:v&&I?0:4,children:[(0,c.jsx)(t.Z,{collapsed:C,displayViewState:g,forceTappableHeader:h,headerHeight:_,headerPaddingRight:y,headerPreview:f,heading:x,onClick:()=>{A(!C),w&&w(C),T({aux_data:e,component:p,element:C?m:i,event_type:v?101:102,view_parameter:S,view_type:P})},showArrow:!0,surface:k}),v&&I?(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:I?"height 600ms cubic-bezier(.25,1,.5,1)":void 0}},"data-test-id":`collapsible-layout-content-${C?"collapsed":"expanded"}`,height:C?"0px":`${F?.current?.scrollHeight}px`,marginBottom:I&&!C?1:void 0,overflow:"hidden",children:(0,c.jsx)(l.xu,{ref:F,children:a})}):!C&&(0,c.jsx)(l.xu,{children:a})]})}},427488:function(e,a,i){i.d(a,{Z:()=>j});var n,l=i(667294);i(167912);var t=i(883119),r=i(907022),s=i(59111),o=i(680391),d=i(35169),c=i(903519),u=i(55475),p=i(145626),g=i(462867),m=i(15392),h=i(133546),_=i(785893);let y=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,f=void 0!==n?n:n=i(752395),x=e=>{let{carouselData:a,title:i}=e??{};if(i)return!0;if(a){let{carouselSlots:e,index:i}=a;if(null!=i&&e?.[i]&&e[i].title)return!0}return!1},k=e=>{let{clientTrackingParams:a,children:i,isLink:n=!0,onClick:l,pin:r}=e,s=(0,d.Z)(r),c=(0,g.Z)(),{closeupWithinMasonryEnabled:u,peekCloseupEnabled:p}=(0,h.x4)(),m=r.imageSpec_orig?.url&&r.imageSpec_orig.width&&r.imageSpec_orig.height?r.imageSpec_orig:null,y=i;if(r.carouselData){let{carouselSlots:e,index:a}=r.carouselData;e&&null!=a&&e[a]&&(s=e[a].link||s,y=e[a].title||y)}let f=r?.originPinner&&c.isAuth&&c.id===r.originPinner.entityId||!r.isGoLinkless,x=(0,o.Z)({href:{pathname:s??m?.url??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:r&&{advertiserId:r.advertiserId,attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams}}});if(!e.pin.entityId)return null;let k=y&&(0,_.jsx)(t.X6,{accessibilityLevel:1,lineClamp:p?2:void 0,size:u?"400":"500",children:y});return(0,_.jsx)("div",{itemProp:"name",children:(n||s)&&f?(0,_.jsx)(t.rU,{href:s??m?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),l&&l(),x({event:e})},rel:"nofollow",target:"blank",underline:"none",children:k}):k})},S=e=>{if(!e.pin.entityId)return null;let{entityId:a}=e.pin,i=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,_.jsxs)(t.xu,{children:[(0,_.jsx)("meta",{content:`https://${p.Vi}/pin/${a}/`,itemProp:"url"}),i&&(0,_.jsx)("meta",{content:i.url,itemProp:"image"})]})},P=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{gridTitle:i,title:n}=a||{},t=i||n;return(0,_.jsx)(l.Fragment,{children:t&&(0,_.jsx)(u.Z,{children:(0,_.jsx)(k,{...e,children:t})})})},v=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:i,gridTitle:n}=a||{},{title:t}=i||{};return(0,_.jsx)(l.Fragment,{children:(n||t)&&(0,_.jsx)(u.Z,{itemType:m.iB.PRODUCT,children:(0,_.jsxs)(k,{...e,children:[n||t,(0,_.jsx)(S,{...e})]})})})},b=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:i,gridTitle:n}=a||{},{title:l}=i||{};return(0,_.jsx)(u.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(k,{...e,children:n||l})})},T=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:a}=e.pin.richMetadata.recipe;return(0,_.jsx)(u.Z,{itemType:m.iB.RECIPE,children:(0,_.jsx)(k,{...e,children:a})})},I=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,_.jsx)(u.Z,{children:(0,_.jsx)(k,{...e,children:(0,_.jsx)(t.xu,{children:e.pin.richMetadata.tutorial.name})})}),w=e=>{let a=!!e.pin.richSummary?.displayName;return a?(0,_.jsx)(u.Z,{children:(0,_.jsx)(k,{...e,children:(0,_.jsx)(t.xu,{children:a})})}):null},F=e=>{if(!e.pin.entityId)return null;let{gridTitle:a}=e.pin||{};return(0,_.jsx)(u.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(k,{...e,children:a})})};function C(e){let{carouselInfo:a}=e,{carouselData:i}=a||{},{carousel_slots:n}=i||{};return((n||[])[0]||{}).title}let A=e=>{let{pin:a,...i}=e;if(!e.pin.entityId)return null;let n=C(i);return(0,_.jsx)(u.Z,{itemType:m.iB.ARTICLE,children:(0,_.jsx)(k,{...e,children:n})})},j=({pinKey:e,...a})=>{let i=(0,r.Z)(f,e),{carouselInfo:n,onTitleCheck:o}=a,d=!!i.entityId&&!!i.gridTitle,u=!!i.richMetadata?.tutorial?.name,p=!!i.richMetadata?.recipe?.name,g=!!i.richMetadata?.article?.name,m=!!i.richSummary?.displayName,k=(0,c.Z)(i),{isCloseupRelatedPinsAboveTheFoldEnabled:S,clientTrackingParams:j}=(0,h.x4)(),R=F,K=!1;return n&&i.entityId&&C(a)?R=A:k?R=v:x(i)?R=P:u?R=I:p?R=T:g?R=b:m?R=w:d||(K=!0),(0,l.useEffect)(()=>{o?.(K)},[K,o]),(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(s.Z,{unsafeCSS:y}),(0,_.jsx)("div",{className:"CloseupTitleCard",children:(0,_.jsx)(t.xu,{marginTop:S?void 0:4,children:(0,_.jsx)(R,{...a,clientTrackingParams:j,pin:i})})})]})}},289747:function(e,a,i){i.d(a,{Z:()=>d});var n=i(883119),l=i(788730),t=i(774838),r=i(15392),s=i(133546),o=i(785893);function d({children:e,isStoryPin:a=!1,isWideVideo:i=!1}){let d;let{showCloseupContentRight:c,showProductDetailPage:u,closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m,maxWidth:h}=(0,s.x4)(),{fiftyPercentWidth:_}=(0,l.Re)(),y=i?r.KP:h,f=p?r.Gg:r.CI,x=i?r.Gg:u?f:1050,{isRTL:k}=(0,t.B)();return a?(0,o.jsx)(n.xu,{bottom:!0,display:"flex",left:k,position:"absolute",right:!k,top:!0,width:g?_:r.Gg,children:e}):(p||g||(d=(c||i)&&"lg"===m?y:x),(0,o.jsx)(n.xu,{maxWidth:d,width:i||p?"100%":void 0,children:e}))}},855574:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(15392),t=i(133546),r=i(785893);function s({children:e,isStoryPin:a=!1,isScheduledPin:i=!1,isWideVideo:s=!1}){let{showCloseupContentRight:o,viewportSize:d,paneWidth:c,maxWidth:u,isCloseupRelatedPinsAboveTheFoldEnabled:p}=(0,t.x4)(),g=i?l.bx:u;return(0,r.jsx)(n.kC,{direction:o?"row":"column",flex:"grow",width:s||p?void 0:!o||"lg"!==d||a||s?c:g,children:e})}},60707:function(e,a,i){i.d(a,{Z:()=>t});var n=i(566431),l=i(127051);let t=(e,a)=>{let i=e.action||void 0,t=(0,l.Z)({url:e.location.search});return"PUSH"===i?"click":("POP"!==i||e.location.key)&&"news_hub"!==t.entrySource?a&&(0,n.sV)(a)?"deeplink":"click":"deeplink"}},76849:function(e,a,i){i.d(a,{Yf:()=>n});let n=e=>{let{url:a,width:i,height:n}=e||{};return a&&i&&n?{url:a,width:i,height:n}:void 0}},715987:function(e,a,i){i.d(a,{Z:()=>d});var n,l=i(667294);i(167912);var t=i(907022),r=i(891851),s=i(575647);let o=void 0!==n?n:n=i(656203);function d({logCommerceAuxData:e,deepLinkBackGoesToBoard:a,element:i,goBack:n,pinKey:d,routePush:c,trafficSource:u,viewer:p,requestContext:g,viewType:m,viewParameterType:h,componentType:_},y){let f=(0,t.Z)(o,d),x=(0,s.Z)(f);return{onHandleBackButtonClick:(0,l.useCallback)(()=>{let l=f.promotedLeadForm?.leadId,t=e?x():null;f.promotedIsLeadAd?(y({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:f.entityId,aux_data:{...t,lead_form_id:l,is_lead_ad:1}}),y({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:f.entityId,aux_data:{lead_form_id:l,is_lead_ad:1}})):y({aux_data:t,event_type:101,view_type:m||3,view_parameter:h||(0,r.Z)({hasPin:!0,hasPinRichMetadata:!!f.richMetadata,hasPinRichMetadataProducts:!!f.richMetadata?.products,hasPinRichMetadataArticle:!!f.richMetadata?.article,hasPinRichMetadataRecipe:!!f.richMetadata?.recipe,hasPinStoryPinData:!!f.storyPinData}),..._?{component:_}:void 0,element:i||34});let s="deep_linking"===u&&!a,o=p.partner?"/homefeed/":"/",{utm_source:d,news_hub_id:k}=function(e){let a=e.searchParams;return{utm_source:a.get("utm_source")??"",utm_medium:a.get("utm_medium")??"",utm_campaign:a.get("utm_campaign")??"",news_hub_id:a.get("news_hub_id")??""}}(new URL(g.fullPath,g.origin)),S=`/news_hub/${k}`;return"31"==`${d}`&&k?c(S):s?c(o):n()},[_,a,i,x,n,e,y,f.entityId,f.promotedIsLeadAd,f.promotedLeadForm?.leadId,f.richMetadata,f.storyPinData,g.fullPath,g.origin,c,u,h,m,p.partner])}}},625655:function(e,a,i){i.d(a,{Z:()=>s});var n=i(883119),l=i(351736),t=i(806513),r=i(785893);let s=function({marginStart:e=t.D6}){let a=(0,l.vs)();return(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:a?l.Ov:"#E9E9E9"}},height:1})}},194801:function(e,a,i){i.d(a,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},410890:function(e,a,i){i.d(a,{Z:()=>d});var n=i(883119),l=i(924591),t=i(138596),r=i(216975),s=i(613567),o=i(785893);function d({boardName:e,boardUrl:a,isBoardlessPin:i,isFromPinBuilder:d,hasNewPin:c,onChangeButtonClick:u,onVisitButtonClick:p=()=>{},onHide:g,onUndo:m,pinImageUrl:h}){let _;let y=(0,t.ZP)(),{checkExperiment:f}=(0,s.F)(),x=i&&f("web_all_toasts_lead_to_boards").anyEnabled?"/me/pins/":"/me/";return d?_={accessibilityLabel:y._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:y._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:p}:(u||m)&&(_={accessibilityLabel:c&&i&&u?y._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):y._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:c&&i&&u?y._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):y._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:c&&i&&u?()=>u():m}),(0,o.jsx)(l.Z,{duration:i?6e3:3e3,imageUrl:h,onHide:g,primaryAction:_,text:(0,o.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,r.nk)(y._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,o.jsx)(n.rU,{href:i?x:a??"",children:(0,o.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:i?{icon:(0,o.jsx)(n.JO,{accessibilityLabel:y._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0})}},234392:function(e,a,i){i.d(a,{Z:()=>r});var n=i(883119),l=i(523614),t=i(785893);function r({coverImages:e,height:a,isHovered:i,onClick:r,onMouseEnter:s,onMouseLeave:o,textType:d,text:c,url:u,width:p,dataTestId:g}){let m=e&&(e["236x"]||e["280x280"]);return(0,t.jsx)(l.Z,{backgroundColor:"gray",coverImage:m,height:a,isHovered:i,onClick:r,onMouseEnter:s,onMouseLeave:o,url:u,width:p,children:(0,t.jsx)(n.xu,{alignItems:"center","data-test-id":g,display:"flex",height:a,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,t.jsx)(n.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,t.jsx)(n.X6,{align:"center",color:"light",size:"500",children:c})}):(0,t.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,t.jsx)(n.xv,{align:"center",weight:"bold",children:c})})})})}},548782:function(e,a,i){i.r(a),i.d(a,{default:()=>g});var n=i(883119),l=i(230201),t=i(806513),r=i(79271),s=i(100723),o=i(574991),d=i(133546),c=i(991449),u=i(785893);let p=t.yF;function g({contextLogData:e,bubbles:a,id:i,referringSource:t,slotIndex:g,storyType:m,title:h,titleIcon:_,viewType:y,viewParameter:f}){let{logContextEvent:x}=(0,l.v)(),{closeupWithinMasonryEnabled:k}=(0,d.x4)(),S=a?.map(({type:e,id:a})=>e+":"+a).join("|"),P={story_type:m,...e,content_ids:S};return(0,u.jsx)(r.F,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:g,viewParameter:f,viewType:y,children:({impressionTrackerRef:e})=>(0,u.jsxs)(n.xu,{ref:e,children:[h&&(0,u.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof _&&_!==o.J&&(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,u.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,o.Z)(_),size:14})}),(0,u.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(h)})]}),a?.map((e,a)=>u.jsx(n.xu,{flex:"none",paddingY:1,children:u.jsx(c.Z,{bubble:e,contextLogData:P,height:103,onClick:e=>{x({event_type:101,object_id_str:e,view_type:y,view_parameter:f,component:200,aux_data:P})},referringSource:t,slotIndex:a,storyId:i,viewParameter:f,viewType:y,width:k?"100%":p})},`bubble-${e.id}`))]})})}},241028:function(e,a,i){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function l(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}i.d(a,{X:()=>l,d:()=>n})},1769:function(e,a,i){i.d(a,{Z:()=>r});var n=i(147950),l=i(481923),t=i(233377);function r(e,a,i,r){switch(e){case 0:return function({isShortened:e,minutes:a,i18n:i}){if(!a)return"";if(e)return(0,t.Z)(a,i).join("");let r=(0,l.Z)((0,n.X)({m:a}),i);if(!r)return"";let s=r.join(""),o=i._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return`${o}: ${s}`}({minutes:parseInt(a,10),i18n:i,isShortened:r});case 1:return function({servingSize:e,i18n:a}){return e?1===e?`${e} ${a._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${a._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(a,10),i18n:i});case 2:return function({difficulty:e,i18n:a}){let i={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},n=a._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin');return`${n}: ${i[e??"1"]}`}({difficulty:a,i18n:i});default:return""}}},977854:function(e,a,i){i.d(a,{Z:()=>n});let n=e=>e.join(` \u2022 `)},380575:function(e,a,i){i.d(a,{Z:()=>l});var n=i(785893);function l({children:e,dir:a="auto"}){return(0,n.jsx)("div",{"data-test-id":"safeTextDirection",dir:a,children:e})}},292917:function(e,a,i){i.d(a,{j:()=>l});let n=RegExp("^[^A-Za-z--A-Za-z----]*[---]");function l(e){return n.test(e||"")?"rtl":"ltr"}},276469:function(e,a,i){i.d(a,{X:()=>n,j:()=>l});let n={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},l=({components:e,pinDescription:a})=>e&&0!==e.length?e:[{content:a,type:n.PARAGRAPH}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57079-fa47c3b7bd581220.mjs.map